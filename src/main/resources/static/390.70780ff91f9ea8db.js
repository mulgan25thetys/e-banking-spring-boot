"use strict";(self.webpackChunke_banking=self.webpackChunke_banking||[]).push([[390],{4390:(b,m,d)=>{d.r(m),d.d(m,{AuthentificationModule:()=>qe});var u=d(6895),p=d(6148),e=d(4650),c=d(7053);let w=(()=>{class o{constructor(t,n){this.authenticationService=t,this.router=n}ngOnInit(){this.authenticationService.confirmAccount().subscribe(t=>{this.router.navigate(["/auth/se-connecter"])},t=>{alert(t.message),this.router.navigate(["/auth/se-connecter"])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.$),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirmation"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"confirmation works!"),e.qZA())}}),o})();var g=d(5783);class x{}var T=d(1383),a=d(433);function A(o,r){if(1&o&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.classmsg),e.xp6(1),e.Oqu(t.message)}}function M(o,r){1&o&&(e.TgZ(0,"p",17),e._uU(1," Entrer votre adresse email "),e.qZA())}function q(o,r){1&o&&(e.TgZ(0,"p",17),e._uU(1," Adresse email invalide "),e.qZA())}function J(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,M,2,0,"p",16),e.YNc(2,q,2,0,"p",16),e.qZA()),2&o){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function E(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",12),e._uU(2,"Email"),e.qZA(),e.TgZ(3,"input",13,14),e.NdJ("ngModelChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.user.email=s)}),e.qZA(),e.YNc(5,J,3,2,"div",15),e.qZA()}if(2&o){const t=e.MAs(4),n=e.oxw();e.xp6(3),e.ekj("is-invalid",t.invalid&&t.touched),e.Q6J("ngModel",n.user.email),e.xp6(2),e.Q6J("ngIf",t.errors&&(t.valid||t.touched))}}function U(o,r){1&o&&(e.TgZ(0,"p",17),e._uU(1," Entrer le code de validation "),e.qZA())}function I(o,r){1&o&&(e.TgZ(0,"p",17),e._uU(1," Entrer un num\xe9ro \xe0 6 nombre "),e.qZA())}function N(o,r){1&o&&(e.TgZ(0,"p",17),e._uU(1," Entrer un num\xe9ro \xe0 6 nombre "),e.qZA())}function y(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,U,2,0,"p",16),e.YNc(2,I,2,0,"p",16),e.YNc(3,N,2,0,"p",16),e.qZA()),2&o){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function R(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",18),e._uU(2,"Code de validation"),e.qZA(),e.TgZ(3,"input",19,20),e.NdJ("ngModelChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.validation.code=s)}),e.qZA(),e.YNc(5,y,4,3,"div",15),e.qZA()}if(2&o){const t=e.MAs(4),n=e.oxw();e.xp6(3),e.ekj("is-invalid",t.invalid&&t.touched),e.Q6J("ngModel",n.validation.code),e.xp6(2),e.Q6J("ngIf",t.errors&&(t.valid||t.touched))}}function P(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResetPassword())}),e._uU(1," Envoyer moi\n"),e.qZA()}if(2&o){e.oxw();const t=e.MAs(4);e.Q6J("disabled",t.invalid)}}function k(o,r){1&o&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e.qZA())}function Q(o,r){1&o&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e.qZA())}function Y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResendCode())}),e._uU(2," Renvoyer le code "),e.YNc(3,k,2,0,"div",24),e.qZA(),e.TgZ(4,"button",25),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onCodeValidation())}),e._uU(5," Valider "),e.YNc(6,Q,2,0,"div",24),e.qZA()()}if(2&o){const t=e.oxw(),n=e.MAs(4);e.xp6(3),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("disabled",n.invalid),e.xp6(2),e.Q6J("ngIf",t.loading)}}let O=(()=>{class o{constructor(t,n,s,i){this.route=t,this.router=n,this.authenticationService=s,this.cookie=i,this.validation=new x,this.formTitle="Forgot password",this.formText="Entrer votre adresse email et un code de validation vous sera envoy\xe9.",this.loading=!1,this.submitted_reset=!1,this.message="",this.classmsg="",this.user=new g.n}ngOnInit(){(this.cookie.getCookie("email-reset")||this.cookie.getCookie("forgot-password"))&&(this.submitted_reset=!0,this.formText="Entrer le code de validation envoy\xe9 \xe0 votre adresse email!"),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}onResetPassword(){this.loading=!0,$("#btn-forgot").prop("disabled",!0),$("#btn-validation").prop("disabled",!0),this.authenticationService.forgotPassword(this.user).subscribe(t=>{this.message="",this.loading=!1,this.submitted_reset=!0,$("#btn-forgot").prop("disabled",!1),$("#btn-validation").prop("disabled",!1),this.formTitle="Validation",this.formText="Entrer le code de validation envoy\xe9 \xe0 votre adresse email!",this.classmsg="alert alert-success",this.message="Verifiez votre adresse email un code vous a \xe9t\xe9 envoy\xe9!"},t=>{this.loading=!1,$("#btn-forgot").prop("disabled",!1),$("#btn-validation").prop("disabled",!1),this.classmsg="alert alert-danger",this.message=t})}onResendCode(){this.cookie.deleteCookie("email-reset"),this.cookie.deleteCookie("forgot-password"),location.reload()}onCodeValidation(){$("#btn-validation").prop("disabled",!0),$("#btn-forgot").prop("disabled",!0),this.authenticationService.validCode(this.validation).subscribe(t=>{$("#btn-validation").prop("disabled",!1),$("#btn-forgot").prop("disabled",!1),this.router.navigate(["/auth/recuperation-de-mot-passe"])},t=>{this.classmsg="alert alert-danger",$("#btn-validation").prop("disabled",!1),$("#btn-forgot").prop("disabled",!1),this.message=t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(c.$),e.Y36(T.N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-forgot-password"]],decls:15,vars:6,consts:[[1,"font-weight-400","mb-4"],[3,"ngClass",4,"ngIf"],["id","loginForm","novalidate",""],["formLogin","ngForm"],[1,"text-muted","mb-4"],["class","form-group",4,"ngIf"],["type","button","id","btn-forgot","style","cursor: pointer","class","btn btn-primary btn-block my-4","type","button",3,"disabled","click",4,"ngIf"],["class","btn-group w-100",4,"ngIf"],[1,"text-3","text-center","text-muted"],["routerLink","/auth/se-connecter",1,"btn-link"],[3,"ngClass"],[1,"form-group"],["for","email"],["type","text","placeholder","Entrer votre adresse email","name","email","required","","pattern","^[a-z0-9-.]+@[a-z-]+\\.[a-z]{2,3}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["for","loginPassword"],["type","number","placeholder","Enter code 6 digits","name","code","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],["type","button","id","btn-forgot","type","button",1,"btn","btn-primary","btn-block","my-4",2,"cursor","pointer",3,"disabled","click"],[1,"btn-group","w-100"],["type","button","type","button","id","btn-forgot",1,"btn","btn-primary","btn-block","my-4",2,"cursor","pointer",3,"click"],["class","spinner-grow text-light","role","status",4,"ngIf"],["type","button","id","btn-validation",1,"btn","btn-primary","btn-block","my-4",2,"cursor","pointer",3,"disabled","click"],["role","status",1,"spinner-grow","text-light"],[1,"sr-only"]],template:function(t,n){1&t&&(e.TgZ(0,"h3",0),e._uU(1,"R\xe9cup\xe9ration de mot de passe"),e.qZA(),e.YNc(2,A,2,2,"div",1),e.TgZ(3,"form",2,3)(5,"p",4),e._uU(6),e.qZA(),e.YNc(7,E,6,4,"div",5),e.YNc(8,R,6,4,"div",5),e.YNc(9,P,2,1,"button",6),e.YNc(10,Y,7,3,"div",7),e.qZA(),e.TgZ(11,"p",8),e._uU(12," Je me souviens deja? "),e.TgZ(13,"a",9),e._uU(14,"Se connecter"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",""!=n.message),e.xp6(4),e.Oqu(n.formText),e.xp6(1),e.Q6J("ngIf",!n.submitted_reset),e.xp6(1),e.Q6J("ngIf",n.submitted_reset),e.xp6(1),e.Q6J("ngIf",!n.submitted_reset),e.xp6(1),e.Q6J("ngIf",n.submitted_reset))},dependencies:[u.mk,u.O5,p.yS,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.wO,a.c5,a.On,a.F]}),o})();var F=d(9709);function L(o,r){if(1&o&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.errors)}}function S(o,r){1&o&&(e.TgZ(0,"p",24),e._uU(1," Entrer votre nom d'utilisateur "),e.qZA())}function j(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,S,2,0,"p",23),e.qZA()),2&o){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function z(o,r){1&o&&(e.TgZ(0,"p",24),e._uU(1," Entrer votre mot de passe "),e.qZA())}function D(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,z,2,0,"p",23),e.qZA()),2&o){e.oxw();const t=e.MAs(15);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}let V=(()=>{class o{constructor(t,n,s,i){this.route=t,this.router=n,this.authenticationService=s,this.service=i,this.authIsLocked=!1,this.loading=!1,this.submitted=!1,this.errors="",this.user=new g.n}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.authIsLocked=this.route.snapshot.queryParams.locked,this.authIsLocked&&(this.user=this.authenticationService.currentUserValue)}onLogin(){this.submitted=!0,this.loading=!0,$("#btn-login").prop("disabled",!0),this.authenticationService.login(this.user.username,this.user.password).subscribe(t=>{this.loading=!1,$("#btn-login").prop("disabled",!1),this.errors="",this.service.setAvailable(1,this.authenticationService.currentUserValue.id).subscribe(n=>{console.log(n)},n=>{alert(n)}),-1===t?.roles.indexOf("ROLE_MEMBRE_DIRECTOIRE")&&-1===t?.roles.indexOf("ROLE_GESTIONNAIRE_CLIENTELE")&&-1===t?.roles.indexOf("ROLE_DECIDEUR")&&-1===t?.roles.indexOf("ROLE_CONSEILLER_CLIENTELE")&&-1===t?.roles.indexOf("ROLE_DIRECTEUR_FINANCIER")&&-1===t?.roles.indexOf("ROLE_GESTIONNAIRE_PATRIMOINE")&&-1===t?.roles.indexOf("ROLE_CONTROLEUR_GESTION")&&-1===t?.roles.indexOf("ROLE_CHARGE_ETUDE")&&-1===t?.roles.indexOf("ROLE_PERSONNEL_RH")&&-1===t?.roles.indexOf("ROLE_EMPLOYE_CAP")||"espace-client"!=this.returnUrl.split("/")[1]&&"/"!=this.returnUrl?-1!==t?.roles.indexOf("ROLE_CLIENT")&&"admin"==this.returnUrl.split("/")[1]?window.location.href="/espace-client/mon-compte":window.location.href=this.returnUrl:window.location.href="/admin/tableau-de-bords"},t=>{this.loading=!1,$("#btn-login").prop("disabled",!1),this.errors=t,this.loading=!1})}showHidePassword(){"password"==$(document).find("#password").attr("type")?$(document).find("#password").prop("type","text"):$(document).find("#password").prop("type","password")}getProfileUrl(t){return"url("+t+")"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(c.$),e.Y36(F.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:32,vars:10,consts:[[1,"font-weight-400","mb-4"],["class","alert alert-danger",4,"ngIf"],["id","loginForm","novalidate",""],["formLogin","ngForm"],[1,"form-group"],["for","emailAddress"],["type","text","placeholder","Enter Username","name","username","required","","placeholder","Entrer votre nom d'utilisateur",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],[4,"ngIf"],["for","loginPassword"],["type","password","id","password","placeholder","Password","name","password","required","","placeholder","Entrer votre mot de passe",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"row"],[1,"col-sm"],[1,"form-check","custom-control","custom-checkbox"],["id","remember-me","name","remember","type","checkbox",1,"custom-control-input",3,"change"],["for","remember-me",1,"custom-control-label"],[1,"col-sm","text-right"],["routerLink","/auth/mot-de-passe-oublie",1,"btn-link"],["type","button","id","btn-login","type","button",1,"btn","btn-primary","btn-block","my-4",2,"cursor","pointer",3,"disabled","click"],[1,"text-3","text-center","text-muted"],["routerLink","/auth/s-abonner",1,"btn-link"],[1,"alert","alert-danger"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1,"S'identifier"),e.qZA(),e.YNc(2,L,2,1,"div",1),e.TgZ(3,"form",2,3)(5,"div",4)(6,"label",5),e._uU(7,"Nom d'utilisateur"),e.qZA(),e.TgZ(8,"input",6,7),e.NdJ("ngModelChange",function(i){return n.user.username=i}),e.qZA(),e.YNc(10,j,2,1,"div",8),e.qZA(),e.TgZ(11,"div",4)(12,"label",9),e._uU(13,"Mot de passe"),e.qZA(),e.TgZ(14,"input",10,11),e.NdJ("ngModelChange",function(i){return n.user.password=i}),e.qZA(),e.YNc(16,D,2,1,"div",8),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"input",15),e.NdJ("change",function(){return n.showHidePassword()}),e.qZA(),e.TgZ(21,"label",16),e._uU(22,"Afficher le mot de passe"),e.qZA()()(),e.TgZ(23,"div",17)(24,"a",18),e._uU(25,"Mot de passe oubli\xe9 ?"),e.qZA()()(),e.TgZ(26,"button",19),e.NdJ("click",function(){return n.onLogin()}),e._uU(27," Se connecter "),e.qZA()(),e.TgZ(28,"p",20),e._uU(29," Je n'ai pas de compte? "),e.TgZ(30,"a",21),e._uU(31,"S'abonner"),e.qZA()()),2&t){const s=e.MAs(4),i=e.MAs(9),l=e.MAs(15);e.xp6(2),e.Q6J("ngIf",""!=n.errors),e.xp6(6),e.ekj("is-invalid",i.invalid&&i.touched),e.Q6J("ngModel",n.user.username),e.xp6(2),e.Q6J("ngIf",i.errors&&(i.valid||i.touched)),e.xp6(4),e.ekj("is-invalid",l.invalid&&l.touched),e.Q6J("ngModel",n.user.password),e.xp6(2),e.Q6J("ngIf",l.errors&&(l.valid||l.touched)),e.xp6(10),e.Q6J("disabled",s.invalid)}},dependencies:[u.O5,p.yS,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F]}),o})();var G=d(8187),C=d(7702),H=d(8798);function B(o,r){if(1&o&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.classInfo),e.xp6(1),e.Oqu(t.infoMessage)}}function K(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Entrer votre nom d'utilisateur "),e.qZA())}function X(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Nom d'utilisateur maximun 30 caracteres! "),e.qZA())}function W(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,K,2,0,"p",26),e.YNc(2,X,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.maxlength)}}function ee(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Entrer votre pr\xe9nom "),e.qZA())}function te(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ee,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(15);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function oe(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Entrer votre nom "),e.qZA())}function ne(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,oe,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(21);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function re(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Entrer votre adresse email "),e.qZA())}function ie(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Adresse email invalide "),e.qZA())}function se(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,re,2,0,"p",26),e.YNc(2,ie,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(27);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function ae(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Entrer votre num\xe9ro de t\xe9l\xe9phone "),e.qZA())}function de(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ae,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(33);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function le(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Entrer votre mot de passe "),e.qZA())}function pe(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Mot de passe minimum 8 carateres "),e.qZA())}function ue(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,le,2,0,"p",26),e.YNc(2,pe,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(40);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function ce(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Confirmer votre mot de passe "),e.qZA())}function ge(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Mot de passe minimum 8 carateres "),e.qZA())}function me(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ce,2,0,"p",26),e.YNc(2,ge,2,0,"p",26),e.qZA()),2&o){e.oxw();const t=e.MAs(47);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function _e(o,r){1&o&&(e.TgZ(0,"p",36),e._uU(1," Les deux mots de passe ne correspondent pas! "),e.qZA())}function he(o,r){if(1&o&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.errors)}}function ve(o,r){1&o&&(e.TgZ(0,"p",16),e._uU(1," Entrer votre mot de passe "),e.qZA())}function Ze(o,r){1&o&&(e.TgZ(0,"p",16),e._uU(1," Mot de passe minimum 8 carateres "),e.qZA())}function we(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ve,2,0,"p",13),e.YNc(2,Ze,2,0,"p",13),e.qZA()),2&o){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function be(o,r){1&o&&(e.TgZ(0,"p",16),e._uU(1," Confirmer votre mot de passe "),e.qZA())}function Te(o,r){1&o&&(e.TgZ(0,"p",16),e._uU(1," Mot de passe minimum 8 carateres "),e.qZA())}function Ce(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,be,2,0,"p",13),e.YNc(2,Te,2,0,"p",13),e.qZA()),2&o){e.oxw();const t=e.MAs(16);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function xe(o,r){1&o&&(e.TgZ(0,"p",16),e._uU(1," Les deux mots de passe ne correspondent pas! "),e.qZA())}const Ae=[{path:"",redirectTo:"se-connecter",pathMatch:"full"},{path:"se-connecter",component:V},{path:"s-abonner",component:(()=>{class o{constructor(t,n,s,i,l){this.route=t,this.locationServe=n,this.router=s,this.socialAuthService=i,this.authenticationService=l,this.loading=!1,this.info=!1,this.user=new G.N}ngOnInit(){this.locationServe.getLocation().subscribe(t=>{console.log(t)}),this.socialAuthService.authState.subscribe(t=>{this.socialUser=t,this.isLoggedin=null!=t,console.log(this.socialUser)})}onRegister(){this.loading=!0,$("#btn-register").prop("disabled",!0),this.authenticationService.register(this.user).subscribe(t=>{window.scrollTo(0,0),$("#btn-register").prop("disabled",!1),this.loading=!1,this.info=!0,this.classInfo="alert alert-success",this.infoMessage=t.message+" Please check your Mailbox to confirm your account"},t=>{window.scrollTo(0,0),this.loading=!1,$("#btn-register").prop("disabled",!1),this.info=!0,this.classInfo="alert alert-danger",this.infoMessage=t})}showPassword(){"password"==$(document).find("#password").attr("type")?($(document).find("#password").prop("type","text"),$(document).find("#confirmpassword").prop("type","text"),$(document).find("#showhide").html("hide password")):($(document).find("#password").prop("type","password"),$(document).find("#confirmpassword").prop("type","password"),$(document).find("#showhide").html("show password"))}confirmPassword(){return this.user.password==this.user.confirmpassword}loginWithGoogle(){this.socialAuthService.signIn(C.tV.PROVIDER_ID)}logOut(){this.socialAuthService.signOut()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(H.Q),e.Y36(p.F0),e.Y36(C.xE),e.Y36(c.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:62,vars:31,consts:[[1,"font-weight-400","mb-4"],[3,"ngClass",4,"ngIf"],["id","loginForm"],["formRegister","ngForm"],[1,"form-group"],["for","username"],["type","text","placeholder","Entrer votre nom d'utilisateur","name","username","required","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],[4,"ngIf"],["for","firstname"],["type","text","placeholder","Entrer votre pr\xe9nom","name","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstname","ngModel"],["for","lastname"],["type","text","placeholder","Entrer votre nom","name","lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastname","ngModel"],["for","email"],["type","text","placeholder","Entrer votre adresse email","name","email","required","","pattern","^[a-z0-9-.]+@[a-z-]+\\.[a-z]{2,3}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["type","number","minlength","8","maxlength","11","placeholder","Enter contact","name","contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["contact","ngModel"],["for","password"],[1,"input-group","input-group-flat"],["type","password","id","password","placeholder","Entrer votre mot de passe","autocomplete","off","name","password","required","","minlength","8",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","password","id","confirmpassword","placeholder","Confirmer le mot de passe","autocomplete","off","name","confirmpassword","required","","minlength","8",1,"form-control",3,"ngModel","ngModelChange"],["confirmpassword","ngModel"],["class","text-danger",4,"ngIf"],[1,"row"],[1,"col-sm"],[1,"form-check","custom-control","custom-checkbox"],["id","remember-me","name","remember","type","checkbox",1,"custom-control-input",3,"change"],["for","remember-me",1,"custom-control-label"],["id","btn-register","type","button",1,"btn","btn-primary","btn-block","my-4",3,"disabled","click"],[1,"text-3","text-center","text-muted"],["routerLink","/auth/se-connecter",1,"btn-link"],[3,"ngClass"],[1,"text-danger"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1,"S'abonner"),e.qZA(),e.YNc(2,B,2,2,"div",1),e.TgZ(3,"form",2,3)(5,"div",4)(6,"label",5),e._uU(7,"Nom d'utilisateur"),e.qZA(),e.TgZ(8,"input",6,7),e.NdJ("ngModelChange",function(i){return n.user.username=i}),e.qZA(),e.YNc(10,W,3,2,"div",8),e.qZA(),e.TgZ(11,"div",4)(12,"label",9),e._uU(13,"Pr\xe9nom"),e.qZA(),e.TgZ(14,"input",10,11),e.NdJ("ngModelChange",function(i){return n.user.firstname=i}),e.qZA(),e.YNc(16,te,2,1,"div",8),e.qZA(),e.TgZ(17,"div",4)(18,"label",12),e._uU(19,"Nom"),e.qZA(),e.TgZ(20,"input",13,14),e.NdJ("ngModelChange",function(i){return n.user.lastname=i}),e.qZA(),e.YNc(22,ne,2,1,"div",8),e.qZA(),e.TgZ(23,"div",4)(24,"label",15),e._uU(25,"Email"),e.qZA(),e.TgZ(26,"input",16,17),e.NdJ("ngModelChange",function(i){return n.user.email=i}),e.qZA(),e.YNc(28,se,3,2,"div",8),e.qZA(),e.TgZ(29,"div",4)(30,"label",15),e._uU(31,"T\xe9l\xe9phone"),e.qZA(),e.TgZ(32,"input",18,19),e.NdJ("ngModelChange",function(i){return n.user.contact=i}),e.qZA(),e.YNc(34,de,2,1,"div",8),e.qZA(),e.TgZ(35,"div",4)(36,"label",20),e._uU(37,"Mot de passe"),e.qZA(),e.TgZ(38,"div",21)(39,"input",22,23),e.NdJ("ngModelChange",function(i){return n.user.password=i}),e.qZA()(),e.YNc(41,ue,3,2,"div",8),e.qZA(),e.TgZ(42,"div",4)(43,"label",20),e._uU(44,"Confirmer le mot de passe"),e.qZA(),e.TgZ(45,"div",21)(46,"input",24,25),e.NdJ("ngModelChange",function(i){return n.user.confirmpassword=i}),e.qZA()(),e.YNc(48,me,3,2,"div",8),e.YNc(49,_e,2,0,"p",26),e.qZA(),e.TgZ(50,"div",27)(51,"div",28)(52,"div",29)(53,"input",30),e.NdJ("change",function(){return n.showPassword()}),e.qZA(),e.TgZ(54,"label",31),e._uU(55,"Afficher les mots de passe"),e.qZA()()()(),e.TgZ(56,"button",32),e.NdJ("click",function(){return n.onRegister()}),e._uU(57," S'abonner "),e.qZA()(),e.TgZ(58,"p",33),e._uU(59," j'ai deja un compte? "),e.TgZ(60,"a",34),e._uU(61,"Se connecter"),e.qZA()()),2&t){const s=e.MAs(4),i=e.MAs(9),l=e.MAs(15),_=e.MAs(21),f=e.MAs(27),h=e.MAs(33),v=e.MAs(40),Z=e.MAs(47);e.xp6(2),e.Q6J("ngIf",n.info),e.xp6(6),e.ekj("is-invalid",i.invalid&&i.touched),e.Q6J("ngModel",n.user.username),e.xp6(2),e.Q6J("ngIf",i.errors&&(i.valid||i.touched)),e.xp6(4),e.ekj("is-invalid",l.invalid&&l.touched),e.Q6J("ngModel",n.user.firstname),e.xp6(2),e.Q6J("ngIf",l.errors&&(l.valid||l.touched)),e.xp6(4),e.ekj("is-invalid",_.invalid&&_.touched),e.Q6J("ngModel",n.user.lastname),e.xp6(2),e.Q6J("ngIf",_.errors&&(_.valid||_.touched)),e.xp6(4),e.ekj("is-invalid",f.invalid&&f.touched),e.Q6J("ngModel",n.user.email),e.xp6(2),e.Q6J("ngIf",f.errors&&(f.valid||f.touched)),e.xp6(4),e.ekj("is-invalid",h.invalid&&h.touched),e.Q6J("ngModel",n.user.contact),e.xp6(2),e.Q6J("ngIf",h.errors&&(h.valid||h.touched)),e.xp6(5),e.ekj("is-invalid",v.invalid&&v.touched),e.Q6J("ngModel",n.user.password),e.xp6(2),e.Q6J("ngIf",v.errors&&(v.valid||v.touched)),e.xp6(5),e.ekj("is-invalid",(Z.invalid||!n.confirmPassword())&&Z.touched),e.Q6J("ngModel",n.user.confirmpassword),e.xp6(2),e.Q6J("ngIf",Z.errors&&(Z.valid||Z.touched)),e.xp6(1),e.Q6J("ngIf",!n.confirmPassword()),e.xp6(7),e.Q6J("disabled",s.invalid||!n.confirmPassword())}},dependencies:[u.mk,u.O5,p.yS,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.c5,a.On,a.F]}),o})()},{path:"mot-de-passe-oublie",component:O},{path:"recuperation-de-mot-passe",component:(()=>{class o{constructor(t,n,s,i){this.route=t,this.router=n,this.authenticationService=s,this.cookie=i,this.loading=!1,this.submitted=!1,this.errors="",this.user=new g.n}ngOnInit(){this.cookie.getCookie("reset-confirmation")||this.router.navigateByUrl("/auth/mot-de-passe-oublie")}onEditPassword(){this.loading=!0,$("#btn-reset").prop("disabled",!0),this.authenticationService.resetPassword(this.user).subscribe(t=>{this.loading=!1,this.cookie.deleteCookie("email-reset"),$("#btn-reset").prop("disabled",!1),this.router.navigate(["/auth/se-connecter"])},t=>{this.loading=!1,$("#btn-reset").prop("disabled",!1),this.errors=t})}showPassword(){"password"==$(document).find("#password").attr("type")?($(document).find("#password").prop("type","text"),$(document).find("#confirmpassword").prop("type","text"),$(document).find("#showhide").html("hide password")):($(document).find("#password").prop("type","password"),$(document).find("#confirmpassword").prop("type","password"),$(document).find("#showhide").html("show password"))}confirmPassword(){return this.user.password==this.user.confirmpassword}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(c.$),e.Y36(T.N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-password"]],decls:21,vars:11,consts:[[1,"font-weight-400","mb-4"],["class","alert alert-danger",4,"ngIf"],["id","loginForm","novalidate",""],["formLogin","ngForm"],[1,"form-group"],["for","loginPassword"],["type","password","id","password","placeholder","Entrer votre mot de passe","autocomplete","off","name","password","required","","minlength","8",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[4,"ngIf"],["for","password"],[1,"input-group","input-group-flat"],["type","password","id","confirmpassword","placeholder","Confirmer le mot de passe","autocomplete","off","name","confirmpassword","required","","minlength","8",1,"form-control",3,"ngModel","ngModelChange"],["confirmpassword","ngModel"],["class","text-danger",4,"ngIf"],["type","button","id","btn-reset","type","button",1,"btn","btn-primary","btn-block","my-4",2,"cursor","pointer",3,"disabled","click"],[1,"alert","alert-danger"],[1,"text-danger"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1,"Changer le mot de passe"),e.qZA(),e.YNc(2,he,2,1,"div",1),e.TgZ(3,"form",2,3)(5,"div",4)(6,"label",5),e._uU(7,"Nouveau mot de passe"),e.qZA(),e.TgZ(8,"input",6,7),e.NdJ("ngModelChange",function(i){return n.user.password=i}),e.qZA(),e.YNc(10,we,3,2,"div",8),e.qZA(),e.TgZ(11,"div",4)(12,"label",9),e._uU(13,"Confirmer le mot de passe"),e.qZA(),e.TgZ(14,"div",10)(15,"input",11,12),e.NdJ("ngModelChange",function(i){return n.user.confirmpassword=i}),e.qZA()(),e.YNc(17,Ce,3,2,"div",8),e.YNc(18,xe,2,0,"p",13),e.qZA(),e.TgZ(19,"button",14),e.NdJ("click",function(){return n.onEditPassword()}),e._uU(20," Changer le mot de passe "),e.qZA()()),2&t){const s=e.MAs(4),i=e.MAs(9),l=e.MAs(16);e.xp6(2),e.Q6J("ngIf",""!=n.errors),e.xp6(6),e.ekj("is-invalid",i.invalid&&i.touched),e.Q6J("ngModel",n.user.password),e.xp6(2),e.Q6J("ngIf",i.errors&&(i.valid||i.touched)),e.xp6(5),e.ekj("is-invalid",(l.invalid||!n.confirmPassword())&&l.touched),e.Q6J("ngModel",n.user.confirmpassword),e.xp6(2),e.Q6J("ngIf",l.errors&&(l.valid||l.touched)),e.xp6(1),e.Q6J("ngIf",!n.confirmPassword()),e.xp6(1),e.Q6J("disabled",s.invalid)}},dependencies:[u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.On,a.F]}),o})()},{path:"confirm",component:w}];let Me=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(Ae),p.Bz]}),o})(),qe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,Me,a.u5]}),o})()},8798:(b,m,d)=>{d.d(m,{Q:()=>e});var u=d(4650),p=d(529);let e=(()=>{class c{constructor(g){this.http=g}getLocation(){return this.http.get("http://api.ipapi.com/api/check?access_key=385b95c7470b89a94caf978800bdf452")}}return c.\u0275fac=function(g){return new(g||c)(u.LFG(p.eN))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},8187:(b,m,d)=>{d.d(m,{N:()=>u});class u{}}}]);