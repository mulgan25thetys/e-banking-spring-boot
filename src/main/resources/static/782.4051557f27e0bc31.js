var Tt=Object.defineProperty,Et=(me,k,ie)=>k in me?Tt(me,k,{enumerable:!0,configurable:!0,writable:!0,value:ie}):me[k]=ie,ze=(me,k,ie)=>(Et(me,"symbol"!=typeof k?k+"":k,ie),ie),Qe=(me,k,ie)=>{if(!k.has(me))throw TypeError("Cannot "+ie)},Se=(me,k,ie)=>(Qe(me,k,"read from private field"),ie?ie.call(me):k.get(me)),we=(me,k,ie)=>{if(k.has(me))throw TypeError("Cannot add the same private member more than once");k instanceof WeakSet?k.add(me):k.set(me,ie)},Ie=(me,k,ie,_)=>(Qe(me,k,"write to private field"),_?_.call(me,ie):k.set(me,ie),ie),ct=(me,k,ie,_)=>({set _(pe){Ie(me,k,pe,ie)},get _(){return Se(me,k,_)}}),Pe=(me,k,ie)=>(Qe(me,k,"access private method"),ie);(self.webpackChunke_banking=self.webpackChunke_banking||[]).push([[782],{1782:(me,k,ie)=>{"use strict";ie.r(k),ie.d(k,{ReceptionModule:()=>he});var _=ie(4243),pe=ie(6895),le=ie(6148),e=ie(4650);let J=(()=>{class B{constructor(){}ngOnInit(){}}return B.\u0275fac=function(x){return new(x||B)},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-cheque"]],decls:2,vars:0,template:function(x,oe){1&x&&(e.TgZ(0,"p"),e._uU(1,"cheque works!"),e.qZA())}}),B})();var D=ie(9509),d=ie(5226),P=ie.n(d),b=ie(7187),f=ie(4117),a=ie(7092),m=ie(529),i=ie(5336),s=ie(8798),u=ie(6612),T=ie(7053),g=ie(7185),p=ie(6722),n=ie(1383),r=ie(433),v=ie(9927),A=ie(7420);const y=["chart"];function L(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Veuillez indiquer votre salaire "),e.qZA())}function R(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,L,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(30);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function F(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Entrer votre apport personnel "),e.qZA())}function U(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,F,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(47);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function q(B,te){if(1&B&&e._UZ(0,"apx-chart",62),2&B){const x=e.oxw(3);e.Q6J("series",x.chartOptions.series)("chart",x.chartOptions.chart)("xaxis",x.chartOptions.xaxis)("title",x.chartOptions.title)}}function X(B,te){if(1&B&&(e.TgZ(0,"div",28)(1,"h3",29),e._uU(2,"Capacit\xe9 d'emprunt"),e.qZA(),e.TgZ(3,"div",20)(4,"p",63),e._uU(5,"Pret possible"),e.qZA(),e.TgZ(6,"p",64)(7,"span",65),e._uU(8),e.ALo(9,"number"),e.TgZ(10,"span",32),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",20)(13,"p",63),e._uU(14,"Echeance"),e.qZA(),e.TgZ(15,"p",64)(16,"span",65),e._uU(17),e.qZA()()()()),2&B){const x=e.oxw(3);e.xp6(8),e.hij("",e.xi3(9,3,x.capitalEmprunte,"1.0")," "),e.xp6(3),e.Oqu(x.currency),e.xp6(6),e.hij("",x.dureeEmprunt," Mois")}}function ne(B,te){if(1&B){const x=e.EpF();e.TgZ(0,"div",54)(1,"div",28)(2,"h3",29),e._uU(3,"Confirmer les details de remboursement"),e.qZA(),e.TgZ(4,"div",20)(5,"p",55),e._uU(6,"C\xf4ut Total"),e.qZA(),e.TgZ(7,"p",56)(8,"span",57),e._uU(9),e.ALo(10,"number"),e.TgZ(11,"span",32),e._uU(12),e.qZA()()(),e.TgZ(13,"p",55),e._uU(14,"Par mois"),e.qZA(),e.TgZ(15,"p",56)(16,"span",58),e._uU(17),e.ALo(18,"number"),e.TgZ(19,"span",32),e._uU(20),e.qZA()()()(),e.YNc(21,q,1,4,"apx-chart",59),e.TgZ(22,"form",60)(23,"button",50),e.NdJ("click",function(){e.CHM(x);const Y=e.oxw(2);return e.KtG(Y.addCreditConso())}),e._uU(24,"Confirmer la demande"),e.qZA()()(),e.YNc(25,X,18,6,"div",61),e.qZA()}if(2&B){const x=e.oxw(2);e.xp6(8),e.Q6J("ngClass",x.simulatedCredit.color),e.xp6(1),e.Oqu(e.xi3(10,8,x.simulatedCredit.montantTransaction,"1.0")),e.xp6(3),e.Oqu(x.currency),e.xp6(5),e.Oqu(e.xi3(18,11,x.simulatedCredit.montantMensuel,"1.0")),e.xp6(3),e.Oqu(x.currency),e.xp6(1),e.Q6J("ngIf",1==x.showStatistic),e.xp6(2),e.Q6J("disabled",null==x.simulatedCredit.montantTransaction),e.xp6(2),e.Q6J("ngIf",1==x.showCapital)}}function V(B,te){if(1&B){const x=e.EpF();e.TgZ(0,"div",20)(1,"div",2)(2,"div",28)(3,"h3",29),e._uU(4,"Calculer les mensualit\xe9s"),e.qZA(),e.TgZ(5,"form",18,30)(7,"div",22)(8,"label",31),e._uU(9,"Montant demand\xe9 "),e.TgZ(10,"span",32),e._uU(11),e.qZA()(),e.TgZ(12,"ngx-slider",33),e.NdJ("valueChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.valueMontant=Y)})("valueChange",function(){e.CHM(x);const Y=e.oxw();return e.KtG(Y.showValuesForMensuality(Y.valueMontant))}),e.qZA()(),e.TgZ(13,"div",22)(14,"label",34),e._uU(15,"Dur\xe9e (En Mois)"),e.qZA(),e.TgZ(16,"ngx-slider",33),e.NdJ("valueChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.valueDuree=Y)})("valueChange",function(){e.CHM(x);const Y=e.oxw();return e.KtG(Y.showValuesForMensuality(Y.valueDuree))}),e.qZA()()()(),e.TgZ(17,"div",28)(18,"h3",29),e._uU(19,"Calculer ma capacit\xe9 d'emprunt"),e.qZA(),e.TgZ(20,"form",18,35)(22,"div",20)(23,"div",36)(24,"div",22)(25,"label",37),e._uU(26,"Salaire / Capital "),e.TgZ(27,"span",32),e._uU(28),e.qZA()(),e.TgZ(29,"input",38,39),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditCapEm.salaireNetPersonnel=Y)}),e.qZA(),e.YNc(31,R,2,1,"div",40),e.qZA()(),e.TgZ(32,"div",36)(33,"div",22)(34,"label",41),e._uU(35,"Prime Annuelle "),e.TgZ(36,"span",32),e._uU(37),e.qZA()(),e.TgZ(38,"input",42,43),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditCapEm.primeAnnuelle=Y)}),e.qZA()()(),e.TgZ(40,"div",36)(41,"div",22)(42,"label",44),e._uU(43,"Apport Personnel "),e.TgZ(44,"span",32),e._uU(45),e.qZA()(),e.TgZ(46,"input",45,46),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditCapEm.apportPersonnel=Y)}),e.qZA(),e.YNc(48,U,2,1,"div",40),e.qZA()(),e.TgZ(49,"div",36)(50,"div",22)(51,"label",47),e._uU(52,"Autres revenus "),e.TgZ(53,"span",32),e._uU(54),e.qZA()(),e.TgZ(55,"input",48,49),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditCapEm.autresRevenus=Y)}),e.qZA()()(),e.TgZ(57,"div",21)(58,"div",22)(59,"label",31),e._uU(60,"Mensualit\xe9 "),e.TgZ(61,"span",32),e._uU(62),e.qZA()(),e.TgZ(63,"ngx-slider",33),e.NdJ("valueChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.valueMensuel=Y)}),e.qZA()()(),e.TgZ(64,"button",50),e.NdJ("click",function(){e.CHM(x);const Y=e.oxw();return e.KtG(Y.simulerCreditConsoCapaciteEmprunt())}),e._uU(65,"Calculer"),e.qZA()()()()(),e.YNc(66,ne,26,14,"div",51),e.qZA()}if(2&B){const x=e.MAs(21),oe=e.MAs(30),Y=e.MAs(47),fe=e.oxw();e.xp6(11),e.Oqu(fe.currency),e.xp6(1),e.Q6J("value",fe.valueMontant)("options",fe.optionsMontant),e.xp6(4),e.Q6J("value",fe.valueDuree)("options",fe.optionsDuree),e.xp6(12),e.Oqu(fe.currency),e.xp6(1),e.ekj("is-invalid",oe.invalid&&oe.touched),e.Q6J("ngModel",fe.creditCapEm.salaireNetPersonnel),e.xp6(2),e.Q6J("ngIf",oe.errors&&(oe.valid||oe.touched)),e.xp6(6),e.Oqu(fe.currency),e.xp6(1),e.Q6J("ngModel",fe.creditCapEm.primeAnnuelle),e.xp6(7),e.Oqu(fe.currency),e.xp6(1),e.ekj("is-invalid",Y.invalid&&Y.touched),e.Q6J("ngModel",fe.creditCapEm.apportPersonnel),e.xp6(2),e.Q6J("ngIf",Y.errors&&(Y.valid||Y.touched)),e.xp6(6),e.Oqu(fe.currency),e.xp6(1),e.Q6J("value",fe.autreRevenus)("ngModel",fe.creditCapEm.autresRevenus),e.xp6(7),e.Oqu(fe.currency),e.xp6(1),e.Q6J("value",fe.valueMensuel)("options",fe.optionsMensuel),e.xp6(1),e.Q6J("disabled",x.invalid),e.xp6(2),e.Q6J("ngIf",1==fe.showStatistic)}}function Z(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Descrire votre projet! "),e.qZA())}function K(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,Z,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(58);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function ae(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Veuillez indiquer le produit \xe0 financer exemple: terrain,maison,appartement "),e.qZA())}function ue(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,ae,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(68);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function M(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Veuillez indiquer la localisation de l'immobilier "),e.qZA())}function o(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,M,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(81);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function c(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Veuillez le nom de l'immobilier que vous detenez "),e.qZA())}function t(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,c,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(88);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function l(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Veuillez indiquer le montant de la revente du principale "),e.qZA())}function h(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,l,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(7);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function w(B,te){if(1&B){const x=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"label",116),e._uU(3,"Montant de revente de la r\xe9sidence principale "),e.TgZ(4,"span",32),e._uU(5),e.qZA()(),e.TgZ(6,"input",117,118),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw(2);return e.KtG(fe.creditImmo.projet.produit.montant_revente=Y)}),e.qZA(),e.YNc(8,h,2,1,"div",40),e.qZA()()}if(2&B){const x=e.MAs(7),oe=e.oxw(2);e.xp6(5),e.Oqu(oe.currency),e.xp6(1),e.ekj("is-invalid",x.invalid&&x.touched),e.Q6J("ngModel",oe.creditImmo.projet.produit.montant_revente),e.xp6(2),e.Q6J("ngIf",x.errors&&(x.valid||x.touched))}}function S(B,te){if(1&B){const x=e.EpF();e.TgZ(0,"div",119)(1,"div",3)(2,"input",120),e.NdJ("change",function(Y){e.CHM(x);const fe=e.oxw(2);return e.KtG(fe.onEstAcheteACredit(Y))}),e.qZA(),e.TgZ(3,"label",121),e._uU(4,"Est achet\xe9 \xe0 credit"),e.qZA()(),e.TgZ(5,"div",3)(6,"input",122),e.NdJ("change",function(Y){e.CHM(x);const fe=e.oxw(2);return e.KtG(fe.onNEstPasAcheteACredit(Y))}),e.qZA(),e.TgZ(7,"label",123),e._uU(8,"N'est pas achet\xe9 \xe0 credit"),e.qZA()()()}}function E(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Veuillez le montant restant \xe0 rembourser "),e.qZA())}function j(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,E,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(7);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function H(B,te){if(1&B){const x=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"label",124),e._uU(3,"Montant restant \xe0 rembourser "),e.TgZ(4,"span",32),e._uU(5),e.qZA()(),e.TgZ(6,"input",125,126),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw(2);return e.KtG(fe.creditImmo.projet.produit.montant_restant_du=Y)}),e.qZA(),e.YNc(8,j,2,1,"div",40),e.qZA()()}if(2&B){const x=e.MAs(7),oe=e.oxw(2);e.xp6(5),e.Oqu(oe.currency),e.xp6(1),e.ekj("is-invalid",x.invalid&&x.touched),e.Q6J("ngModel",oe.creditImmo.projet.produit.montant_restant_du),e.xp6(2),e.Q6J("ngIf",x.errors&&(x.valid||x.touched))}}function W(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Descrire votre immobilier! "),e.qZA())}function G(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(113);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function Q(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Combien en voulez vous? "),e.qZA())}function re(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,Q,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(123);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function ge(B,te){1&B&&(e.TgZ(0,"p",53),e._uU(1," Combien etes vous pret \xe0 payer par mois? "),e.qZA())}function Ce(B,te){if(1&B&&(e.TgZ(0,"div"),e.YNc(1,ge,2,0,"p",52),e.qZA()),2&B){e.oxw();const x=e.MAs(132);e.xp6(1),e.Q6J("ngIf",null==x.errors?null:x.errors.required)}}function ee(B,te){if(1&B){const x=e.EpF();e.TgZ(0,"div",20)(1,"div",2)(2,"div",28)(3,"h3",29),e._uU(4,"Pr\xe9senter votre projet"),e.qZA(),e.TgZ(5,"form",18,66)(7,"div",20)(8,"div",36)(9,"div",22)(10,"label",23),e._uU(11,"Motif du projet"),e.qZA(),e.TgZ(12,"select",67)(13,"option",68),e._uU(14,"--- Selectionner ---"),e.qZA(),e.TgZ(15,"option",69),e._uU(16,"Investissement"),e.qZA(),e.TgZ(17,"option",70),e._uU(18,"Travaux"),e.qZA()()()(),e.TgZ(19,"div",36)(20,"div",22)(21,"label",71),e._uU(22,"A quel Stage est le projet?"),e.qZA(),e.TgZ(23,"select",72)(24,"option",68),e._uU(25,"--- Selectionner ---"),e.qZA(),e.TgZ(26,"option",73),e._uU(27,"D\xe9but"),e.qZA(),e.TgZ(28,"option",74),e._uU(29,"En Cours"),e.qZA(),e.TgZ(30,"option",75),e._uU(31,"Suspendus"),e.qZA()()()(),e.TgZ(32,"div",36)(33,"div",22)(34,"label",76),e._uU(35,"Date de debut"),e.qZA(),e.TgZ(36,"div",77)(37,"div",77)(38,"input",78,79),e.NdJ("dateSelect",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.onDateDebutSelect(Y))})("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.modelDateDeb=Y)}),e.qZA(),e.TgZ(40,"button",80,81),e.NdJ("click",function(){e.CHM(x);const Y=e.MAs(39);return e.KtG(Y.toggle())}),e._UZ(42,"i",82),e.qZA()()()()(),e.TgZ(43,"div",36)(44,"div",22)(45,"label",83),e._uU(46,"Date de fin"),e.qZA(),e.TgZ(47,"div",77)(48,"input",84,85),e.NdJ("dateSelect",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.onDateFinSelect(Y))})("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.modelDateFin=Y)}),e.qZA(),e.TgZ(50,"button",80,86),e.NdJ("click",function(){e.CHM(x);const Y=e.MAs(49);return e.KtG(Y.toggle())}),e._UZ(52,"i",82),e.qZA()()()(),e.TgZ(53,"div",21)(54,"div",22)(55,"label",87),e._uU(56,"Description du projet"),e.qZA(),e.TgZ(57,"textarea",88,89),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.projet.description=Y)}),e._uU(59,"                            "),e.qZA(),e.YNc(60,K,2,1,"div",40),e.qZA()(),e.TgZ(61,"h3",90),e._uU(62,"Pr\xe9senter votre immobilier"),e.qZA(),e.TgZ(63,"div",21)(64,"div",22)(65,"label",91),e._uU(66,"Le produit \xe0 financer"),e.qZA(),e.TgZ(67,"input",92,93),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.projet.produit.nom=Y)}),e.qZA(),e.YNc(69,ue,2,1,"div",40),e.qZA()(),e.TgZ(70,"div",21)(71,"div",22)(72,"label",94),e._uU(73,"Copiez l'adresse de votre Bien Immobilier"),e.qZA(),e.TgZ(74,"agm-map",95),e._UZ(75,"agm-marker",96),e.qZA()()(),e.TgZ(76,"div",36)(77,"div",22)(78,"label",94),e._uU(79,"Localisation"),e.qZA(),e.TgZ(80,"input",97,98),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.projet.produit.localisation=Y)}),e.qZA(),e.YNc(82,o,2,1,"div",40),e.qZA()(),e.TgZ(83,"div",36)(84,"div",22)(85,"label",99),e._uU(86,"Quantit\xe9"),e.qZA(),e.TgZ(87,"input",100,101),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.projet.produit.quantite=Y)}),e.qZA(),e.YNc(89,t,2,1,"div",40),e.qZA()(),e.TgZ(90,"div",21)(91,"div",22)(92,"label",91),e._uU(93,"Type de l'immobilier"),e.qZA(),e.TgZ(94,"select",102),e.NdJ("change",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.onTypeImmobilierChange(Y))}),e.TgZ(95,"option",68),e._uU(96,"--- Selectionner ---"),e.qZA(),e.TgZ(97,"option",103),e._uU(98,"R\xe9sidence principale"),e.qZA(),e.TgZ(99,"option",104),e._uU(100,"R\xe9sidence secondaire"),e.qZA(),e.TgZ(101,"option",105),e._uU(102,"Location"),e.qZA(),e.TgZ(103,"option",106),e._uU(104,"Autre"),e.qZA()()()(),e.YNc(105,w,9,5,"div",107),e.YNc(106,S,9,0,"div",108),e.YNc(107,H,9,5,"div",107),e.TgZ(108,"div",21)(109,"div",22)(110,"label",87),e._uU(111,"Description du l'immobilier"),e.qZA(),e.TgZ(112,"textarea",109,110),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.projet.produit.destination_description=Y)}),e._uU(114,"                                                    "),e.qZA(),e.YNc(115,G,2,1,"div",40),e.qZA()(),e.TgZ(116,"div",36)(117,"div",22)(118,"label",23),e._uU(119,"Montant Demand\xe9 "),e.TgZ(120,"span",32),e._uU(121),e.qZA()(),e.TgZ(122,"input",111,112),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.montantDemande=Y)}),e.qZA(),e.YNc(124,re,2,1,"div",40),e.qZA()(),e.TgZ(125,"div",36)(126,"div",22)(127,"label",71),e._uU(128,"Montant mensuel \xe0 payer "),e.TgZ(129,"span",32),e._uU(130),e.qZA()(),e.TgZ(131,"input",113,114),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.montantMensuel=Y)}),e.qZA(),e.YNc(133,Ce,2,1,"div",40),e.qZA()(),e.TgZ(134,"div",21)(135,"div",22)(136,"label",71),e._uU(137,"Apport personnel "),e.TgZ(138,"span",32),e._uU(139),e.qZA()(),e.TgZ(140,"input",115,46),e.NdJ("ngModelChange",function(Y){e.CHM(x);const fe=e.oxw();return e.KtG(fe.creditImmo.apportPersonnel=Y)}),e.qZA()()(),e.TgZ(142,"button",50),e.NdJ("click",function(){e.CHM(x);const Y=e.MAs(6),fe=e.oxw();return e.KtG(fe.addCreditImmo(Y))}),e._uU(143,"Envoyer la Demande"),e.qZA()()()()()()}if(2&B){const x=e.MAs(6),oe=e.MAs(41),Y=e.MAs(51),fe=e.MAs(58),xe=e.MAs(68),Re=e.MAs(81),Le=e.MAs(88),Oe=e.MAs(113),ke=e.MAs(123),De=e.MAs(132),Me=e.oxw();e.xp6(38),e.Q6J("ngModel",Me.modelDateDeb)("placement",Me.placement)("positionTarget",oe),e.xp6(10),e.Q6J("minDate",Me.minDate)("ngModel",Me.modelDateFin)("placement",Me.placement)("positionTarget",Y),e.xp6(9),e.ekj("is-invalid",fe.invalid&&fe.touched),e.Q6J("ngModel",Me.creditImmo.projet.description),e.xp6(3),e.Q6J("ngIf",fe.errors&&(fe.valid||fe.touched)),e.xp6(7),e.ekj("is-invalid",xe.invalid&&xe.touched),e.Q6J("ngModel",Me.creditImmo.projet.produit.nom),e.xp6(2),e.Q6J("ngIf",xe.errors&&(xe.valid||xe.touched)),e.xp6(5),e.Q6J("latitude",Me.lat)("longitude",Me.long),e.xp6(1),e.Q6J("latitude",Me.lat)("longitude",Me.long),e.xp6(5),e.ekj("is-invalid",Re.invalid&&Re.touched),e.Q6J("ngModel",Me.creditImmo.projet.produit.localisation),e.xp6(2),e.Q6J("ngIf",Re.errors&&(Re.valid||Re.touched)),e.xp6(5),e.ekj("is-invalid",Le.invalid&&Le.touched),e.Q6J("ngModel",Me.creditImmo.projet.produit.quantite),e.xp6(2),e.Q6J("ngIf",Le.errors&&(Le.valid||Le.touched)),e.xp6(16),e.Q6J("ngIf",Me.isResidencePrincipale),e.xp6(1),e.Q6J("ngIf",Me.isResidencePrincipale),e.xp6(1),e.Q6J("ngIf",Me.isAchatacredit),e.xp6(5),e.ekj("is-invalid",Oe.invalid&&Oe.touched),e.Q6J("ngModel",Me.creditImmo.projet.produit.destination_description),e.xp6(3),e.Q6J("ngIf",Oe.errors&&(Oe.valid||Oe.touched)),e.xp6(6),e.Oqu(Me.currency),e.xp6(1),e.ekj("is-invalid",ke.invalid&&ke.touched),e.Q6J("ngModel",Me.creditImmo.montantDemande),e.xp6(2),e.Q6J("ngIf",ke.errors&&(ke.valid||ke.touched)),e.xp6(6),e.Oqu(Me.currency),e.xp6(1),e.ekj("is-invalid",De.invalid&&De.touched),e.Q6J("ngModel",Me.creditImmo.montantMensuel),e.xp6(2),e.Q6J("ngIf",De.errors&&(De.valid||De.touched)),e.xp6(6),e.Oqu(Me.currency),e.xp6(1),e.Q6J("ngModel",Me.creditImmo.apportPersonnel),e.xp6(2),e.Q6J("disabled",x.invalid)}}function de(B,te){if(1&B&&(e.TgZ(0,"option",127),e._uU(1),e.qZA()),2&B){const x=te.$implicit;e.Q6J("value",x),e.xp6(1),e.Oqu(x)}}const ce=ie(3413),N=[{path:"",redirectTo:"credits",pathMatch:"full"},{path:"credits",component:(()=>{class B{constructor(x,oe,Y,fe,xe,Re,Le,Oe){this.creditService=x,this.mapsService=oe,this.currencyServe=Y,this.auth=fe,this.toastr=xe,this.router=Re,this.moyenPaiementService=Le,this.cookieServe=Oe,this.remboursement_infinetext="Une seule fois",this.remboursement_Mensualitytext="Mensualit\xe9 constante",this.remboursement_Amortissemnttext="Amortissement constante",this.pdfSrc="D:Mulgan Th\xe9tysCarteDeSejour.pdf",this.credit=new D.y,this.creditCapEm=new D.y,this.creditImmo=new D.y,this.simulatedCredit=new D.y,this.autreRevenus=0,this.numCarteCredit=[],this.capitalEmprunte=0,this.dureeEmprunt=0,this.isCreditImmoForm=!1,this.isCreditConsoForm=!0,this.showStatistic=!1,this.showCapital=!1,this.valueMontant=5e4,this.optionsMontant={floor:1e3,ceil:1e5},this.valueMensuel=1e3,this.optionsMensuel={floor:0,ceil:1e4},this.valueTransaction=1e3,this.optionsTransaction={floor:0,ceil:1e5},this.valueDuree=6,this.optionsDuree={floor:1,ceil:12},this.isResidencePrincipale=!1,this.isAchatacredit=!1,this.minDate=new a.qj(1789,7,14),this.placement="bottom",this.lat=0,this.long=0,this.progress=0,this.isUpLoadError=!1,this.message="",this.classAlert="",this.currency=""}ngOnInit(){this.currency=ce(this.cookieServe.getCookie("currency")),this.creditImmo=new D.y,this.creditImmo.projet=new b.L,this.creditImmo.projet.produit=new f.R,this.creditImmo.projet.avancements=[],this.creditImmo.fichiers=[],this.creditImmo.uploadfichiers=[],this.isResidencePrincipale=!1,this.isAchatacredit=!1,this.auth.currentUserValue&&this.auth.isClient&&this.moyenPaiementService.getProvisions(this.auth.currentUserValue.id).subscribe(x=>{this.creditCapEm.autresRevenus=x}),window.scrollTo(0,0),this.credit.montantMensuel=0,this.credit.montantTransaction=0,this.mapsService.getLocation().subscribe(x=>{this.lat=x.latitude,this.long=x.longitude},x=>{console.log(x)})}selectFile(x){this.selectedFiles=x.target.files}onTypeImmobilierChange(x){"RESIDENCE_SECONDAIRE"==x.target.value?this.isResidencePrincipale=!0:(this.creditImmo.projet.produit.montant_revente=null,this.creditImmo.projet.produit.montant_restant_du=null,this.isResidencePrincipale=!1,this.isAchatacredit=!1)}onEstAcheteACredit(x){1==x.target.checked&&(this.isAchatacredit=!0)}onNEstPasAcheteACredit(x){1==x.target.checked&&(this.isAchatacredit=!1,this.creditImmo.projet.produit.montant_restant_du=null)}getMontantDemandeValue(){return this.valueMontant}setCreditImmoForm(x){this.simulatedCredit=new D.y,this.showStatistic=!1,1==x.target.checked&&(this.isCreditConsoForm=!1,this.isCreditImmoForm=!0)}setCreditConsoForm(x){this.simulatedCredit=new D.y,this.showStatistic=!1,1==x.target.checked&&(this.isCreditConsoForm=!0,this.isCreditImmoForm=!1)}showValuesForMensuality(x){this.credit.montantDemande=this.valueMontant,this.credit.duree=this.valueDuree,this.simulerCreditConsoMensuality()}showValuesForEcheance(x){this.valueMensuel>this.valueMontant?this.valueMensuel=this.valueMontant:(this.credit.montantDemande=this.valueMontant,this.credit.montantMensuel=this.valueMensuel)}simulerCreditConsoMensuality(){this.credit.categorie="CONSOMMATION",this.credit.typeSimulation="CALCUL_MENSUALITE",this.creditService.simulerCreditConso(this.credit).subscribe(x=>{this.credit.duree=x.duree,this.credit.montantMensuel=x.montantMensuel,this.credit.montantTransaction=x.montantTransaction,this.simulatedCredit=x,this.simulatedCredit.color="hight"==x.niveau?"badge badge-danger":"badge badge-success";let oe=[],Y=[];for(let fe=0;fe<this.simulatedCredit.paiements.length;fe++){const xe=this.simulatedCredit.paiements[fe];oe.push(xe.restant_du),Y.push(xe.dateLimit)}this.generateStatistic(oe,Y),this.showStatistic=!0},x=>{this.showErrorMsg(x)})}simulerCreditConsoCapaciteEmprunt(){this.creditCapEm.montantMensuel=this.valueMensuel,this.creditCapEm.categorie="CONSOMMATION",this.creditCapEm.typeSimulation="CALCUL_CAPACITE_EMPRUNT",this.creditService.simulerCreditConso(this.creditCapEm).subscribe(x=>{0==x.montantTransaction&&this.toastr.warning("La mensualit\xe9 est trop \xe9l\xe9v\xe9e par rapport \xe0 votre revenus","Capacit\xe9 d'emprunt"),this.capitalEmprunte=x.montantDemande,this.dureeEmprunt=x.duree,this.showCapital=!0,this.creditCapEm.montantMensuel=x.montantMensuel,this.creditCapEm.montantTransaction=x.montantTransaction,this.simulatedCredit=x,this.simulatedCredit.color="hight"==x.niveau?"badge badge-danger":"badge badge-success";let oe=[],Y=[];for(let fe=0;fe<this.simulatedCredit.paiements.length;fe++){const xe=this.simulatedCredit.paiements[fe];oe.push(xe.restant_du),Y.push(xe.dateLimit)}this.generateStatistic(oe,Y),this.showStatistic=!0},x=>{this.showErrorMsg(x)})}addCreditImmo(x){this.creditImmo.typeSimulation="CALCUL_CAPACITE_EMPRUNT",this.creditImmo.categorie="IMMOBILIER";let oe=!1,Y=!1,fe=!1,xe=!1,Re=document.getElementById("input-destination").value,Le=document.getElementById("input-status").value,Oe=document.getElementById("input-motif").value;if(this.selectedFiles){const ke=this.selectedFiles.item(0);ke&&(this.currentFile=ke,this.creditImmo.uploadfichiers.push(this.currentFile))}"default"==Oe?(fe=!1,this.toastr.info("Veuillez indiquer le motif de votre projet","Cr\xe9dit Immobilier")):(this.creditImmo.projet.motif=Oe,fe=!0),"default"==Le?(Y=!1,this.toastr.info("Veuillez indiquer l'etat d'avancement de votre projet","Cr\xe9dit Immobilier")):(this.creditImmo.projet.status=Le,Y=!0),"default"==Re?(oe=!1,this.toastr.info("Veuillez indiquer la destination de votre bien immobilier","Cr\xe9dit Immobilier")):(this.creditImmo.projet.produit.destination=Re,oe=!0),null==this.modelDateDeb||null==this.modelDateFin?(xe=!1,this.toastr.info("Veuillez verifier la p\xe9riode de votre projet","Cr\xe9dit Immobilier")):(xe=!0,this.creditImmo.projet.dateDebut=new Date(this.modelDateDeb.year,this.modelDateDeb.month,this.modelDateDeb.day),this.creditImmo.projet.dateFin=new Date(this.modelDateFin.year,this.modelDateFin.month,this.modelDateFin.day)),fe&&Y&&oe&&xe?this.auth.currentUserValue&&this.auth.isClient?(console.log(this.creditImmo),this.creditService.addCreditImmo(this.creditImmo,this.auth.currentUserValue.id).subscribe(ke=>{this.toastr.success(ke.message,"Credit Immobilier"),this.upload(this.creditImmo.idCredit),this.ngOnInit()},ke=>{this.toastr.error(ke,"Credit Immobilier")})):this.router.navigate(["/auth/se-connecter"]):this.toastr.warning("Veuillez v\xe9rifier les informations","Cr\xe9dit Immobilier")}upload(x){if(this.progress=0,this.selectedFiles){const oe=this.selectedFiles.item(0);oe&&(this.currentFile=oe,this.creditService.upload(this.currentFile,x).subscribe(Y=>{Y.type===m.dt.UploadProgress?this.progress=Math.round(100*Y.loaded/Y.total):Y instanceof m.Zn&&(this.message=Y.body.message,this.classAlert="alert-success",location.reload())},Y=>{console.log(Y),this.progress=0,Y.error&&Y.error.message?(this.message=Y.error.message,this.classAlert="alert-danger"):(this.message="Could not upload the file!",this.classAlert="alert-danger"),this.currentFile=void 0})),this.selectedFiles=void 0}}onDateDebutSelect(x){this.creditImmo.projet.dateDebut=x.year+"-"+x.month+"-"+x.day,this.minDate.year=x.year,this.minDate.month=x.month,this.minDate.day=x.day}onDateFinSelect(x){this.creditImmo.projet.dateFin=x.year+"-"+x.month+"-"+x.day}generateStatistic(x,oe){this.chartOptions={series:[{name:"Restant du",data:x}],chart:{height:350,type:"area",zoom:{enabled:!0}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:oe},tooltip:{x:{format:"yy-MM-dd"}}}}addCreditConso(){null!=this.auth.currentUserValue&&this.auth.isClient()?this.moyenPaiementService.getQuickCardNumber(this.auth.currentUserValue.id).subscribe(x=>{console.log(x),$("#cardumberFormBtn").click(),this.numCarteCredit=x},x=>{console.log(x)}):(alert("Veuillez vous connecter pour continuer!"),this.router.navigateByUrl("/auth/se-connecter"))}showErrorMsg(x){P().fire({icon:"error",title:"Oops...",text:x})}addCreditToCard(x){let oe=document.getElementById("numCarte").value;this.creditService.AddCreditToCard(this.simulatedCredit,this.auth.currentUserValue.id,oe).subscribe(Y=>{x.reset(),alert("Votre credit a \xe9t\xe9 accord\xe9!"),location.reload()},Y=>{alert(Y)})}}return B.\u0275fac=function(x){return new(x||B)(e.Y36(i.x),e.Y36(s.Q),e.Y36(u.i),e.Y36(T.$),e.Y36(g._W),e.Y36(le.F0),e.Y36(p.M),e.Y36(n.N))},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-credit"]],viewQuery:function(x,oe){if(1&x&&e.Gf(y,5),2&x){let Y;e.iGM(Y=e.CRH())&&(oe.chart=Y.first)}},decls:38,vars:3,consts:[[1,"font-weight-400","text-center","mt-3"],[1,"row","mb-3"],[1,"col-md-8","col-lg-6","col-xl-5","mx-auto"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","id","allCr\xe9dits","name","allFilters","checked","",1,"custom-control-input",3,"change"],["for","allCr\xe9dits",1,"custom-control-label"],["type","radio","id","paymentsSend","name","allFilters",1,"custom-control-input",3,"change"],["for","paymentsSend",1,"custom-control-label"],["class","row",4,"ngIf"],["type","button","id","cardumberFormBtn","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary","d-none"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["id","form-send-money","novalidate",""],["formcarte","ngForm"],[1,"row"],[1,"col-12"],[1,"form-group"],["for","motif"],["id","numCarte","name","numCarte",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"bg-light","shadow-sm","rounded","p-3","p-sm-4","mb-4"],[1,"text-5","font-weight-400","mb-3"],["form","ngForm"],["for","amount"],[2,"font-size","1.2rem","font-weight","500"],[3,"value","options","valueChange"],["for","duree"],["formCapacity","ngForm"],[1,"col-12","col-sm-6"],["for","salaire"],["id","salaire","value","0","type","number","name","salaireNetPersonnel","placeholder","0.000","required","",1,"form-control",3,"ngModel","ngModelChange"],["salaire","ngModel"],[4,"ngIf"],["for","prime"],["id","prime","value","0","type","number","name","prime","placeholder","0.000",1,"form-control",3,"ngModel","ngModelChange"],["prime","ngModel"],["for","apportPersonnel"],["type","number","value","0","name","apportPersonnel","placeholder","0.000",1,"form-control",3,"ngModel","ngModelChange"],["apportPersonnel","ngModel"],["for","autresRevenus"],["id","autresRevenus","type","number","name","autresRevenus","placeholder","0.000",1,"form-control",3,"value","ngModel","ngModelChange"],["autresRevenus","ngModel"],[1,"btn","btn-primary","btn-block",3,"disabled","click"],["class","col-md-8 col-lg-6 mx-auto",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"col-md-8","col-lg-6","mx-auto"],[1,"col-sm-2","text-muted","text-sm-right","font-weight-500","mb-0","mb-sm-3"],[1,"col-sm-4","font-weight-500"],[1,"badge",2,"font-size","1rem",3,"ngClass"],[1,"badge","badge-warning",2,"font-size","1rem"],[3,"series","chart","xaxis","title",4,"ngIf"],["id","form-send-money","method","post"],["class","bg-light shadow-sm rounded p-3 p-sm-4 mb-4",4,"ngIf"],[3,"series","chart","xaxis","title"],[1,"col-sm-6","text-muted","text-sm-right","font-weight-500","mb-0","mb-sm-3"],[1,"col-sm-6","font-weight-500"],[1,"badge","badge-light",2,"font-size","1rem"],["formImmo","ngForm"],["id","input-motif","name","motif",1,"custom-select"],["value","default"],["value","INVESTISSEMENT"],["value","TRAVAUX"],["for","status"],["id","input-status","name","status",1,"custom-select"],["value","DEBUTE"],["value","EN_COURS"],["value","SUSPENDUS"],["for","dateDebut"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dpDeb","ngbDatepicker","",1,"form-control",3,"ngModel","placement","positionTarget","dateSelect","ngModelChange"],["dDeb","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3","btn-sm",3,"click"],["buttonElDeb",""],[1,"fas","fa-calendar-alt"],["for","dateFin"],["placeholder","yyyy-mm-dd","name","dpFin","ngbDatepicker","",1,"form-control",3,"minDate","ngModel","placement","positionTarget","dateSelect","ngModelChange"],["dFin","ngbDatepicker"],["buttonElFin",""],["for","description"],["rows","3","name","description","placeholder","Description...","required","",1,"form-control",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"text-4","font-weight-300","mb-3"],["for","destination"],["type","text","name","nomProd","required","","placeholder","exemple: terrain,maison,appartement",1,"form-control",3,"ngModel","ngModelChange"],["nomProd","ngModel"],["for","localisation"],[2,"height","300px",3,"latitude","longitude"],[3,"latitude","longitude"],["type","text","name","localisation","required","","placeholder","exemple: address.1250.rue...",1,"form-control",3,"ngModel","ngModelChange"],["localisation","ngModel"],["for","quantite"],["type","number","name","quantite","required","","placeholder","1","min","1",1,"form-control",3,"ngModel","ngModelChange"],["quantite","ngModel"],["id","input-destination","name","destination",1,"custom-select",3,"change"],["value","RESIDENCE_PRINCIPALE"],["value","RESIDENCE_SECONDAIRE"],["value","LOCATION"],["value","AUTRE"],["class","col-12",4,"ngIf"],["class","col-12 mb-3",4,"ngIf"],["rows","3","name","descriptionImmo","placeholder","Description...","required","",1,"form-control",3,"ngModel","ngModelChange"],["descriptionImmo","ngModel"],["type","number","name","montantdemande","required","","placeholder","1000","min","0",1,"form-control",3,"ngModel","ngModelChange"],["montantDemande","ngModel"],["type","number","name","mantantMensuel","required","","placeholder","1000","min","0",1,"form-control",3,"ngModel","ngModelChange"],["montantMensuel","ngModel"],["type","number","name","apportPersonnel","placeholder","1000","min","0",1,"form-control",3,"ngModel","ngModelChange"],["for","montant_revente"],["type","number","name","montant_revente","required","","placeholder","1000","min","0",1,"form-control",3,"ngModel","ngModelChange"],["montant_revente","ngModel"],[1,"col-12","mb-3"],["type","radio","id","ACredit","name","typeAchat",1,"custom-control-input",3,"change"],["for","ACredit",1,"custom-control-label"],["type","radio","id","pasACredit","name","typeAchat","checked","",1,"custom-control-input",3,"change"],["for","pasACredit",1,"custom-control-label"],["for","montant_restant_du"],["type","number","name","montant_restant_du","required","","placeholder","1000","min","0",1,"form-control",3,"ngModel","ngModelChange"],["montant_restant_du","ngModel"],[3,"value"]],template:function(x,oe){if(1&x){const Y=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Simuler votre cr\xe9dit"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),e.NdJ("change",function(xe){return oe.setCreditConsoForm(xe)}),e.qZA(),e.TgZ(6,"label",5),e._uU(7,"Cr\xe9dit \xe0 la consommation"),e.qZA()(),e.TgZ(8,"div",3)(9,"input",6),e.NdJ("change",function(xe){return oe.setCreditImmoForm(xe)}),e.qZA(),e.TgZ(10,"label",7),e._uU(11,"Cr\xe9dit Immobilier"),e.qZA()()()(),e.YNc(12,V,67,25,"div",8),e.YNc(13,ee,144,47,"div",8),e.TgZ(14,"button",9),e._uU(15," Launch demo modal\n"),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"h5",14),e._uU(21,"Selectionner votre num\xe9ro de carte bancaire"),e.qZA(),e.TgZ(22,"button",15)(23,"span",16),e._uU(24,"\xd7"),e.qZA()()(),e.TgZ(25,"div",17)(26,"form",18,19)(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),e._uU(32,"Num\xe9ro de votre carte bancaire"),e.qZA(),e.TgZ(33,"select",24),e.YNc(34,de,2,2,"option",25),e.qZA()()()()()(),e.TgZ(35,"div",26)(36,"button",27),e.NdJ("click",function(){e.CHM(Y);const xe=e.MAs(27);return e.KtG(oe.addCreditToCard(xe))}),e._uU(37,"Confirmer"),e.qZA()()()()()}2&x&&(e.xp6(12),e.Q6J("ngIf",oe.isCreditConsoForm),e.xp6(1),e.Q6J("ngIf",oe.isCreditImmoForm),e.xp6(21),e.Q6J("ngForOf",oe.numCarteCredit))},dependencies:[pe.mk,pe.sg,pe.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.qQ,r.On,r.F,a.J4,_.x,v.w5,A.SA,A.pt,pe.JJ]}),B})()},{path:"cheques",component:J}];let z=(()=>{class B{}return B.\u0275fac=function(x){return new(x||B)},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({imports:[le.Bz.forChild(N),le.Bz]}),B})();var Ae=ie(6036),be=ie.t(Ae,2);ie(2813),function Fe(){return typeof window>"u"}()||function Ee(B,te,x){B[te]=x}(be,"verbosity",Ae.VerbosityLevel.INFOS);let I=(()=>{class B{}return B.\u0275fac=function(x){return new(x||B)},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({}),B})(),he=(()=>{class B{}return B.\u0275fac=function(x){return new(x||B)},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({imports:[pe.ez,z,r.u5,a.IJ,_.X,v.kx,I,A.su.forRoot({apiKey:"AIzaSyChd-Z-kjZi6rp7JOiBU-g7xqxJ1kfhSgw"})]}),B})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,ie;ie=()=>(()=>{"use strict";var __webpack_modules__=[,(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.VerbosityLevel=k.Util=k.UnknownErrorException=k.UnexpectedResponseException=k.UNSUPPORTED_FEATURES=k.TextRenderingMode=k.StreamType=k.RenderingIntentFlag=k.PermissionFlag=k.PasswordResponses=k.PasswordException=k.PageActionEventType=k.OPS=k.MissingPDFException=k.InvalidPDFException=k.ImageKind=k.IDENTITY_MATRIX=k.FormatError=k.FontType=k.FeatureTest=k.FONT_IDENTITY_MATRIX=k.DocumentActionEventType=k.CMapCompressionType=k.BaseException=k.AnnotationType=k.AnnotationStateModelType=k.AnnotationReviewState=k.AnnotationReplyType=k.AnnotationMode=k.AnnotationMarkedState=k.AnnotationFlag=k.AnnotationFieldFlag=k.AnnotationBorderStyleType=k.AnnotationActionEventType=k.AbortException=void 0,k.arrayByteLength=H,k.arraysToBytes=function W(se){const O=se.length;if(1===O&&se[0]instanceof Uint8Array)return se[0];let I=0;for(let te=0;te<O;te++)I+=H(se[te]);let he=0;const B=new Uint8Array(I);for(let te=0;te<O;te++){let x=se[te];x instanceof Uint8Array||(x="string"==typeof x?j(x):new Uint8Array(x));const oe=x.byteLength;B.set(x,he),he+=oe}return B},k.assert=function Z(se,O){se||V(O)},k.bytesToString=function E(se){("object"!=typeof se||null===se||void 0===se.length)&&V("Invalid argument for bytesToString");const O=se.length,I=8192;if(O<I)return String.fromCharCode.apply(null,se);const he=[];for(let B=0;B<O;B+=I){const te=Math.min(B+I,O),x=se.subarray(B,te);he.push(String.fromCharCode.apply(null,x))}return he.join("")},k.createPromiseCapability=function Fe(){const se=Object.create(null);let O=!1;return Object.defineProperty(se,"settled",{get:()=>O}),se.promise=new Promise(function(I,he){se.resolve=function(B){O=!0,I(B)},se.reject=function(B){O=!0,he(B)}}),se},k.createValidAbsoluteUrl=function ae(se,O=null,I=null){if(!se)return null;try{if(I&&"string"==typeof se){if(I.addDefaultProtocol&&se.startsWith("www.")){const B=se.match(/\./g);B&&B.length>=2&&(se=`http://${se}`)}if(I.tryConvertEncoding)try{se=_e(se)}catch{}}const he=O?new URL(se,O):new URL(se);if(function K(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(he))return he}catch{}return null},k.escapeString=function z(se){return se.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},k.getModificationDate=function Ee(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")},k.getVerbosityLevel=function q(){return F},k.info=function X(se){F>=v.INFOS&&console.log(`Info: ${se}`)},k.isArrayBuffer=function ve(se){return"object"==typeof se&&null!==se&&void 0!==se.byteLength},k.isArrayEqual=function Te(se,O){if(se.length!==O.length)return!1;for(let I=0,he=se.length;I<he;I++)if(se[I]!==O[I])return!1;return!0},k.isAscii=function Ae(se){return/^[\x00-\x7F]*$/.test(se)},k.objectFromMap=function re(se){const O=Object.create(null);for(const[I,he]of se)O[I]=he;return O},k.objectSize=function Q(se){return Object.keys(se).length},k.setVerbosityLevel=function U(se){Number.isInteger(se)&&(F=se)},k.shadow=ue,k.string32=function G(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,255&se)},k.stringToBytes=j,k.stringToPDFString=function N(se){if(se[0]>="\xef"){let I;if("\xfe"===se[0]&&"\xff"===se[1]?I="utf-16be":"\xff"===se[0]&&"\xfe"===se[1]?I="utf-16le":"\xef"===se[0]&&"\xbb"===se[1]&&"\xbf"===se[2]&&(I="utf-8"),I)try{const he=new TextDecoder(I,{fatal:!0}),B=j(se);return he.decode(B)}catch(he){ne(`stringToPDFString: "${he}".`)}}const O=[];for(let I=0,he=se.length;I<he;I++){const B=C[se.charCodeAt(I)];O.push(B?String.fromCharCode(B):se.charAt(I))}return O.join("")},k.stringToUTF16BEString=function be(se){const O=["\xfe\xff"];for(let I=0,he=se.length;I<he;I++){const B=se.charCodeAt(I);O.push(String.fromCharCode(B>>8&255),String.fromCharCode(255&B))}return O.join("")},k.stringToUTF8String=_e,k.unreachable=V,k.utf8StringToString=function ye(se){return unescape(encodeURIComponent(se))},k.warn=ne,ie(2),k.IDENTITY_MATRIX=[1,0,0,1,0,0],k.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],k.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},k.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},k.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},k.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},k.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},k.AnnotationReplyType={GROUP:"Group",REPLY:"R"},k.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},k.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},k.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},k.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},k.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},k.PageActionEventType={O:"PageOpen",C:"PageClose"},k.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},k.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const v={ERRORS:0,WARNINGS:1,INFOS:5};k.VerbosityLevel=v,k.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},k.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},k.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},k.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=v.WARNINGS;function ne(se){F>=v.WARNINGS&&console.log(`Warning: ${se}`)}function V(se){throw new Error(se)}function ue(se,O,I){return Object.defineProperty(se,O,{value:I,enumerable:!0,configurable:!0,writable:!1}),I}const M=function(){function O(I,he){this.constructor===O&&V("Cannot initialize BaseException."),this.message=I,this.name=he}return O.prototype=new Error,O.constructor=O,O}();function j(se){"string"!=typeof se&&V("Invalid argument for stringToBytes");const O=se.length,I=new Uint8Array(O);for(let he=0;he<O;++he)I[he]=255&se.charCodeAt(he);return I}function H(se){return void 0!==se.length?se.length:void 0!==se.byteLength?se.byteLength:void V("Invalid argument for arrayByteLength")}k.BaseException=M,k.PasswordException=class o extends M{constructor(O,I){super(O,"PasswordException"),this.code=I}},k.UnknownErrorException=class c extends M{constructor(O,I){super(O,"UnknownErrorException"),this.details=I}},k.InvalidPDFException=class t extends M{constructor(O){super(O,"InvalidPDFException")}},k.MissingPDFException=class l extends M{constructor(O){super(O,"MissingPDFException")}},k.UnexpectedResponseException=class h extends M{constructor(O,I){super(O,"UnexpectedResponseException"),this.status=I}},k.FormatError=class w extends M{constructor(O){super(O,"FormatError")}},k.AbortException=class S extends M{constructor(O){super(O,"AbortException")}},k.FeatureTest=class ee{static get isLittleEndian(){return ue(this,"isLittleEndian",function ge(){const se=new Uint8Array(4);return se[0]=1,1===new Uint32Array(se.buffer,0,1)[0]}())}static get isEvalSupported(){return ue(this,"isEvalSupported",function Ce(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const de=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class ce{static makeHexColor(O,I,he){return`#${de[O]}${de[I]}${de[he]}`}static scaleMinMax(O,I){let he;O[0]?(O[0]<0&&(he=I[0],I[0]=I[1],I[1]=he),I[0]*=O[0],I[1]*=O[0],O[3]<0&&(he=I[2],I[2]=I[3],I[3]=he),I[2]*=O[3],I[3]*=O[3]):(he=I[0],I[0]=I[2],I[2]=he,he=I[1],I[1]=I[3],I[3]=he,O[1]<0&&(he=I[2],I[2]=I[3],I[3]=he),I[2]*=O[1],I[3]*=O[1],O[2]<0&&(he=I[0],I[0]=I[1],I[1]=he),I[0]*=O[2],I[1]*=O[2]),I[0]+=O[4],I[1]+=O[4],I[2]+=O[5],I[3]+=O[5]}static transform(O,I){return[O[0]*I[0]+O[2]*I[1],O[1]*I[0]+O[3]*I[1],O[0]*I[2]+O[2]*I[3],O[1]*I[2]+O[3]*I[3],O[0]*I[4]+O[2]*I[5]+O[4],O[1]*I[4]+O[3]*I[5]+O[5]]}static applyTransform(O,I){return[O[0]*I[0]+O[1]*I[2]+I[4],O[0]*I[1]+O[1]*I[3]+I[5]]}static applyInverseTransform(O,I){const he=I[0]*I[3]-I[1]*I[2];return[(O[0]*I[3]-O[1]*I[2]+I[2]*I[5]-I[4]*I[3])/he,(-O[0]*I[1]+O[1]*I[0]+I[4]*I[1]-I[5]*I[0])/he]}static getAxialAlignedBoundingBox(O,I){const he=ce.applyTransform(O,I),B=ce.applyTransform(O.slice(2,4),I),te=ce.applyTransform([O[0],O[3]],I),x=ce.applyTransform([O[2],O[1]],I);return[Math.min(he[0],B[0],te[0],x[0]),Math.min(he[1],B[1],te[1],x[1]),Math.max(he[0],B[0],te[0],x[0]),Math.max(he[1],B[1],te[1],x[1])]}static inverseTransform(O){const I=O[0]*O[3]-O[1]*O[2];return[O[3]/I,-O[1]/I,-O[2]/I,O[0]/I,(O[2]*O[5]-O[4]*O[3])/I,(O[4]*O[1]-O[5]*O[0])/I]}static apply3dTransform(O,I){return[O[0]*I[0]+O[1]*I[1]+O[2]*I[2],O[3]*I[0]+O[4]*I[1]+O[5]*I[2],O[6]*I[0]+O[7]*I[1]+O[8]*I[2]]}static singularValueDecompose2dScale(O){const I=[O[0],O[2],O[1],O[3]],he=O[0]*I[0]+O[1]*I[2],x=O[2]*I[1]+O[3]*I[3],oe=(he+x)/2,Y=Math.sqrt((he+x)**2-4*(he*x-(O[2]*I[0]+O[3]*I[2])*(O[0]*I[1]+O[1]*I[3])))/2,xe=oe-Y||1;return[Math.sqrt(oe+Y||1),Math.sqrt(xe)]}static normalizeRect(O){const I=O.slice(0);return O[0]>O[2]&&(I[0]=O[2],I[2]=O[0]),O[1]>O[3]&&(I[1]=O[3],I[3]=O[1]),I}static intersect(O,I){const he=Math.max(Math.min(O[0],O[2]),Math.min(I[0],I[2])),B=Math.min(Math.max(O[0],O[2]),Math.max(I[0],I[2]));if(he>B)return null;const te=Math.max(Math.min(O[1],O[3]),Math.min(I[1],I[3])),x=Math.min(Math.max(O[1],O[3]),Math.max(I[1],I[3]));return te>x?null:[he,te,B,x]}static bezierBoundingBox(O,I,he,B,te,x,oe,Y){const fe=[],xe=[[],[]];let Re,Le,Oe,ke,De,Me,Ue,Ne;for(let $e=0;$e<2;++$e)if(0===$e?(Le=6*O-12*he+6*te,Re=-3*O+9*he-9*te+3*oe,Oe=3*he-3*O):(Le=6*I-12*B+6*x,Re=-3*I+9*B-9*x+3*Y,Oe=3*B-3*I),Math.abs(Re)<1e-12){if(Math.abs(Le)<1e-12)continue;ke=-Oe/Le,0<ke&&ke<1&&fe.push(ke)}else Ue=Le*Le-4*Oe*Re,Ne=Math.sqrt(Ue),!(Ue<0)&&(De=(-Le+Ne)/(2*Re),0<De&&De<1&&fe.push(De),Me=(-Le-Ne)/(2*Re),0<Me&&Me<1&&fe.push(Me));let Be,Ve=fe.length;const We=Ve;for(;Ve--;)ke=fe[Ve],Be=1-ke,xe[0][Ve]=Be*Be*Be*O+3*Be*Be*ke*he+3*Be*ke*ke*te+ke*ke*ke*oe,xe[1][Ve]=Be*Be*Be*I+3*Be*Be*ke*B+3*Be*ke*ke*x+ke*ke*ke*Y;return xe[0][We]=O,xe[1][We]=I,xe[0][We+1]=oe,xe[1][We+1]=Y,xe[0].length=xe[1].length=We+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}k.Util=ce;const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _e(se){return decodeURIComponent(escape(se))}},(me,k,ie)=>{ie(3)},(me,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.isNodeJS=void 0;const ie=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);k.isNodeJS=ie},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var me,ie,_,pe,le,e,J,D,Je,P;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:f,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:m}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=f,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=m}function setPDFNetworkStreamFactory(f){createPDFNetworkStream=f}function getDocument(f){const a=new PDFDocumentLoadingTask;let m;if("string"==typeof f||f instanceof URL)m={url:f};else if((0,_util.isArrayBuffer)(f))m={data:f};else if(f instanceof PDFDataRangeTransport)m={range:f};else{if("object"!=typeof f)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!f.url&&!f.data&&!f.range)throw new Error("Invalid parameter object: need either .data, .range or .url");m=f}const i=Object.create(null);let s=null,u=null;for(const g in m){const p=m[g];switch(g){case"url":if(typeof window<"u")try{i[g]=new URL(p,window.location).href;continue}catch(n){(0,_util.warn)(`Cannot create valid URL: "${n}".`)}else if("string"==typeof p||p instanceof URL){i[g]=p.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":s=p;continue;case"worker":u=p;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&p instanceof Buffer)i[g]=new Uint8Array(p);else{if(p instanceof Uint8Array)break;if("string"==typeof p)i[g]=(0,_util.stringToBytes)(p);else if("object"!=typeof p||null===p||isNaN(p.length)){if(!(0,_util.isArrayBuffer)(p))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[g]=new Uint8Array(p)}else i[g]=new Uint8Array(p)}continue}i[g]=p}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!u){const g={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=g.port?PDFWorker.fromPort(g):new PDFWorker(g),a._worker=u}const T=a.docId;return u.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const g=_fetchDocument(u,i,s,T),p=new Promise(function(n){let r;s?r=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},s):i.data||(r=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),n(r)});return Promise.all([g,p]).then(function([n,r]){if(a.destroyed)throw new Error("Loading aborted");const v=new _message_handler.MessageHandler(T,n,u.port),A=new WorkerTransport(v,a,r,i);a._transport=A,v.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(f,a,m,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(f,a,m,i){if(f.destroyed)throw new Error("Worker was destroyed");m&&(a.length=m.length,a.initialData=m.initialData,a.progressiveDone=m.progressiveDone,a.contentDispositionFilename=m.contentDispositionFilename);const s=yield f.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(f.destroyed)throw new Error("Worker was destroyed");return s})).apply(this,arguments)}const k=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+ct(k,me)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}};let PDFDocumentLoadingTask=k;me=new WeakMap,we(PDFDocumentLoadingTask,me,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,m,i=!1,s=null){this.length=a,this.initialData=m,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,m){for(const i of this._rangeListeners)i(a,m)}onDataProgress(a,m){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,m)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const m of this._progressiveReadListeners)m(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,m){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,m){var s,i=this;this._pdfInfo=a,this._transport=m,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(s=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return s.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,m,i,s,u=!1){this._pageIndex=a,this._pageInfo=m,this._ownerDocument=s,this._transport=i,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:m=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:m,offsetX:i,offsetY:s,dontFlip:u})}getAnnotations({intent:a="display"}={}){const m=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(m.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,m.renderingIntent),this._annotationPromises.set(m.cacheKey,i),i=i.then(s=>{for(const u of s)void 0!==u.titleObj&&Object.defineProperty(u,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str)}),void 0!==u.contentsObj&&Object.defineProperty(u,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str)});return s})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:m,intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:T=null,canvasFactory:g=null,background:p=null,optionalContentConfigPromise:n=null,annotationCanvasMap:r=null,pageColors:v=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const A=this._transport.getRenderingIntent(i,s);this.pendingCleanup=!1,n||(n=this._transport.getOptionalContentConfig());let y=this._intentStates.get(A.cacheKey);y||(y=Object.create(null),this._intentStates.set(A.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const L=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),R=!!(A.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(A));const F=X=>{y.renderTasks.delete(U),(this.cleanupAfterRender||R)&&(this.pendingCleanup=!0),this._tryCleanup(),X?(U.capability.reject(X),this._abortOperatorList({intentState:y,reason:X instanceof Error?X:new Error(X)})):U.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},U=new InternalRenderTask({callback:F,params:{canvasContext:a,viewport:m,transform:u,imageLayer:T,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:r,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:v});(y.renderTasks||(y.renderTasks=new Set)).add(U);const q=U.task;return Promise.all([y.displayReadyCapability.promise,n]).then(([X,ne])=>{this.pendingCleanup?F():(this._stats&&this._stats.time("Rendering"),U.initializeGraphics({transparency:X,optionalContentConfig:ne}),U.operatorListChanged())}).catch(F),q}getOperatorList({intent:a="display",annotationMode:m=_util.AnnotationMode.ENABLE}={}){const s=this._transport.getRenderingIntent(a,m,!0);let T,u=this._intentStates.get(s.cacheKey);return u||(u=Object.create(null),this._intentStates.set(s.cacheKey,u)),u.opListReadCapability||(T=Object.create(null),T.operatorListChanged=function i(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(T))},u.opListReadCapability=(0,_util.createPromiseCapability)(),(u.renderTasks||(u.renderTasks=new Set)).add(T),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),u.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:m=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===m},{highWaterMark:100,size:s=>s.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const m=this.streamTextContent(a);return new Promise(function(i,s){const T=m.getReader(),g={items:[],styles:Object.create(null)};!function u(){T.read().then(function({value:p,done:n}){n?i(g):(Object.assign(g.styles,p.styles),g.items.push(...p.items),u())},s)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const m of this._intentStates.values())if(this._abortOperatorList({intentState:m,reason:new Error("Page was destroyed."),force:!0}),!m.opListReadCapability)for(const i of m.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const m of this._bitmaps)m.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:m,operatorList:i}of this._intentStates.values())if(m.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const m of this._bitmaps)m.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,m){const i=this._intentStates.get(m);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,m){for(let i=0,s=a.length;i<s;i++)m.operatorList.fnArray.push(a.fnArray[i]),m.operatorList.argsArray.push(a.argsArray[i]);m.operatorList.lastChunk=a.lastChunk;for(const i of m.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:m}){const s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:m,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),u=this._intentStates.get(m);u.streamReader=s;const T=()=>{s.read().then(({value:g,done:p})=>{p?u.streamReader=null:this._transport.destroyed||(this._renderPageChunk(g,u),T())},g=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();this._tryCleanup()}if(u.displayReadyCapability)u.displayReadyCapability.reject(g);else{if(!u.opListReadCapability)throw g;u.opListReadCapability.reject(g)}}})};T()}_abortOperatorList({intentState:a,reason:m,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(m instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:m,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(m.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[s,u]of this._intentStates)if(u===a){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,m){const i={data:structuredClone(a,m)};this._deferred.then(()=>{for(const s of this._listeners)s.call(this,i)})}addEventListener(a,m){this._listeners.push(m)}removeEventListener(a,m){const i=this._listeners.indexOf(m);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const f=document?.currentScript?.src;f&&(PDFWorkerUtil.fallbackWorkerSrc=f.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(f,a){let m;try{if(m=new URL(f),!m.origin||"null"===m.origin)return!1}catch{return!1}const i=new URL(a,m);return m.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(f){return URL.createObjectURL(new Blob([`importScripts("${f}");`]))};const _PDFWorker=class{constructor({name:f=null,port:a=null,verbosity:m=(0,_util.getVerbosityLevel)()}={}){if(a&&Se(_PDFWorker,ie).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=f,this.destroyed=!1,this.verbosity=m,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return Se(_PDFWorker,ie).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(f){this._port=f,this._messageHandler=new _message_handler.MessageHandler("main","worker",f),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let f=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,f)||(f=PDFWorkerUtil.createCDNWrapper(new URL(f,window.location).href));const a=new Worker(f),m=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",s),m.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};a.addEventListener("error",s),m.on("test",T=>{a.removeEventListener("error",s),this.destroyed?i():T?(this._messageHandler=m,this._port=a,this._webWorker=a,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),m.destroy(),a.terminate())}),m.on("ready",T=>{if(a.removeEventListener("error",s),this.destroyed)i();else try{u()}catch{this._setupFakeWorker()}});const u=()=>{const T=new Uint8Array;m.send("test",T,[T.buffer])};return void u()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(f=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const m="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(m+"_worker",m,a);f.setup(i,a);const s=new _message_handler.MessageHandler(m,m+"_worker",a);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(f=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${f.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Se(_PDFWorker,ie).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(f){if(!f?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Se(this,ie).has(f.port)?Se(this,ie).get(f.port):new _PDFWorker(f)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function f(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ie=new WeakMap,we(PDFWorker,ie,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(a,m,i,s){we(this,_,null),we(this,pe,new Map),we(this,le,new Map),we(this,e,null),this.messageHandler=a,this.loadingTask=m,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:m.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,s.useWorkerFetch||(this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Se(this,_)}getRenderingIntent(a,m=_util.AnnotationMode.ENABLE,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,u="";switch(a){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(m){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,u=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${m}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${u}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of Se(this,pe).values())a.push(i._destroy());Se(this,pe).clear(),Se(this,le).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const m=this.messageHandler.sendWithPromise("Terminate",null);return a.push(m),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ie(this,e,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:m}=this;a.on("GetReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},s.onPull=()=>{this._fullReader.read().then(function({value:u,done:T}){T?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(u),1,[u]))}).catch(u=>{s.error(u)})},s.onCancel=u=>{this._fullReader.cancel(u),s.ready.catch(T=>{if(!this.destroyed)throw T})}}),a.on("ReaderHeadersReady",i=>{const s=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&m.onProgress?.(this._lastProgress),u.onProgress=T=>{m.onProgress?.({loaded:T.loaded,total:T.total})}),s.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},s.reject),s.promise}),a.on("GetRangeReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(i.begin,i.end);u?(s.onPull=()=>{u.read().then(function({value:T,done:g}){g?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(T),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(T),1,[T]))}).catch(T=>{s.error(T)})},s.onCancel=T=>{u.cancel(T),s.ready.catch(g=>{if(!this.destroyed)throw g})}):s.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,m._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":s=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}m._capability.reject(s)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),m.onPassword){const s=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{m.onPassword(s,i.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{m.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||Se(this,pe).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,s,u])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(s){case"Font":const T=this._params;if("error"in u){const n=u.error;(0,_util.warn)(`Error during font loading: ${n}`),this.commonObjs.resolve(i,n);break}let g=null;T.pdfBug&&globalThis.FontInspector?.enabled&&(g={registerFont(n,r){globalThis.FontInspector.fontAdded(n,r)}});const p=new _font_loader.FontFaceObject(u,{isEvalSupported:T.isEvalSupported,disableFontFace:T.disableFontFace,ignoreErrors:T.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:g});this.fontLoader.bind(p).catch(n=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!T.fontExtraProperties&&p.data&&(p.data=null),this.commonObjs.resolve(i,p)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,u);break;default:throw new Error(`Got unknown common object type ${s}`)}}),a.on("obj",([i,s,u,T])=>{if(this.destroyed)return;const g=Se(this,pe).get(s);if(!g.objs.has(i))switch(u){case"Image":g.objs.resolve(i,T);const p=8e6;if(T){let n;if(T.bitmap){const{bitmap:r,width:v,height:A}=T;n=v*A*4,g._bitmaps.add(r)}else n=T.data?.length||0;n>p&&(g.cleanupAfterRender=!0)}break;case"Pattern":g.objs.resolve(i,T);break;default:throw new Error(`Got unknown object type ${u}`)}}),a.on("DocProgress",i=>{this.destroyed||m.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||Ie(this,_,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const m=a-1,i=Se(this,le).get(m);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:m}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const T=new PDFPageProxy(m,u,this,this._params.ownerDocument,this._params.pdfBug);return Se(this,pe).set(m,T),T});return Se(this,le).set(m,s),s}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,m){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:m})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Se(this,e)||Ie(this,e,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var m=this;return _asyncToGenerator(function*(){if(yield m.messageHandler.sendWithPromise("Cleanup",null),!m.destroyed){for(const i of Se(m,pe).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);m.commonObjs.clear(),a||m.fontLoader.clear(),Ie(m,e,null),m._getFieldObjectsPromise=null,m._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}_=new WeakMap,pe=new WeakMap,le=new WeakMap,e=new WeakMap;class PDFObjects{constructor(){we(this,D),we(this,J,Object.create(null))}get(a,m=null){if(m){const s=Pe(this,D,Je).call(this,a);return s.capability.promise.then(()=>m(s.data)),null}const i=Se(this,J)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return Se(this,J)[a]?.capability.settled||!1}resolve(a,m=null){const i=Pe(this,D,Je).call(this,a);i.data=m,i.capability.resolve()}clear(){Ie(this,J,Object.create(null))}}J=new WeakMap,D=new WeakSet,Je=function(a){return Se(this,J)[a]||(Se(this,J)[a]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const b=class{constructor({callback:a,params:m,objs:i,commonObjs:s,annotationCanvasMap:u,operatorList:T,pageIndex:g,canvasFactory:p,useRequestAnimationFrame:n=!1,pdfBug:r=!1,pageColors:v=null}){this.callback=a,this.params=m,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=T,this._pageIndex=g,this.canvasFactory=p,this._pdfBug=r,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===n&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=m.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:m}){if(this.cancelled)return;if(this._canvas){if(Se(b,P).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Se(b,P).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:u,imageLayer:T,background:g}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,T,m,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:s,transparency:a,background:g}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Se(b,P).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&Se(b,P).delete(a._canvas),a.callback())))})()}};let InternalRenderTask=b;P=new WeakMap,we(InternalRenderTask,P,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.StatTimer=k.RenderingCancelledException=k.PixelsPerInch=k.PageViewport=k.PDFDateString=k.DOMStandardFontDataFactory=k.DOMSVGFactory=k.DOMCanvasFactory=k.DOMCMapReaderFactory=void 0,k.deprecated=function r(R){console.log("Deprecated API usage: "+R)},k.getFilenameFromUrl=function u(R){const F=R.indexOf("#"),U=R.indexOf("?"),q=Math.min(F>0?F:R.length,U>0?U:R.length);return R.substring(R.lastIndexOf("/",q)+1,q)},k.getPdfFilenameFromUrl=function T(R,F="document.pdf"){if("string"!=typeof R)return F;if(i(R))return(0,pe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,X=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let ne=q.exec(X[1])||q.exec(X[2])||q.exec(X[3]);if(ne&&(ne=ne[0],ne.includes("%")))try{ne=q.exec(decodeURIComponent(ne))[0]}catch{}return ne||F},k.getXfaPageViewport=function y(R,{scale:F=1,rotation:U=0}){const{width:q,height:X}=R.attributes.style,ne=[0,0,parseInt(q),parseInt(X)];return new a({viewBox:ne,scale:F,rotation:U})},k.isDataScheme=i,k.isPdfFile=function s(R){return"string"==typeof R&&/\.pdf$/i.test(R)},k.isValidFetchUrl=p,k.loadScript=function n(R,F=!1){return new Promise((U,q)=>{const X=document.createElement("script");X.src=R,X.onload=function(ne){F&&X.remove(),U(ne)},X.onerror=function(){q(new Error(`Cannot load script at: ${X.src}`))},(document.head||document.documentElement).appendChild(X)})};var _=ie(6),pe=ie(1);const L=class{};let v,e=L;function D(R){return d.apply(this,arguments)}function d(){return(d=_asyncToGenerator(function*(R,F=!1){if(p(R,document.baseURI)){const U=yield fetch(R);if(!U.ok)throw new Error(U.statusText);return F?new Uint8Array(yield U.arrayBuffer()):(0,pe.stringToBytes)(yield U.text())}return new Promise((U,q)=>{const X=new XMLHttpRequest;X.open("GET",R,!0),F&&(X.responseType="arraybuffer"),X.onreadystatechange=()=>{if(X.readyState===XMLHttpRequest.DONE){if(200===X.status||0===X.status){let ne;if(F&&X.response?ne=new Uint8Array(X.response):!F&&X.responseText&&(ne=(0,pe.stringToBytes)(X.responseText)),ne)return void U(ne)}q(new Error(X.statusText))}},X.send(null)})})).apply(this,arguments)}ze(e,"CSS",96),ze(e,"PDF",72),ze(e,"PDF_TO_CSS_UNITS",L.CSS/L.PDF),k.PixelsPerInch=e,k.DOMCanvasFactory=class J extends _.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,U){const q=this._document.createElement("canvas");return q.width=F,q.height=U,q}},k.DOMCMapReaderFactory=class P extends _.BaseCMapReaderFactory{_fetchData(F,U){return D(F,this.isCompressed).then(q=>({cMapData:q,compressionType:U}))}},k.DOMStandardFontDataFactory=class b extends _.BaseStandardFontDataFactory{_fetchData(F){return D(F,!0)}},k.DOMSVGFactory=class f extends _.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class a{constructor({viewBox:F,scale:U,rotation:q,offsetX:X=0,offsetY:ne=0,dontFlip:V=!1}){this.viewBox=F,this.scale=U,this.rotation=q,this.offsetX=X,this.offsetY=ne;const Z=(F[2]+F[0])/2,K=(F[3]+F[1])/2;let ae,ue,M,o,c,t,l,h;switch((q%=360)<0&&(q+=360),q){case 180:ae=-1,ue=0,M=0,o=1;break;case 90:ae=0,ue=1,M=1,o=0;break;case 270:ae=0,ue=-1,M=-1,o=0;break;case 0:ae=1,ue=0,M=0,o=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}V&&(M=-M,o=-o),0===ae?(c=Math.abs(K-F[1])*U+X,t=Math.abs(Z-F[0])*U+ne,l=Math.abs(F[3]-F[1])*U,h=Math.abs(F[2]-F[0])*U):(c=Math.abs(Z-F[0])*U+X,t=Math.abs(K-F[1])*U+ne,l=Math.abs(F[2]-F[0])*U,h=Math.abs(F[3]-F[1])*U),this.transform=[ae*U,ue*U,M*U,o*U,c-ae*U*Z-M*U*K,t-ue*U*Z-o*U*K],this.width=l,this.height=h}clone({scale:F=this.scale,rotation:U=this.rotation,offsetX:q=this.offsetX,offsetY:X=this.offsetY,dontFlip:ne=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:F,rotation:U,offsetX:q,offsetY:X,dontFlip:ne})}convertToViewportPoint(F,U){return pe.Util.applyTransform([F,U],this.transform)}convertToViewportRectangle(F){const U=pe.Util.applyTransform([F[0],F[1]],this.transform),q=pe.Util.applyTransform([F[2],F[3]],this.transform);return[U[0],U[1],q[0],q[1]]}convertToPdfPoint(F,U){return pe.Util.applyInverseTransform([F,U],this.transform)}}function i(R){const F=R.length;let U=0;for(;U<F&&""===R[U].trim();)U++;return"data:"===R.substring(U,U+5).toLowerCase()}function p(R,F){try{const{protocol:U}=F?new URL(R,F):new URL(R);return"http:"===U||"https:"===U}catch{return!1}}k.PageViewport=a,k.RenderingCancelledException=class m extends pe.BaseException{constructor(F,U){super(F,"RenderingCancelledException"),this.type=U}},k.StatTimer=class g{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,pe.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,pe.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let U=0;for(const q of this.times){const X=q.name;X.length>U&&(U=X.length)}for(const q of this.times){const X=q.end-q.start;F.push(`${q.name.padEnd(U)} ${X}ms\n`)}return F.join("")}},k.PDFDateString=class A{static toDateObject(F){if(!F||"string"!=typeof F)return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const U=v.exec(F);if(!U)return null;const q=parseInt(U[1],10);let X=parseInt(U[2],10);X=X>=1&&X<=12?X-1:0;let ne=parseInt(U[3],10);ne=ne>=1&&ne<=31?ne:1;let V=parseInt(U[4],10);V=V>=0&&V<=23?V:0;let Z=parseInt(U[5],10);Z=Z>=0&&Z<=59?Z:0;let K=parseInt(U[6],10);K=K>=0&&K<=59?K:0;const ae=U[7]||"Z";let ue=parseInt(U[8],10);ue=ue>=0&&ue<=23?ue:0;let M=parseInt(U[9],10)||0;return M=M>=0&&M<=59?M:0,"-"===ae?(V+=ue,Z+=M):"+"===ae&&(V-=ue,Z-=M),new Date(Date.UTC(q,X,ne,V,Z,K))}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.BaseStandardFontDataFactory=k.BaseSVGFactory=k.BaseCanvasFactory=k.BaseCMapReaderFactory=void 0;var _=ie(1);class pe{constructor(){this.constructor===pe&&(0,_.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,P){if(d<=0||P<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(d,P);return{canvas:b,context:b.getContext("2d")}}reset(d,P,b){if(!d.canvas)throw new Error("Canvas is not specified");if(P<=0||b<=0)throw new Error("Invalid canvas size");d.canvas.width=P,d.canvas.height=b}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,P){(0,_.unreachable)("Abstract method `_createCanvas` called.")}}k.BaseCanvasFactory=pe;class le{constructor({baseUrl:d=null,isCompressed:P=!1}){this.constructor===le&&(0,_.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=P}fetch({name:d}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const b=P.baseUrl+d+(P.isCompressed?".bcmap":"");return P._fetchData(b,P.isCompressed?_.CMapCompressionType.BINARY:_.CMapCompressionType.NONE).catch(a=>{throw new Error(`Unable to load ${P.isCompressed?"binary ":""}CMap at: ${b}`)})})()}_fetchData(d,P){(0,_.unreachable)("Abstract method `_fetchData` called.")}}k.BaseCMapReaderFactory=le;class e{constructor({baseUrl:d=null}){this.constructor===e&&(0,_.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}fetch({filename:d}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const b=`${P.baseUrl}${d}`;return P._fetchData(b).catch(f=>{throw new Error(`Unable to load font data at: ${b}`)})})()}_fetchData(d){(0,_.unreachable)("Abstract method `_fetchData` called.")}}k.BaseStandardFontDataFactory=e;class J{constructor(){this.constructor===J&&(0,_.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,P){if(d<=0||P<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),b.setAttribute("width",`${d}px`),b.setAttribute("height",`${P}px`),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${d} ${P}`),b}createElement(d){if("string"!=typeof d)throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,_.unreachable)("Abstract method `_createSVG` called.")}}k.BaseSVGFactory=J},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.FontLoader=k.FontFaceObject=void 0;var _=ie(1);class pe{constructor({docId:D,onUnsupportedFeature:d,ownerDocument:P=globalThis.document,styleElement:b=null}){this.constructor===pe&&(0,_.unreachable)("Cannot initialize BaseFontLoader."),this.docId=D,this._onUnsupportedFeature=d,this._document=P,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(D){this.nativeFontFaces.push(D),this._document.fonts.add(D)}insertRule(D){let d=this.styleElement;d||(d=this.styleElement=this._document.createElement("style"),d.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(d));const P=d.sheet;P.insertRule(D,P.cssRules.length)}clear(){for(const D of this.nativeFontFaces)this._document.fonts.delete(D);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(D){var d=this;return _asyncToGenerator(function*(){if(D.attached||D.missingFile)return;if(D.attached=!0,d.isFontLoadingAPISupported){const b=D.createNativeFontFace();if(b){d.addNativeFontFace(b);try{yield b.loaded}catch(f){throw d._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_.warn)(`Failed to load font '${b.family}': '${f}'.`),D.disableFontFace=!0,f}}return}const P=D.createFontFaceRule();if(P){if(d.insertRule(P),d.isSyncFontLoadingSupported)return;yield new Promise(b=>{const f=d._queueLoadingCallback(b);d._prepareFontLoadEvent([P],[D],f)})}})()}_queueLoadingCallback(D){(0,_.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,_.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,_.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(D,d,P){(0,_.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let le;k.FontLoader=le,k.FontLoader=le=class extends pe{constructor(D){super(D),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let D=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(D=!0),(0,_.shadow)(this,"isSyncFontLoadingSupported",D)}_queueLoadingCallback(D){const P=this.loadingContext,b={id:"pdfjs-font-loading-"+P.nextRequestId++,done:!1,complete:function d(){for((0,_.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;P.requests.length>0&&P.requests[0].done;){const f=P.requests.shift();setTimeout(f.callback,0)}},callback:D};return P.requests.push(b),b}get _loadTestFont(){return(0,_.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(D,d,P){function b(U,q){return U.charCodeAt(q)<<24|U.charCodeAt(q+1)<<16|U.charCodeAt(q+2)<<8|255&U.charCodeAt(q+3)}function f(U,q,X,ne){return U.substring(0,q)+ne+U.substring(q+X)}let a,m;const i=this._document.createElement("canvas");i.width=1,i.height=1;const s=i.getContext("2d");let u=0;const g=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=f(p,976,g.length,g);const v=1482184792;let A=b(p,16);for(a=0,m=g.length-3;a<m;a+=4)A=A-v+b(g,a)|0;a<g.length&&(A=A-v+b(g+"XXX",a)|0),p=f(p,16,4,(0,_.string32)(A));const y=`url(data:font/opentype;base64,${btoa(p)});`;this.insertRule(`@font-face {font-family:"${g}";src:${y}}`);const R=[];for(const U of d)R.push(U.loadedName);R.push(g);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const U of R){const q=this._document.createElement("span");q.textContent="Hi",q.style.fontFamily=U,F.appendChild(q)}this._document.body.appendChild(F),function T(U,q){if(u++,u>30)return(0,_.warn)("Load test font never loaded."),void q();s.font="30px "+U,s.fillText(".",0,20),s.getImageData(0,0,1,1).data[3]>0?q():setTimeout(T.bind(null,U,q))}(g,()=>{F.remove(),P.complete()})}},k.FontFaceObject=class e{constructor(D,{isEvalSupported:d=!0,disableFontFace:P=!1,ignoreErrors:b=!1,onUnsupportedFeature:f,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const m in D)this[m]=D[m];this.isEvalSupported=!1!==d,this.disableFontFace=!0===P,this.ignoreErrors=!0===b,this._onUnsupportedFeature=f,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let D;if(this.cssFontInfo){const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),D=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}else D=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),D}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const D=(0,_.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(D)});`;let P;if(this.cssFontInfo){let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${d}}`}else P=`@font-face {font-family:"${this.loadedName}";src:${d}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,d),P}getPathGenerator(D,d){if(void 0!==this.compiledGlyphs[d])return this.compiledGlyphs[d];let P;try{P=D.get(this.loadedName+"_path_"+d)}catch(b){if(!this.ignoreErrors)throw b;return this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[d]=function(f,a){}}if(this.isEvalSupported&&_.FeatureTest.isEvalSupported){const b=[];for(const f of P){const a=void 0!==f.args?f.args.join(","):"";b.push("c.",f.cmd,"(",a,");\n")}return this.compiledGlyphs[d]=new Function("c","size",b.join(""))}return this.compiledGlyphs[d]=function(b,f){for(const a of P)"scale"===a.cmd&&(a.args=[f,-f]),b[a.cmd].apply(b,a.args)}}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationStorage=void 0;var _=ie(9),pe=ie(1);k.AnnotationStorage=class le{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(J,D){const d=this._storage.get(J);return void 0===d?D:Object.assign(D,d)}getRawValue(J){return this._storage.get(J)}setValue(J,D){const d=this._storage.get(J);let P=!1;if(void 0!==d)for(const[b,f]of Object.entries(D))d[b]!==f&&(P=!0,d[b]=f);else P=!0,this._storage.set(J,D);P&&this._setModified()}getAll(){return this._storage.size>0?(0,pe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const J=new _.MurmurHash3_64;for(const[D,d]of this._storage)J.update(`${D}:${JSON.stringify(d)}`);return J.hexdigest()}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MurmurHash3_64=void 0;var _=ie(1);const pe=3285377520,le=4294901760,e=65535;k.MurmurHash3_64=class J{constructor(d){this.h1=d?4294967295&d:pe,this.h2=d?4294967295&d:pe}update(d){let P,b;if("string"==typeof d){P=new Uint8Array(2*d.length),b=0;for(let v=0,A=d.length;v<A;v++){const y=d.charCodeAt(v);y<=255?P[b++]=y:(P[b++]=y>>>8,P[b++]=255&y)}}else{if(!(0,_.isArrayBuffer)(d))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=d.slice(),b=P.byteLength}const f=b>>2,a=b-4*f,m=new Uint32Array(P.buffer,0,f);let i=0,s=0,u=this.h1,T=this.h2;const g=3432918353,p=461845907,n=g&e,r=p&e;for(let v=0;v<f;v++)1&v?(i=m[v],i=i*g&le|i*n&e,i=i<<15|i>>>17,i=i*p&le|i*r&e,u^=i,u=u<<13|u>>>19,u=5*u+3864292196):(s=m[v],s=s*g&le|s*n&e,s=s<<15|s>>>17,s=s*p&le|s*r&e,T^=s,T=T<<13|T>>>19,T=5*T+3864292196);switch(i=0,a){case 3:i^=P[4*f+2]<<16;case 2:i^=P[4*f+1]<<8;case 1:i^=P[4*f],i=i*g&le|i*n&e,i=i<<15|i>>>17,i=i*p&le|i*r&e,1&f?u^=i:T^=i}this.h1=u,this.h2=T}hexdigest(){let d=this.h1,P=this.h2;d^=P>>>1,d=3981806797*d&le|36045*d&e,P=4283543511*P&le|(2950163797*(P<<16|d>>>16)&le)>>>16,d^=P>>>1,d=444984403*d&le|60499*d&e,P=3301882366*P&le|(3120437893*(P<<16|d>>>16)&le)>>>16,d^=P>>>1;const b=(d>>>0).toString(16),f=(P>>>0).toString(16);return b.padStart(8,"0")+f.padStart(8,"0")}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CanvasGraphics=void 0;var _=ie(1),pe=ie(11),le=ie(12),e=ie(3),J=ie(5);const P=4096,i=16;function T(M){if(M._transformStack&&(M._transformStack=[]),!M.mozCurrentTransform){M._originalSave=M.save,M._originalRestore=M.restore,M._originalRotate=M.rotate,M._originalScale=M.scale,M._originalTranslate=M.translate,M._originalTransform=M.transform,M._originalSetTransform=M.setTransform,M._originalResetTransform=M.resetTransform,M._transformMatrix=M._transformMatrix||[1,0,0,1,0,0],M._transformStack=[];try{const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"lineWidth");M._setLineWidth=o.set,M._getLineWidth=o.get,Object.defineProperty(M,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(M,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(M,"mozCurrentTransformInverse",{get:function(){const[c,t,l,h,w,S]=this._transformMatrix,E=c*h-t*l,j=t*l-c*h;return[h/E,t/j,l/j,c/E,(h*w-l*S)/j,(t*w-c*S)/E]}}),M.save=function(){const c=this._transformMatrix;this._transformStack.push(c),this._transformMatrix=c.slice(0,6),this._originalSave()},M.restore=function(){0===this._transformStack.length&&(0,_.warn)("Tried to restore a ctx when the stack was already empty.");const c=this._transformStack.pop();c&&(this._transformMatrix=c,this._originalRestore())},M.translate=function(c,t){const l=this._transformMatrix;l[4]=l[0]*c+l[2]*t+l[4],l[5]=l[1]*c+l[3]*t+l[5],this._originalTranslate(c,t)},M.scale=function(c,t){const l=this._transformMatrix;l[0]*=c,l[1]*=c,l[2]*=t,l[3]*=t,this._originalScale(c,t)},M.transform=function(c,t,l,h,w,S){const E=this._transformMatrix;this._transformMatrix=[E[0]*c+E[2]*t,E[1]*c+E[3]*t,E[0]*l+E[2]*h,E[1]*l+E[3]*h,E[0]*w+E[2]*S+E[4],E[1]*w+E[3]*S+E[5]],M._originalTransform(c,t,l,h,w,S)},M.setTransform=function(c,t,l,h,w,S){this._transformMatrix=[c,t,l,h,w,S],M._originalSetTransform(c,t,l,h,w,S)},M.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],M._originalResetTransform()},M.rotate=function(c){const t=Math.cos(c),l=Math.sin(c),h=this._transformMatrix;this._transformMatrix=[h[0]*t+h[2]*l,h[1]*t+h[3]*l,h[0]*-l+h[2]*t,h[1]*-l+h[3]*t,h[4],h[5]],this._originalRotate(c)}}}class g{constructor(o){this.canvasFactory=o,this.cache=Object.create(null)}getCanvas(o,c,t,l){let h;return void 0!==this.cache[o]?(h=this.cache[o],this.canvasFactory.reset(h,c,t),h.context.setTransform(1,0,0,1,0,0)):(h=this.canvasFactory.create(c,t),this.cache[o]=h),l&&T(h.context),h}delete(o){delete this.cache[o]}clear(){for(const o in this.cache)this.canvasFactory.destroy(this.cache[o]),delete this.cache[o]}}function p(M,o,c,t,l,h,w,S,E,j){const[H,W,G,Q,re,ge]=M.mozCurrentTransform;if(0===W&&0===G){const ce=Math.round(w*H+re),N=Math.round(S*Q+ge),Ae=Math.abs(Math.round((w+E)*H+re)-ce)||1,_e=Math.abs(Math.round((S+j)*Q+ge)-N)||1;return M.setTransform(Math.sign(H),0,0,Math.sign(Q),ce,N),M.drawImage(o,c,t,l,h,0,0,Ae,_e),M.setTransform(H,W,G,Q,re,ge),[Ae,_e]}if(0===H&&0===Q){const ce=Math.round(S*G+re),N=Math.round(w*W+ge),Ae=Math.abs(Math.round((S+j)*G+re)-ce)||1,_e=Math.abs(Math.round((w+E)*W+ge)-N)||1;return M.setTransform(0,Math.sign(W),Math.sign(G),0,ce,N),M.drawImage(o,c,t,l,h,0,0,_e,Ae),M.setTransform(H,W,G,Q,re,ge),[_e,Ae]}return M.drawImage(o,c,t,l,h,w,S,E,j),[Math.hypot(H,W)*E,Math.hypot(G,Q)*j]}class r{constructor(o,c){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,o,c])}clone(){const o=Object.create(this);return o.clipBox=this.clipBox.slice(),o}setCurrentPoint(o,c){this.x=o,this.y=c}updatePathMinMax(o,c,t){[c,t]=_.Util.applyTransform([c,t],o),this.minX=Math.min(this.minX,c),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,c),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(o,c){const t=_.Util.applyTransform(c,o),l=_.Util.applyTransform(c.slice(2),o);this.minX=Math.min(this.minX,t[0],l[0]),this.minY=Math.min(this.minY,t[1],l[1]),this.maxX=Math.max(this.maxX,t[0],l[0]),this.maxY=Math.max(this.maxY,t[1],l[1])}updateScalingPathMinMax(o,c){_.Util.scaleMinMax(o,c),this.minX=Math.min(this.minX,c[0]),this.maxX=Math.max(this.maxX,c[1]),this.minY=Math.min(this.minY,c[2]),this.maxY=Math.max(this.maxY,c[3])}updateCurvePathMinMax(o,c,t,l,h,w,S,E,j,H){const W=_.Util.bezierBoundingBox(c,t,l,h,w,S,E,j);if(H)return H[0]=Math.min(H[0],W[0],W[2]),H[1]=Math.max(H[1],W[0],W[2]),H[2]=Math.min(H[2],W[1],W[3]),void(H[3]=Math.max(H[3],W[1],W[3]));this.updateRectMinMax(o,W)}getPathBoundingBox(o=pe.PathType.FILL,c=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(o===pe.PathType.STROKE){c||(0,_.unreachable)("Stroke bounding box must include transform.");const l=_.Util.singularValueDecompose2dScale(c),h=l[0]*this.lineWidth/2,w=l[1]*this.lineWidth/2;t[0]-=h,t[1]-=w,t[2]+=h,t[3]+=w}return t}updateClipFromPath(){const o=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(o||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(o){this.clipBox=o,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(o=pe.PathType.FILL,c=null){return _.Util.intersect(this.clipBox,this.getPathBoundingBox(o,c))}}function v(M,o,c=null){if(typeof ImageData<"u"&&o instanceof ImageData)return void M.putImageData(o,0,0);const t=o.height,l=o.width,h=t%i,w=(t-h)/i,S=0===h?w:w+1,E=M.createImageData(l,i);let H,j=0;const W=o.data,G=E.data;let Q,re,ge,Ce,ee,de,ce,C;if(c)switch(c.length){case 1:ee=c[0],de=c[0],ce=c[0],C=c[0];break;case 4:ee=c[0],de=c[1],ce=c[2],C=c[3]}if(o.kind===_.ImageKind.GRAYSCALE_1BPP){const N=W.byteLength,z=new Uint32Array(G.buffer,0,G.byteLength>>2),Ae=z.length,be=l+7>>3;let _e=4294967295,ye=_.FeatureTest.isLittleEndian?4278190080:255;for(C&&255===C[0]&&0===C[255]&&([_e,ye]=[ye,_e]),Q=0;Q<S;Q++){for(ge=Q<w?i:h,H=0,re=0;re<ge;re++){const ve=N-j;let Te=0;const Ee=ve>be?l:8*ve-7,Fe=-8&Ee;let se=0,O=0;for(;Te<Fe;Te+=8)O=W[j++],z[H++]=128&O?_e:ye,z[H++]=64&O?_e:ye,z[H++]=32&O?_e:ye,z[H++]=16&O?_e:ye,z[H++]=8&O?_e:ye,z[H++]=4&O?_e:ye,z[H++]=2&O?_e:ye,z[H++]=1&O?_e:ye;for(;Te<Ee;Te++)0===se&&(O=W[j++],se=128),z[H++]=O&se?_e:ye,se>>=1}for(;H<Ae;)z[H++]=0;M.putImageData(E,0,Q*i)}}else if(o.kind===_.ImageKind.RGBA_32BPP){const N=!!(ee||de||ce);for(re=0,Ce=l*i*4,Q=0;Q<w;Q++){if(G.set(W.subarray(j,j+Ce)),j+=Ce,N)for(let z=0;z<Ce;z+=4)ee&&(G[z+0]=ee[G[z+0]]),de&&(G[z+1]=de[G[z+1]]),ce&&(G[z+2]=ce[G[z+2]]);M.putImageData(E,0,re),re+=i}if(Q<S){if(Ce=l*h*4,G.set(W.subarray(j,j+Ce)),N)for(let z=0;z<Ce;z+=4)ee&&(G[z+0]=ee[G[z+0]]),de&&(G[z+1]=de[G[z+1]]),ce&&(G[z+2]=ce[G[z+2]]);M.putImageData(E,0,re)}}else{if(o.kind!==_.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${o.kind}`);{const N=!!(ee||de||ce);for(ge=i,Ce=l*ge,Q=0;Q<S;Q++){for(Q>=w&&(ge=h,Ce=l*ge),H=0,re=Ce;re--;)G[H++]=W[j++],G[H++]=W[j++],G[H++]=W[j++],G[H++]=255;if(N)for(let z=0;z<H;z+=4)ee&&(G[z+0]=ee[G[z+0]]),de&&(G[z+1]=de[G[z+1]]),ce&&(G[z+2]=ce[G[z+2]]);M.putImageData(E,0,Q*i)}}}}function A(M,o){if(o.bitmap)return void M.drawImage(o.bitmap,0,0);const c=o.height,t=o.width,l=c%i,h=(c-l)/i,w=0===l?h:h+1,S=M.createImageData(t,i);let E=0;const j=o.data,H=S.data;for(let W=0;W<w;W++){const G=W<h?i:l;({srcPos:E}=(0,le.applyMaskImageData)({src:j,srcPos:E,dest:H,width:t,height:G})),M.putImageData(S,0,W*i)}}function y(M,o){const c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,l=c.length;t<l;t++){const h=c[t];void 0!==M[h]&&(o[h]=M[h])}void 0!==M.setLineDash&&(o.setLineDash(M.getLineDash()),o.lineDashOffset=M.lineDashOffset)}function L(M,o){M.strokeStyle=M.fillStyle=o||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",void 0!==M.setLineDash&&(M.setLineDash([]),M.lineDashOffset=0)}function R(M,o,c,t){const l=M.length;for(let h=3;h<l;h+=4){const w=M[h];if(0===w)M[h-3]=o,M[h-2]=c,M[h-1]=t;else if(w<255){const S=255-w;M[h-3]=M[h-3]*w+o*S>>8,M[h-2]=M[h-2]*w+c*S>>8,M[h-1]=M[h-1]*w+t*S>>8}}}function F(M,o,c){const t=M.length;for(let h=3;h<t;h+=4)o[h]=o[h]*(c?c[M[h]]:M[h])*.00392156862745098|0}function U(M,o,c){const t=M.length;for(let l=3;l<t;l+=4){const h=77*M[l-3]+152*M[l-2]+28*M[l-1];o[l]=c?o[l]*c[h>>8]>>8:o[l]*h>>16}}function ne(M,o){const c=_.Util.singularValueDecompose2dScale(M);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*J.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==o?o:c[0]<=t||c[1]<=t}const V=["butt","round","square"],Z=["miter","round","bevel"],K={},ae={};class ue{constructor(o,c,t,l,h,w,S,E){this.ctx=o,this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=t,this.canvasFactory=l,this.imageLayer=h,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new g(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=S,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,o&&T(o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(o,c=null){return"string"==typeof o?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):c}beginDrawing({transform:o,viewport:c,transparency:t=!1,background:l=null}){const h=this.ctx.canvas.width,w=this.ctx.canvas.height,S=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const j=this.backgroundColor=this.ctx.fillStyle;let H=!0,W=S;if(this.ctx.fillStyle=S,W=this.ctx.fillStyle,H="string"==typeof W&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===E&&"#ffffff"===j||E===j||!H)this.foregroundColor=this.backgroundColor=null;else{const G=parseInt(W.slice(1),16),re=(G&&65280)>>8,ge=G&&255,Ce=de=>(de/=255)<=.03928?de/12.92:((de+.055)/1.055)**2.4,ee=Math.round(.2126*Ce((G&&16711680)>>16)+.7152*Ce(re)+.0722*Ce(ge));this.selectColor=(de,ce,C)=>{const N=.2126*Ce(de)+.7152*Ce(ce)+.0722*Ce(C);return Math.round(N)===ee?j:E}}}if(this.ctx.fillStyle=this.backgroundColor||S,this.ctx.fillRect(0,0,h,w),this.ctx.restore(),t){const E=this.cachedCanvases.getCanvas("transparent",h,w,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx,this.foregroundColor),o&&(this.ctx.transform.apply(this.ctx,o),this.outputScaleX=o[0],this.outputScaleY=o[0]),this.ctx.transform.apply(this.ctx,c.transform),this.viewportScale=c.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(o,c,t,l){const h=o.argsArray,w=o.fnArray;let S=c||0;const E=h.length;if(E===S)return S;const j=E-S>10&&"function"==typeof t,H=j?Date.now()+15:0;let W=0;const G=this.commonObjs,Q=this.objs;let re;for(;;){if(void 0!==l&&S===l.nextBreakPoint)return l.breakIt(S,t),S;if(re=w[S],re!==_.OPS.dependency)this[re].apply(this,h[S]);else for(const ge of h[S]){const Ce=ge.startsWith("g_")?G:Q;if(!Ce.has(ge))return Ce.get(ge,t),S}if(S++,S===E)return S;if(j&&++W>10){if(Date.now()>H)return t(),S;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const o of this._cachedBitmapsMap.values()){for(const c of o.values())typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&(c.width=c.height=0);o.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(o,c){const t=o.width,l=o.height;let H,W,h=Math.max(Math.hypot(c[0],c[1]),1),w=Math.max(Math.hypot(c[2],c[3]),1),S=t,E=l,j="prescale1";for(;h>2&&S>1||w>2&&E>1;){let G=S,Q=E;h>2&&S>1&&(G=Math.ceil(S/2),h/=S/G),w>2&&E>1&&(Q=Math.ceil(E/2),w/=E/Q),H=this.cachedCanvases.getCanvas(j,G,Q,!1),W=H.context,W.clearRect(0,0,G,Q),W.drawImage(o,0,0,S,E,0,0,G,Q),o=H.canvas,S=G,E=Q,j="prescale1"===j?"prescale2":"prescale1"}return{img:o,paintWidth:S,paintHeight:E}}_createMaskCanvas(o){const c=this.ctx,{width:t,height:l}=o,h=this.current.fillColor,w=this.current.patternFill,S=c.mozCurrentTransform;let E,j,H,W;if((o.bitmap||o.data)&&o.count>1){const Ae=o.bitmap||o.data.buffer,be=S.slice(0,4);j=JSON.stringify(w?be:[be,h]),E=this._cachedBitmapsMap.get(Ae),E||(E=new Map,this._cachedBitmapsMap.set(Ae,E));const _e=E.get(j);if(_e&&!w)return{canvas:_e,offsetX:Math.round(Math.min(S[0],S[2])+S[4]),offsetY:Math.round(Math.min(S[1],S[3])+S[5])};H=_e}H||(W=this.cachedCanvases.getCanvas("maskCanvas",t,l,!1),A(W.context,o));let G=_.Util.transform(S,[1/t,0,0,-1/l,0,0]);G=_.Util.transform(G,[1,0,0,1,0,-l]);const Q=_.Util.applyTransform([0,0],G),re=_.Util.applyTransform([t,l],G),ge=_.Util.normalizeRect([Q[0],Q[1],re[0],re[1]]),Ce=Math.round(ge[2]-ge[0])||1,ee=Math.round(ge[3]-ge[1])||1,de=this.cachedCanvases.getCanvas("fillCanvas",Ce,ee,!0),ce=de.context,C=Math.min(Q[0],re[0]),N=Math.min(Q[1],re[1]);ce.translate(-C,-N),ce.transform.apply(ce,G),H||(H=this._scaleImage(W.canvas,ce.mozCurrentTransformInverse),H=H.img,E&&w&&E.set(j,H)),ce.imageSmoothingEnabled=ne(ce.mozCurrentTransform,o.interpolate),p(ce,H,0,0,H.width,H.height,0,0,t,l),ce.globalCompositeOperation="source-in";const z=_.Util.transform(ce.mozCurrentTransformInverse,[1,0,0,1,-C,-N]);return ce.fillStyle=w?h.getPattern(c,this,z,pe.PathType.FILL):h,ce.fillRect(0,0,t,l),E&&!w&&(this.cachedCanvases.delete("fillCanvas"),E.set(j,de.canvas)),{canvas:de.canvas,offsetX:Math.round(C),offsetY:Math.round(N)}}setLineWidth(o){o!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=o,this.ctx.lineWidth=o}setLineCap(o){this.ctx.lineCap=V[o]}setLineJoin(o){this.ctx.lineJoin=Z[o]}setMiterLimit(o){this.ctx.miterLimit=o}setDash(o,c){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(o),t.lineDashOffset=c)}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(let c=0,t=o.length;c<t;c++){const l=o[c],w=l[1];switch(l[0]){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const o=this.inSMaskMode;this.current.activeSMask&&!o?this.beginSMaskMode():!this.current.activeSMask&&o&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const h=this.ctx;h.setTransform.apply(h,this.suspendedCtx.mozCurrentTransform),y(this.suspendedCtx,h),function u(M,o){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){o.save(),this.__originalSave()},M.restore=function(){o.restore(),this.__originalRestore()},M.translate=function(t,l){o.translate(t,l),this.__originalTranslate(t,l)},M.scale=function(t,l){o.scale(t,l),this.__originalScale(t,l)},M.transform=function(t,l,h,w,S,E){o.transform(t,l,h,w,S,E),this.__originalTransform(t,l,h,w,S,E)},M.setTransform=function(t,l,h,w,S,E){o.setTransform(t,l,h,w,S,E),this.__originalSetTransform(t,l,h,w,S,E)},M.resetTransform=function(){o.resetTransform(),this.__originalResetTransform()},M.rotate=function(t){o.rotate(t),this.__originalRotate(t)},M.clip=function(t){o.clip(t),this.__originalClip(t)},M.moveTo=function(c,t){o.moveTo(c,t),this.__originalMoveTo(c,t)},M.lineTo=function(c,t){o.lineTo(c,t),this.__originalLineTo(c,t)},M.bezierCurveTo=function(c,t,l,h,w,S){o.bezierCurveTo(c,t,l,h,w,S),this.__originalBezierCurveTo(c,t,l,h,w,S)},M.rect=function(c,t,l,h){o.rect(c,t,l,h),this.__originalRect(c,t,l,h)},M.closePath=function(){o.closePath(),this.__originalClosePath()},M.beginPath=function(){o.beginPath(),this.__originalBeginPath()}}(h,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(o){this.current.activeSMask&&(o?(o[0]=Math.floor(o[0]),o[1]=Math.floor(o[1]),o[2]=Math.ceil(o[2]),o[3]=Math.ceil(o[3])):o=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function X(M,o,c,t){const l=t[0],h=t[1],w=t[2]-l,S=t[3]-h;0===w||0===S||(function q(M,o,c,t,l,h,w,S,E,j,H){const W=!!h,G=W?h[0]:0,Q=W?h[1]:0,re=W?h[2]:0;let ge;ge="Luminosity"===l?U:F;const ee=Math.min(t,Math.ceil(1048576/c));for(let de=0;de<t;de+=ee){const ce=Math.min(ee,t-de),C=M.getImageData(S-j,de+(E-H),c,ce),N=o.getImageData(S,de+E,c,ce);W&&R(C.data,G,Q,re),ge(C.data,N.data,w),o.putImageData(N,S,de+E)}}(o.context,c,w,S,o.subtype,o.backdrop,o.transferMap,l,h,o.offsetX,o.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(c.canvas,0,0),M.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,o),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const o=this.current;this.stateStack.push(o),this.current=o.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(o,c,t,l,h,w){this.ctx.transform(o,c,t,l,h,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(o,c,t){const l=this.ctx,h=this.current;let E,j,w=h.x,S=h.y;const H=l.mozCurrentTransform,W=0===H[0]&&0===H[3]||0===H[1]&&0===H[2],G=W?t.slice(0):null;for(let Q=0,re=0,ge=o.length;Q<ge;Q++)switch(0|o[Q]){case _.OPS.rectangle:w=c[re++],S=c[re++];const Ce=c[re++],ee=c[re++],de=w+Ce,ce=S+ee;l.moveTo(w,S),0===Ce||0===ee?l.lineTo(de,ce):(l.lineTo(de,S),l.lineTo(de,ce),l.lineTo(w,ce)),W||h.updateRectMinMax(H,[w,S,de,ce]),l.closePath();break;case _.OPS.moveTo:w=c[re++],S=c[re++],l.moveTo(w,S),W||h.updatePathMinMax(H,w,S);break;case _.OPS.lineTo:w=c[re++],S=c[re++],l.lineTo(w,S),W||h.updatePathMinMax(H,w,S);break;case _.OPS.curveTo:E=w,j=S,w=c[re+4],S=c[re+5],l.bezierCurveTo(c[re],c[re+1],c[re+2],c[re+3],w,S),h.updateCurvePathMinMax(H,E,j,c[re],c[re+1],c[re+2],c[re+3],w,S,G),re+=6;break;case _.OPS.curveTo2:E=w,j=S,l.bezierCurveTo(w,S,c[re],c[re+1],c[re+2],c[re+3]),h.updateCurvePathMinMax(H,E,j,w,S,c[re],c[re+1],c[re+2],c[re+3],G),w=c[re+2],S=c[re+3],re+=4;break;case _.OPS.curveTo3:E=w,j=S,w=c[re+2],S=c[re+3],l.bezierCurveTo(c[re],c[re+1],w,S,w,S),h.updateCurvePathMinMax(H,E,j,c[re],c[re+1],w,S,w,S,G),re+=4;break;case _.OPS.closePath:l.closePath()}W&&h.updateScalingPathMinMax(H,G),h.setCurrentPoint(w,S)}closePath(){this.ctx.closePath()}stroke(o){o=!(typeof o<"u")||o;const c=this.ctx,t=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&t?.getPattern?(c.save(),c.strokeStyle=t.getPattern(c,this,c.mozCurrentTransformInverse,pe.PathType.STROKE),this.rescaleAndStroke(!1),c.restore()):this.rescaleAndStroke(!0)),o&&this.consumePath(this.current.getClippedPathBoundingBox()),c.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(o){o=!(typeof o<"u")||o;const c=this.ctx,t=this.current.fillColor;let h=!1;this.current.patternFill&&(c.save(),c.fillStyle=t.getPattern(c,this,c.mozCurrentTransformInverse,pe.PathType.FILL),h=!0);const w=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==w&&(this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill()),h&&c.restore(),o&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=K}eoClip(){this.pendingClip=ae}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const o=this.pendingTextPaths,c=this.ctx;if(void 0!==o){c.save(),c.beginPath();for(let t=0;t<o.length;t++){const l=o[t];c.setTransform.apply(c,l.transform),c.translate(l.x,l.y),l.addToPath(c,l.fontSize)}c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths}else c.beginPath()}setCharSpacing(o){this.current.charSpacing=o}setWordSpacing(o){this.current.wordSpacing=o}setHScale(o){this.current.textHScale=o/100}setLeading(o){this.current.leading=-o}setFont(o,c){const t=this.commonObjs.get(o),l=this.current;if(!t)throw new Error(`Can't find font for ${o}`);if(l.fontMatrix=t.fontMatrix||_.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,_.warn)("Invalid font matrix for font "+o),c<0?(c=-c,l.fontDirection=-1):l.fontDirection=1,this.current.font=t,this.current.fontSize=c,t.isType3Font)return;let w="normal";t.black?w="900":t.bold&&(w="bold");const S=t.italic?"italic":"normal",E=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let j=c;c<16?j=16:c>100&&(j=100),this.current.fontSizeScale=c/j,this.ctx.font=`${S} ${w} ${j}px ${E}`}setTextRenderingMode(o){this.current.textRenderingMode=o}setTextRise(o){this.current.textRise=o}moveText(o,c){this.current.x=this.current.lineX+=o,this.current.y=this.current.lineY+=c}setLeadingMoveText(o,c){this.setLeading(-c),this.moveText(o,c)}setTextMatrix(o,c,t,l,h,w){this.current.textMatrix=[o,c,t,l,h,w],this.current.textMatrixScale=Math.hypot(o,c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(o,c,t,l){const h=this.ctx,w=this.current,S=w.font,E=w.textRenderingMode,j=w.fontSize/w.fontSizeScale,H=E&_.TextRenderingMode.FILL_STROKE_MASK,W=!!(E&_.TextRenderingMode.ADD_TO_PATH_FLAG),G=w.patternFill&&!S.missingFile;let Q;(S.disableFontFace||W||G)&&(Q=S.getPathGenerator(this.commonObjs,o)),S.disableFontFace||G?(h.save(),h.translate(c,t),h.beginPath(),Q(h,j),l&&h.setTransform.apply(h,l),(H===_.TextRenderingMode.FILL||H===_.TextRenderingMode.FILL_STROKE)&&h.fill(),(H===_.TextRenderingMode.STROKE||H===_.TextRenderingMode.FILL_STROKE)&&h.stroke(),h.restore()):((H===_.TextRenderingMode.FILL||H===_.TextRenderingMode.FILL_STROKE)&&h.fillText(o,c,t),(H===_.TextRenderingMode.STROKE||H===_.TextRenderingMode.FILL_STROKE)&&h.strokeText(o,c,t)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:h.mozCurrentTransform,x:c,y:t,fontSize:j,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:o}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);o.scale(1.5,1),o.fillText("I",0,10);const c=o.getImageData(0,0,10,10).data;let t=!1;for(let l=3;l<c.length;l+=4)if(c[l]>0&&c[l]<255){t=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(o){const c=this.current,t=c.font;if(t.isType3Font)return this.showType3Text(o);const l=c.fontSize;if(0===l)return;const h=this.ctx,w=c.fontSizeScale,S=c.charSpacing,E=c.wordSpacing,j=c.fontDirection,H=c.textHScale*j,W=o.length,G=t.vertical,Q=G?1:-1,re=t.defaultVMetrics,ge=l*c.fontMatrix[0],Ce=c.textRenderingMode===_.TextRenderingMode.FILL&&!t.disableFontFace&&!c.patternFill;let ee;if(h.save(),h.transform.apply(h,c.textMatrix),h.translate(c.x,c.y+c.textRise),h.scale(H,j>0?-1:1),c.patternFill){h.save();const z=c.fillColor.getPattern(h,this,h.mozCurrentTransformInverse,pe.PathType.FILL);ee=h.mozCurrentTransform,h.restore(),h.fillStyle=z}let de=c.lineWidth;const ce=c.textMatrixScale;if(0===ce||0===de){const z=c.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;(z===_.TextRenderingMode.STROKE||z===_.TextRenderingMode.FILL_STROKE)&&(de=this.getSinglePixelWidth())}else de/=ce;1!==w&&(h.scale(w,w),de/=w),h.lineWidth=de;let N,C=0;for(N=0;N<W;++N){const z=o[N];if("number"==typeof z){C+=Q*z*l/1e3;continue}let Ae=!1;const be=(z.isSpace?E:0)+S,_e=z.fontChar,ye=z.accent;let ve,Te,Fe,Ee=z.width;if(G){const se=z.vmetric||re,O=-(z.vmetric?se[1]:.5*Ee)*ge;Ee=se?-se[0]:Ee,ve=O/w,Te=(C+se[2]*ge)/w}else ve=C/w,Te=0;if(t.remeasure&&Ee>0){const se=1e3*h.measureText(_e).width/l*w;if(Ee<se&&this.isFontSubpixelAAEnabled){const O=Ee/se;Ae=!0,h.save(),h.scale(O,1),ve/=O}else Ee!==se&&(ve+=(Ee-se)/2e3*l/w)}this.contentVisible&&(z.isInFont||t.missingFile)&&(Ce&&!ye?h.fillText(_e,ve,Te):(this.paintChar(_e,ve,Te,ee),ye&&this.paintChar(ye.fontChar,ve+l*ye.offset.x/w,Te-l*ye.offset.y/w,ee))),Fe=G?Ee*ge-be*j:Ee*ge+be*j,C+=Fe,Ae&&h.restore()}G?c.y-=C:c.x+=C*H,h.restore(),this.compose()}showType3Text(o){const c=this.ctx,t=this.current,l=t.font,h=t.fontSize,w=t.fontDirection,S=l.vertical?1:-1,E=t.charSpacing,j=t.wordSpacing,H=t.textHScale*w,W=t.fontMatrix||_.FONT_IDENTITY_MATRIX,G=o.length;let re,ge,Ce,ee;if(t.textRenderingMode!==_.TextRenderingMode.INVISIBLE&&0!==h){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,c.save(),c.transform.apply(c,t.textMatrix),c.translate(t.x,t.y),c.scale(H,w),re=0;re<G;++re){if(ge=o[re],"number"==typeof ge){ee=S*ge*h/1e3,this.ctx.translate(ee,0),t.x+=ee*H;continue}const de=(ge.isSpace?j:0)+E,ce=l.charProcOperatorList[ge.operatorListId];ce?(this.contentVisible&&(this.processingType3=ge,this.save(),c.scale(h,h),c.transform.apply(c,W),this.executeOperatorList(ce),this.restore()),Ce=_.Util.applyTransform([ge.width,0],W)[0]*h+de,c.translate(Ce,0),t.x+=Ce*H):(0,_.warn)(`Type3 character "${ge.operatorListId}" is not available.`)}c.restore(),this.processingType3=null}}setCharWidth(o,c){}setCharWidthAndBounds(o,c,t,l,h,w){this.ctx.rect(t,l,h-t,w-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(o){let c;if("TilingPattern"===o[0]){const t=o[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();c=new pe.TilingPattern(o,t,this.ctx,{createCanvasGraphics:w=>new ue(w,this.commonObjs,this.objs,this.canvasFactory)},l)}else c=this._getPattern(o[1],o[2]);return c}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(o,c,t){const l=this.selectColor?.(o,c,t)||_.Util.makeHexColor(o,c,t);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(o,c,t){const l=this.selectColor?.(o,c,t)||_.Util.makeHexColor(o,c,t);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(o,c=null){let t;return this.cachedPatterns.has(o)?t=this.cachedPatterns.get(o):(t=(0,pe.getShadingPattern)(this.objs.get(o)),this.cachedPatterns.set(o,t)),c&&(t.matrix=c),t}shadingFill(o){if(!this.contentVisible)return;const c=this.ctx;this.save();const t=this._getPattern(o);c.fillStyle=t.getPattern(c,this,c.mozCurrentTransformInverse,pe.PathType.SHADING);const l=c.mozCurrentTransformInverse;if(l){const h=c.canvas,w=h.width,S=h.height,E=_.Util.applyTransform([0,0],l),j=_.Util.applyTransform([0,S],l),H=_.Util.applyTransform([w,0],l),W=_.Util.applyTransform([w,S],l),G=Math.min(E[0],j[0],H[0],W[0]),Q=Math.min(E[1],j[1],H[1],W[1]),re=Math.max(E[0],j[0],H[0],W[0]),ge=Math.max(E[1],j[1],H[1],W[1]);this.ctx.fillRect(G,Q,re-G,ge-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(o,c){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(o)&&6===o.length&&this.transform.apply(this,o),this.baseTransform=this.ctx.mozCurrentTransform,c)&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,c),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(o){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const c=this.ctx;o.isolated||(0,_.info)("TODO: Support non-isolated groups."),o.knockout&&(0,_.warn)("Knockout groups not supported.");const t=c.mozCurrentTransform;if(o.matrix&&c.transform.apply(c,o.matrix),!o.bbox)throw new Error("Bounding box is required.");let l=_.Util.getAxialAlignedBoundingBox(o.bbox,c.mozCurrentTransform);l=_.Util.intersect(l,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0];const w=Math.floor(l[0]),S=Math.floor(l[1]);let E=Math.max(Math.ceil(l[2])-w,1),j=Math.max(Math.ceil(l[3])-S,1),H=1,W=1;E>P&&(H=E/P,E=P),j>P&&(W=j/P,j=P),this.current.startNewPathAndClipBox([0,0,E,j]);let G="groupAt"+this.groupLevel;o.smask&&(G+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(G,E,j,!0),re=Q.context;re.scale(1/H,1/W),re.translate(-w,-S),re.transform.apply(re,t),o.smask?this.smaskStack.push({canvas:Q.canvas,context:re,offsetX:w,offsetY:S,scaleX:H,scaleY:W,subtype:o.smask.subtype,backdrop:o.smask.backdrop,transferMap:o.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(w,S),c.scale(H,W),c.save()),y(c,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(o){if(!this.contentVisible)return;this.groupLevel--;const c=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,o.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const h=_.Util.getAxialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],l);this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(h)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(o,c,t,l,h){if(this.save(),Array.isArray(c)&&4===c.length){const w=c[2]-c[0],S=c[3]-c[1];if(h&&this.annotationCanvasMap){(t=t.slice())[4]-=c[0],t[5]-=c[1],(c=c.slice())[0]=c[1]=0,c[2]=w,c[3]=S;const[E,j]=_.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:H}=this,W=Math.ceil(w*this.outputScaleX*H),G=Math.ceil(S*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(W,G);const{canvas:Q,context:re}=this.annotationCanvas,ge=`var(--zoom-factor) * ${J.PixelsPerInch.PDF_TO_CSS_UNITS}`;Q.style.width=`calc(${w}px * ${ge})`,Q.style.height=`calc(${S}px * ${ge})`,this.annotationCanvasMap.set(o,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=re,this.ctx.setTransform(E,0,0,-j,0,S*j),T(this.ctx),L(this.ctx,this.foregroundColor)}else L(this.ctx,this.foregroundColor),this.ctx.rect(c[0],c[1],w,S),this.ctx.clip(),this.endPath()}this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(o){if(!this.contentVisible)return;const c=o.count;(o=this.getObject(o.data,o)).count=c;const t=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function n(M){const{width:o,height:c}=M;if(o>1e3||c>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=o+1;let S,E,j,w=new Uint8Array(h*(c+1));const H=o+7&-8;let W=new Uint8Array(H*c),G=0;for(const ce of M.data){let C=128;for(;C>0;)W[G++]=ce&C?0:255,C>>=1}let Q=0;for(G=0,0!==W[G]&&(w[0]=1,++Q),E=1;E<o;E++)W[G]!==W[G+1]&&(w[E]=W[G]?2:1,++Q),G++;for(0!==W[G]&&(w[E]=2,++Q),S=1;S<c;S++){G=S*H,j=S*h,W[G-H]!==W[G]&&(w[j]=W[G]?1:8,++Q);let ce=(W[G]?4:0)+(W[G-H]?8:0);for(E=1;E<o;E++)ce=(ce>>2)+(W[G+1]?4:0)+(W[G-H+1]?8:0),l[ce]&&(w[j+E]=l[ce],++Q),G++;if(W[G-H]!==W[G]&&(w[j+E]=W[G]?2:4,++Q),Q>1e3)return null}for(G=H*(c-1),j=S*h,0!==W[G]&&(w[j]=8,++Q),E=1;E<o;E++)W[G]!==W[G+1]&&(w[j+E]=W[G]?4:8,++Q),G++;if(0!==W[G]&&(w[j+E]=4,++Q),Q>1e3)return null;const re=new Int32Array([0,h,-1,0,-h,0,0,0,1]);let ge,Ce,ee;for(e.isNodeJS?Ce=[]:ge=new Path2D,S=0;Q&&S<=c;S++){let ce=S*h;const C=ce+o;for(;ce<C&&!w[ce];)ce++;if(ce===C)continue;ge?ge.moveTo(ce%h,S):ee=[ce%h,S];const N=ce;let z=w[ce];do{const Ae=re[z];do{ce+=Ae}while(!w[ce]);const be=w[ce];5!==be&&10!==be?(z=be,w[ce]=0):(z=be&51*z>>4,w[ce]&=z>>2|z<<2),ge?ge.lineTo(ce%h,ce/h|0):ee.push(ce%h,ce/h|0),w[ce]||--Q}while(N!==ce);ge||Ce.push(ee),--S}return W=null,w=null,function(ce){if(ce.save(),ce.scale(1/o,-1/c),ce.translate(0,-c),ge)ce.fill(ge);else{ce.beginPath();for(const C of Ce){ce.moveTo(C[0],C[1]);for(let N=2,z=C.length;N<z;N+=2)ce.lineTo(C[N],C[N+1])}ce.fill()}ce.beginPath(),ce.restore()}}(o)),l.compiled))return void l.compiled(t);const h=this._createMaskCanvas(o),w=h.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(w,h.offsetX,h.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(o,c,t=0,l=0,h,w){if(!this.contentVisible)return;o=this.getObject(o.data,o);const S=this.ctx;S.save();const E=S.mozCurrentTransform;S.transform(c,t,l,h,0,0);const j=this._createMaskCanvas(o);S.setTransform(1,0,0,1,0,0);for(let H=0,W=w.length;H<W;H+=2){const G=_.Util.transform(E,[c,t,l,h,w[H],w[H+1]]),[Q,re]=_.Util.applyTransform([0,0],G);S.drawImage(j.canvas,Q,re)}S.restore(),this.compose()}paintImageMaskXObjectGroup(o){if(!this.contentVisible)return;const c=this.ctx,t=this.current.fillColor,l=this.current.patternFill;for(let h=0,w=o.length;h<w;h++){const S=o[h],E=S.width,j=S.height,H=this.cachedCanvases.getCanvas("maskCanvas",E,j,!1),W=H.context;W.save(),A(W,S),W.globalCompositeOperation="source-in",W.fillStyle=l?t.getPattern(W,this,c.mozCurrentTransformInverse,pe.PathType.FILL):t,W.fillRect(0,0,E,j),W.restore(),c.save(),c.transform.apply(c,S.transform),c.scale(1,-1),p(c,H.canvas,0,0,E,j,0,-1,1,1),c.restore()}this.compose()}paintImageXObject(o){if(!this.contentVisible)return;const c=this.getObject(o);c?this.paintInlineImageXObject(c):(0,_.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(o,c,t,l){if(!this.contentVisible)return;const h=this.getObject(o);if(!h)return void(0,_.warn)("Dependent image isn't ready yet");const w=h.width,S=h.height,E=[];for(let j=0,H=l.length;j<H;j+=2)E.push({transform:[c,0,0,t,l[j],l[j+1]],x:0,y:0,w,h:S});this.paintInlineImageXObjectGroup(h,E)}paintInlineImageXObject(o){if(!this.contentVisible)return;const c=o.width,t=o.height,l=this.ctx;let h;if(this.save(),l.scale(1/c,-1/t),"function"==typeof HTMLElement&&o instanceof HTMLElement||!o.data)h=o;else{const j=this.cachedCanvases.getCanvas("inlineImage",c,t,!1);v(j.context,o,this.current.transferMaps),h=j.canvas}const w=this._scaleImage(h,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=ne(l.mozCurrentTransform,o.interpolate);const[S,E]=p(l,w.img,0,0,w.paintWidth,w.paintHeight,0,-t,c,t);if(this.imageLayer){const j=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:o,left:j[0],top:j[1],width:S,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(o,c){if(!this.contentVisible)return;const t=this.ctx,l=o.width,h=o.height,w=this.cachedCanvases.getCanvas("inlineImage",l,h,!1);v(w.context,o,this.current.transferMaps);for(let E=0,j=c.length;E<j;E++){const H=c[E];if(t.save(),t.transform.apply(t,H.transform),t.scale(1,-1),p(t,w.canvas,H.x,H.y,H.w,H.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(H.x,H.y);this.imageLayer.appendImage({imgData:o,left:W[0],top:W[1],width:l,height:h})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(o){}markPointProps(o,c){}beginMarkedContent(o){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(o,c){this.markedContentStack.push("OC"===o?{visible:this.optionalContentConfig.isVisible(c)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(o){const c=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(o);const t=this.ctx;this.pendingClip&&(c||(this.pendingClip===ae?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const o=this.ctx.mozCurrentTransform;if(0===o[1]&&0===o[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(o[0]),Math.abs(o[3]));else{const c=Math.abs(o[0]*o[3]-o[2]*o[1]),t=Math.hypot(o[0],o[2]),l=Math.hypot(o[1],o[3]);this._cachedGetSinglePixelWidth=Math.max(t,l)/c}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:o}=this.current,c=this.ctx.mozCurrentTransform;let t,l;if(0===c[1]&&0===c[2]){const h=Math.abs(c[0]),w=Math.abs(c[3]);if(0===o)t=1/h,l=1/w;else{const S=h*o,E=w*o;t=S<1?1/S:1,l=E<1?1/E:1}}else{const h=Math.abs(c[0]*c[3]-c[2]*c[1]),w=Math.hypot(c[0],c[1]),S=Math.hypot(c[2],c[3]);if(0===o)t=S/h,l=w/h;else{const E=o*h;t=S>E?S/E:1,l=w>E?w/E:1}}this._cachedScaleForStroking=[t,l]}return this._cachedScaleForStroking}rescaleAndStroke(o){const{ctx:c}=this,{lineWidth:t}=this.current,[l,h]=this.getScaleForStroking();if(c.lineWidth=t||1,1===l&&1===h)return void c.stroke();let w,S,E;o&&(w=c.mozCurrentTransform.slice(),S=c.getLineDash().slice(),E=c.lineDashOffset),c.scale(l,h);const j=Math.max(l,h);c.setLineDash(c.getLineDash().map(H=>H/j)),c.lineDashOffset/=j,c.stroke(),o&&(c.setTransform(...w),c.setLineDash(S),c.lineDashOffset=E)}getCanvasPosition(o,c){const t=this.ctx.mozCurrentTransform;return[t[0]*o+t[2]*c+t[4],t[1]*o+t[3]*c+t[5]]}isContentVisible(){for(let o=this.markedContentStack.length-1;o>=0;o--)if(!this.markedContentStack[o].visible)return!1;return!0}}k.CanvasGraphics=ue;for(const M in _.OPS)void 0!==ue.prototype[M]&&(ue.prototype[_.OPS[M]]=ue.prototype[M])},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.TilingPattern=k.PathType=void 0,k.getShadingPattern=function a(s){switch(s[0]){case"RadialAxial":return new D(s);case"Mesh":return new b(s);case"Dummy":return new f}throw new Error(`Unknown IR type: ${s[0]}`)};var _=ie(1),pe=ie(3);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function e(s,u){if(!u||pe.isNodeJS)return;const T=u[2]-u[0],g=u[3]-u[1],p=new Path2D;p.rect(u[0],u[1],T,g),s.clip(p)}k.PathType=le;class J{constructor(){this.constructor===J&&(0,_.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_.unreachable)("Abstract method `getPattern` called.")}}class D extends J{constructor(u){super(),this._type=u[1],this._bbox=u[2],this._colorStops=u[3],this._p0=u[4],this._p1=u[5],this._r0=u[6],this._r1=u[7],this.matrix=null}_createGradient(u){let T;"axial"===this._type?T=u.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=u.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const g of this._colorStops)T.addColorStop(g[0],g[1]);return T}getPattern(u,T,g,p){let n;if(p===le.STROKE||p===le.FILL){const r=T.current.getClippedPathBoundingBox(p,u.mozCurrentTransform)||[0,0,0,0],v=Math.ceil(r[2]-r[0])||1,A=Math.ceil(r[3]-r[1])||1,y=T.cachedCanvases.getCanvas("pattern",v,A,!0),L=y.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-r[0],-r[1]),g=_.Util.transform(g,[1,0,0,1,r[0],r[1]]),L.transform.apply(L,T.baseTransform),this.matrix&&L.transform.apply(L,this.matrix),e(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),n=u.createPattern(y.canvas,"no-repeat");const R=new DOMMatrix(g);try{n.setTransform(R)}catch(F){(0,_.warn)(`RadialAxialShadingPattern.getPattern: "${F?.message}".`)}}else e(u,this._bbox),n=this._createGradient(u);return n}}function d(s,u,T,g,p,n,r,v){const A=u.coords,y=u.colors,L=s.data,R=4*s.width;let F;A[T+1]>A[g+1]&&(F=T,T=g,g=F,F=n,n=r,r=F),A[g+1]>A[p+1]&&(F=g,g=p,p=F,F=r,r=v,v=F),A[T+1]>A[g+1]&&(F=T,T=g,g=F,F=n,n=r,r=F);const U=(A[T]+u.offsetX)*u.scaleX,q=(A[T+1]+u.offsetY)*u.scaleY,X=(A[g]+u.offsetX)*u.scaleX,ne=(A[g+1]+u.offsetY)*u.scaleY,V=(A[p]+u.offsetX)*u.scaleX,Z=(A[p+1]+u.offsetY)*u.scaleY;if(q>=Z)return;const K=y[n],ae=y[n+1],ue=y[n+2],M=y[r],o=y[r+1],c=y[r+2],t=y[v],l=y[v+1],h=y[v+2],w=Math.round(q),S=Math.round(Z);let E,j,H,W,G,Q,re,ge;for(let Ce=w;Ce<=S;Ce++){if(Ce<ne){let N;N=Ce<q?0:(q-Ce)/(q-ne),E=U-(U-X)*N,j=K-(K-M)*N,H=ae-(ae-o)*N,W=ue-(ue-c)*N}else{let N;N=Ce>Z?1:ne===Z?0:(ne-Ce)/(ne-Z),E=X-(X-V)*N,j=M-(M-t)*N,H=o-(o-l)*N,W=c-(c-h)*N}let ee;ee=Ce<q?0:Ce>Z?1:(q-Ce)/(q-Z),G=U-(U-V)*ee,Q=K-(K-t)*ee,re=ae-(ae-l)*ee,ge=ue-(ue-h)*ee;const de=Math.round(Math.min(E,G)),ce=Math.round(Math.max(E,G));let C=R*Ce+4*de;for(let N=de;N<=ce;N++)ee=(E-N)/(E-G),ee<0?ee=0:ee>1&&(ee=1),L[C++]=j-(j-Q)*ee|0,L[C++]=H-(H-re)*ee|0,L[C++]=W-(W-ge)*ee|0,L[C++]=255}}function P(s,u,T){const g=u.coords,p=u.colors;let n,r;switch(u.type){case"lattice":const v=u.verticesPerRow,A=Math.floor(g.length/v)-1,y=v-1;for(n=0;n<A;n++){let L=n*v;for(let R=0;R<y;R++,L++)d(s,T,g[L],g[L+1],g[L+v],p[L],p[L+1],p[L+v]),d(s,T,g[L+v+1],g[L+1],g[L+v],p[L+v+1],p[L+1],p[L+v])}break;case"triangles":for(n=0,r=g.length;n<r;n+=3)d(s,T,g[n],g[n+1],g[n+2],p[n],p[n+1],p[n+2]);break;default:throw new Error("illegal figure")}}class b extends J{constructor(u){super(),this._coords=u[2],this._colors=u[3],this._figures=u[4],this._bounds=u[5],this._bbox=u[7],this._background=u[8],this.matrix=null}_createMeshCanvas(u,T,g){const v=Math.floor(this._bounds[0]),A=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-v,L=Math.ceil(this._bounds[3])-A,R=Math.min(Math.ceil(Math.abs(y*u[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(L*u[1]*1.1)),3e3),U=y/R,q=L/F,X={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-A,scaleX:1/U,scaleY:1/q},Z=g.getCanvas("mesh",R+4,F+4,!1),K=Z.context,ae=K.createImageData(R,F);if(T){const M=ae.data;for(let o=0,c=M.length;o<c;o+=4)M[o]=T[0],M[o+1]=T[1],M[o+2]=T[2],M[o+3]=255}for(const M of this._figures)P(ae,M,X);return K.putImageData(ae,2,2),{canvas:Z.canvas,offsetX:v-2*U,offsetY:A-2*q,scaleX:U,scaleY:q}}getPattern(u,T,g,p){let n;if(e(u,this._bbox),p===le.SHADING)n=_.Util.singularValueDecompose2dScale(u.mozCurrentTransform);else if(n=_.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const v=_.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*v[0],n[1]*v[1]]}const r=this._createMeshCanvas(n,p===le.SHADING?null:this._background,T.cachedCanvases);return p!==le.SHADING&&(u.setTransform.apply(u,T.baseTransform),this.matrix&&u.transform.apply(u,this.matrix)),u.translate(r.offsetX,r.offsetY),u.scale(r.scaleX,r.scaleY),u.createPattern(r.canvas,"no-repeat")}}class f extends J{getPattern(){return"hotpink"}}class i{static get MAX_PATTERN_SIZE(){return(0,_.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(u,T,g,p,n){this.operatorList=u[2],this.matrix=u[3]||[1,0,0,1,0,0],this.bbox=u[4],this.xstep=u[5],this.ystep=u[6],this.paintType=u[7],this.tilingType=u[8],this.color=T,this.ctx=g,this.canvasGraphicsFactory=p,this.baseTransform=n}createPatternCanvas(u){const T=this.operatorList,g=this.bbox,p=this.xstep,n=this.ystep,r=this.paintType,A=this.color,y=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+this.tilingType);const L=g[0],R=g[1],F=g[2],U=g[3],q=_.Util.singularValueDecompose2dScale(this.matrix),X=_.Util.singularValueDecompose2dScale(this.baseTransform),ne=[q[0]*X[0],q[1]*X[1]],V=this.getSizeAndScale(p,this.ctx.canvas.width,ne[0]),Z=this.getSizeAndScale(n,this.ctx.canvas.height,ne[1]),K=u.cachedCanvases.getCanvas("pattern",V.size,Z.size,!0),ae=K.context,ue=y.createCanvasGraphics(ae);ue.groupLevel=u.groupLevel,this.setFillAndStrokeStyleToContext(ue,r,A);let M=L,o=R,c=F,t=U;return L<0&&(M=0,c+=Math.abs(L)),R<0&&(o=0,t+=Math.abs(R)),ae.translate(-V.scale*M,-Z.scale*o),ue.transform(V.scale,0,0,Z.scale,0,0),ae.save(),this.clipBbox(ue,M,o,c,t),ue.baseTransform=ue.ctx.mozCurrentTransform.slice(),ue.executeOperatorList(T),ue.endDrawing(),{canvas:K.canvas,scaleX:V.scale,scaleY:Z.scale,offsetX:M,offsetY:o}}getSizeAndScale(u,T,g){u=Math.abs(u);const p=Math.max(i.MAX_PATTERN_SIZE,T);let n=Math.ceil(u*g);return n>=p?n=p:g=n/u,{scale:g,size:n}}clipBbox(u,T,g,p,n){u.ctx.rect(T,g,p-T,n-g),u.current.updateRectMinMax(u.ctx.mozCurrentTransform,[T,g,p,n]),u.clip(),u.endPath()}setFillAndStrokeStyleToContext(u,T,g){const p=u.ctx,n=u.current;switch(T){case 1:const r=this.ctx;p.fillStyle=r.fillStyle,p.strokeStyle=r.strokeStyle,n.fillColor=r.fillStyle,n.strokeColor=r.strokeStyle;break;case 2:const v=_.Util.makeHexColor(g[0],g[1],g[2]);p.fillStyle=v,p.strokeStyle=v,n.fillColor=v,n.strokeColor=v;break;default:throw new _.FormatError(`Unsupported paint type: ${T}`)}}getPattern(u,T,g,p){let n=g;p!==le.SHADING&&(n=_.Util.transform(n,T.baseTransform),this.matrix&&(n=_.Util.transform(n,this.matrix)));const r=this.createPatternCanvas(T);let v=new DOMMatrix(n);v=v.translate(r.offsetX,r.offsetY),v=v.scale(1/r.scaleX,1/r.scaleY);const A=u.createPattern(r.canvas,"repeat");try{A.setTransform(v)}catch(y){(0,_.warn)(`TilingPattern.getPattern: "${y?.message}".`)}return A}}k.TilingPattern=i},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.applyMaskImageData=function pe({src:le,srcPos:e=0,dest:J,destPos:D=0,width:d,height:P,inverseDecode:b=!1}){const f=_.FeatureTest.isLittleEndian?4278190080:255,[a,m]=b?[0,f]:[f,0],i=d>>3,s=7&d,u=le.length;J=new Uint32Array(J.buffer);for(let T=0;T<P;T++){for(const p=e+i;e<p;e++){const n=e<u?le[e]:255;J[D++]=128&n?m:a,J[D++]=64&n?m:a,J[D++]=32&n?m:a,J[D++]=16&n?m:a,J[D++]=8&n?m:a,J[D++]=4&n?m:a,J[D++]=2&n?m:a,J[D++]=1&n?m:a}if(0===s)continue;const g=e<u?le[e++]:255;for(let p=0;p<s;p++)J[D++]=g&1<<7-p?m:a}return{srcPos:e,destPos:D}};var _=ie(1)},(me,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.GlobalWorkerOptions=void 0;const ie=Object.create(null);k.GlobalWorkerOptions=ie,ie.workerPort=void 0===ie.workerPort?null:ie.workerPort,ie.workerSrc=void 0===ie.workerSrc?"":ie.workerSrc},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MessageHandler=void 0;var _=ie(1);function e(D){switch(D instanceof Error||"object"==typeof D&&null!==D||(0,_.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new _.AbortException(D.message);case"MissingPDFException":return new _.MissingPDFException(D.message);case"PasswordException":return new _.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new _.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new _.UnknownErrorException(D.message,D.details);default:return new _.UnknownErrorException(D.message,D.toString())}}k.MessageHandler=class J{constructor(d,P,b){this.sourceName=d,this.targetName=P,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{const a=f.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void this._processStreamMessage(a);if(a.callback){const i=a.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===a.callback)s.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");s.reject(e(a.reason))}return}const m=this.actionHandler[a.action];if(!m)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const i=this.sourceName,s=a.sourceName;new Promise(function(u){u(m(a.data))}).then(function(u){b.postMessage({sourceName:i,targetName:s,callback:1,callbackId:a.callbackId,data:u})},function(u){b.postMessage({sourceName:i,targetName:s,callback:2,callbackId:a.callbackId,reason:e(u)})})}else a.streamId?this._createStreamSink(a):m(a.data)},b.addEventListener("message",this._onComObjOnMessage)}on(d,P){const b=this.actionHandler;if(b[d])throw new Error(`There is already an actionName called "${d}"`);b[d]=P}send(d,P,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:P},b)}sendWithPromise(d,P,b){const f=this.callbackId++,a=(0,_.createPromiseCapability)();this.callbackCapabilities[f]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:f,data:P},b)}catch(m){a.reject(m)}return a.promise}sendWithStream(d,P,b,f){const a=this.streamId++,m=this.sourceName,i=this.targetName,s=this.comObj;return new ReadableStream({start:u=>{const T=(0,_.createPromiseCapability)();return this.streamControllers[a]={controller:u,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},s.postMessage({sourceName:m,targetName:i,action:d,streamId:a,data:P,desiredSize:u.desiredSize},f),T.promise},pull:u=>{const T=(0,_.createPromiseCapability)();return this.streamControllers[a].pullCall=T,s.postMessage({sourceName:m,targetName:i,stream:6,streamId:a,desiredSize:u.desiredSize}),T.promise},cancel:u=>{(0,_.assert)(u instanceof Error,"cancel must have a valid reason");const T=(0,_.createPromiseCapability)();return this.streamControllers[a].cancelCall=T,this.streamControllers[a].isClosed=!0,s.postMessage({sourceName:m,targetName:i,stream:1,streamId:a,reason:e(u)}),T.promise}},b)}_createStreamSink(d){const P=d.streamId,b=this.sourceName,f=d.sourceName,a=this.comObj,m=this,i=this.actionHandler[d.action],s={enqueue(u,T=1,g){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=T,p>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:b,targetName:f,stream:4,streamId:P,chunk:u},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:b,targetName:f,stream:3,streamId:P}),delete m.streamSinks[P])},error(u){(0,_.assert)(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:b,targetName:f,stream:5,streamId:P,reason:e(u)}))},sinkCapability:(0,_.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[P]=s,new Promise(function(u){u(i(d.data,s))}).then(function(){a.postMessage({sourceName:b,targetName:f,stream:8,streamId:P,success:!0})},function(u){a.postMessage({sourceName:b,targetName:f,stream:8,streamId:P,reason:e(u)})})}_processStreamMessage(d){const P=d.streamId,b=this.sourceName,f=d.sourceName,a=this.comObj,m=this.streamControllers[P],i=this.streamSinks[P];switch(d.stream){case 8:d.success?m.startCall.resolve():m.startCall.reject(e(d.reason));break;case 7:d.success?m.pullCall.resolve():m.pullCall.reject(e(d.reason));break;case 6:if(!i){a.postMessage({sourceName:b,targetName:f,stream:7,streamId:P,success:!0});break}i.desiredSize<=0&&d.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=d.desiredSize,new Promise(function(s){s(i.onPull&&i.onPull())}).then(function(){a.postMessage({sourceName:b,targetName:f,stream:7,streamId:P,success:!0})},function(s){a.postMessage({sourceName:b,targetName:f,stream:7,streamId:P,reason:e(s)})});break;case 4:if((0,_.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(d.chunk);break;case 3:if((0,_.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,P);break;case 5:(0,_.assert)(m,"error should have stream controller"),m.controller.error(e(d.reason)),this._deleteStreamController(m,P);break;case 2:d.success?m.cancelCall.resolve():m.cancelCall.reject(e(d.reason)),this._deleteStreamController(m,P);break;case 1:if(!i)break;new Promise(function(s){s(i.onCancel&&i.onCancel(e(d.reason)))}).then(function(){a.postMessage({sourceName:b,targetName:f,stream:2,streamId:P,success:!0})},function(s){a.postMessage({sourceName:b,targetName:f,stream:2,streamId:P,reason:e(s)})}),i.sinkCapability.reject(e(d.reason)),i.isCancelled=!0,delete this.streamSinks[P];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(d,P){var b=this;return _asyncToGenerator(function*(){yield Promise.allSettled([d.startCall&&d.startCall.promise,d.pullCall&&d.pullCall.promise,d.cancelCall&&d.cancelCall.promise]),delete b.streamControllers[P]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(me,k,ie)=>{var le,e;Object.defineProperty(k,"__esModule",{value:!0}),k.Metadata=void 0;var _=ie(1);le=new WeakMap,e=new WeakMap,k.Metadata=class pe{constructor({parsedData:D,rawData:d}){we(this,le,void 0),we(this,e,void 0),Ie(this,le,D),Ie(this,e,d)}getRaw(){return Se(this,e)}get(D){return Se(this,le).get(D)??null}getAll(){return(0,_.objectFromMap)(Se(this,le))}has(D){return Se(this,le).has(D)}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.OptionalContentConfig=void 0;var _=ie(1);class pe{constructor(J,D){this.visible=!0,this.name=J,this.intent=D}}k.OptionalContentConfig=class le{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const D of J.groups)this._groups.set(D.id,new pe(D.name,D.intent));if("OFF"===J.baseState)for(const D of this._groups)D.visible=!1;for(const D of J.on)this._groups.get(D).visible=!0;for(const D of J.off)this._groups.get(D).visible=!1}}_evaluateVisibilityExpression(J){const D=J.length;if(D<2)return!0;const d=J[0];for(let P=1;P<D;P++){const b=J[P];let f;if(Array.isArray(b))f=this._evaluateVisibilityExpression(b);else{if(!this._groups.has(b))return(0,_.warn)(`Optional content group not found: ${b}`),!0;f=this._groups.get(b).visible}switch(d){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return"And"===d}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,_.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,_.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,_.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!0}return!1}if("AllOn"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,_.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!1}return!0}if("AnyOff"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,_.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!0}return!1}if("AllOff"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,_.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!1}return!0}return(0,_.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,_.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,D=!0){this._groups.has(J)?this._groups.get(J).visible=!!D:(0,_.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,_.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFDataTransportStream=void 0;var _=ie(1),pe=ie(5);k.PDFDataTransportStream=class le{constructor(d,P){(0,_.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d.progressiveDone||!1,this._contentDispositionFilename=d.contentDispositionFilename||null;const b=d.initialData;if(b?.length>0){const f=new Uint8Array(b).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._contentLength=d.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((f,a)=>{this._onReceiveData({begin:f,chunk:a})}),this._pdfDataRangeTransport.addProgressListener((f,a)=>{this._onProgress({loaded:f,total:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(d){const P=new Uint8Array(d.chunk).buffer;if(void 0===d.begin)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const b=this._rangeReaders.some(function(f){return f._begin===d.begin&&(f._enqueue(P),!0)});(0,_.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){if(void 0===d.total){const P=this._rangeReaders[0];P?.onProgress&&P.onProgress({loaded:d.loaded})}else{const P=this._fullRequestReader;P?.onProgress&&P.onProgress({loaded:d.loaded,total:d.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const P=this._rangeReaders.indexOf(d);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,_.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new e(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,P){if(P<=this._progressiveDataLength)return null;const b=new J(this,d,P);return this._pdfDataRangeTransport.requestDataRange(d,P),this._rangeReaders.push(b),b}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const P of this._rangeReaders.slice(0))P.cancel(d);this._pdfDataRangeTransport.abort()}};class e{constructor(d,P,b=!1,f=null){this._stream=d,this._done=b||!1,this._filename=(0,pe.isPdfFile)(f)?f:null,this._queuedChunks=P||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var d=this;return _asyncToGenerator(function*(){if(d._queuedChunks.length>0)return{value:d._queuedChunks.shift(),done:!1};if(d._done)return{value:void 0,done:!0};const P=(0,_.createPromiseCapability)();return d._requests.push(P),P.promise})()}cancel(d){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(d,P,b){this._stream=d,this._begin=P,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(0===this._requests.length)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var d=this;return _asyncToGenerator(function*(){if(d._queuedChunk){const b=d._queuedChunk;return d._queuedChunk=null,{value:b,done:!1}}if(d._done)return{value:void 0,done:!0};const P=(0,_.createPromiseCapability)();return d._requests.push(P),P.promise})()}cancel(d){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(me,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaText=void 0;class ie{static textContent(pe){const le=[],e={items:le,styles:Object.create(null)};return function J(D){if(!D)return;let d=null;const P=D.name;if("#text"===P)d=D.value;else{if(!ie.shouldBuildText(P))return;D?.attributes?.textContent?d=D.attributes.textContent:D.value&&(d=D.value)}if(null!==d&&le.push({str:d}),D.children)for(const b of D.children)J(b)}(pe),e}static shouldBuildText(pe){return!("textarea"===pe||"input"===pe||"option"===pe||"select"===pe)}}k.XfaText=ie},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.NodeStandardFontDataFactory=k.NodeCanvasFactory=k.NodeCMapReaderFactory=void 0;var _=ie(6);const pe=function(D){return new Promise((d,P)=>{__webpack_require__(172).readFile(D,(f,a)=>{!f&&a?d(new Uint8Array(a)):P(new Error(f))})})};k.NodeCanvasFactory=class le extends _.BaseCanvasFactory{_createCanvas(d,P){return __webpack_require__(3414).createCanvas(d,P)}},k.NodeCMapReaderFactory=class e extends _.BaseCMapReaderFactory{_fetchData(d,P){return pe(d).then(b=>({cMapData:b,compressionType:P}))}},k.NodeStandardFontDataFactory=class J extends _.BaseStandardFontDataFactory{_fetchData(d){return pe(d)}}},(me,k,ie)=>{var M,Ke;Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationLayer=void 0;var _=ie(1),pe=ie(5),le=ie(8),e=ie(21),J=ie(22);const D=1e3,d=new WeakSet;function P(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class b{static create(t){switch(t.data.annotationType){case _.AnnotationType.LINK:return new a(t);case _.AnnotationType.TEXT:return new m(t);case _.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new s(t);case"Btn":return t.data.radioButton?new T(t):t.data.checkBox?new u(t):new g(t);case"Ch":return new p(t)}return new i(t);case _.AnnotationType.POPUP:return new n(t);case _.AnnotationType.FREETEXT:return new v(t);case _.AnnotationType.LINE:return new A(t);case _.AnnotationType.SQUARE:return new y(t);case _.AnnotationType.CIRCLE:return new L(t);case _.AnnotationType.POLYLINE:return new R(t);case _.AnnotationType.CARET:return new U(t);case _.AnnotationType.INK:return new q(t);case _.AnnotationType.POLYGON:return new F(t);case _.AnnotationType.HIGHLIGHT:return new X(t);case _.AnnotationType.UNDERLINE:return new ne(t);case _.AnnotationType.SQUIGGLY:return new V(t);case _.AnnotationType.STRIKEOUT:return new Z(t);case _.AnnotationType.STAMP:return new K(t);case _.AnnotationType.FILEATTACHMENT:return new ae(t);default:return new f(t)}}}class f{constructor(t,{isRenderable:l=!1,ignoreBorder:h=!1,createQuadrilaterals:w=!1}={}){this.isRenderable=l,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,l&&(this.container=this._createContainer(h)),w&&(this.quadrilaterals=this._createQuadrilaterals(h))}_createContainer(t=!1){const l=this.data,h=this.page,w=this.viewport,S=document.createElement("section");let{width:E,height:j}=P(l.rect);S.setAttribute("data-annotation-id",l.id);const H=_.Util.normalizeRect([l.rect[0],h.view[3]-l.rect[1]+h.view[1],l.rect[2],h.view[3]-l.rect[3]+h.view[1]]);if(l.hasOwnCanvas){const W=w.transform.slice(),[G,Q]=_.Util.singularValueDecompose2dScale(W);E=Math.ceil(E*G),j=Math.ceil(j*Q),H[0]*=G,H[1]*=Q;for(let re=0;re<4;re++)W[re]=Math.sign(W[re]);S.style.transform=`matrix(${W.join(",")})`}else S.style.transform=`matrix(${w.transform.join(",")})`;if(S.style.transformOrigin=`${-H[0]}px ${-H[1]}px`,!t&&l.borderStyle.width>0){S.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==_.AnnotationBorderStyleType.UNDERLINE&&(E-=2*l.borderStyle.width,j-=2*l.borderStyle.width);const W=l.borderStyle.horizontalCornerRadius,G=l.borderStyle.verticalCornerRadius;switch((W>0||G>0)&&(S.style.borderRadius=`${W}px / ${G}px`),l.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:S.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:S.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:S.style.borderBottomStyle="solid"}l.borderColor||l.color?S.style.borderColor=_.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):S.style.borderWidth=0}return S.style.left=`${H[0]}px`,S.style.top=`${H[1]}px`,l.hasOwnCanvas?S.style.width=S.style.height="auto":(S.style.width=`${E}px`,S.style.height=`${j}px`),S}get _commonActions(){const t=(l,h,w)=>{const S=w.detail[l];w.target.style[h]=e.ColorConverters[`${S[0]}_HTML`](S.slice(1))};return(0,_.shadow)(this,"_commonActions",{display:l=>{const h=l.detail.display%2==1;l.target.style.visibility=h?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:h,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{t("bgColor","backgroundColor",l)},fillColor:l=>{t("fillColor","backgroundColor",l)},fgColor:l=>{t("fgColor","color",l)},textColor:l=>{t("textColor","color",l)},borderColor:l=>{t("borderColor","borderColor",l)},strokeColor:l=>{t("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(t,l){const h=this._commonActions;for(const w of Object.keys(l.detail)){const S=t[w]||h[w];S&&S(l)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const h=this._commonActions;for(const[w,S]of Object.entries(l)){const E=h[w];E&&(E({detail:S,target:t}),delete l[w])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const l=[],h=this.data.rect;for(const w of this.data.quadPoints)this.data.rect=[w[2].x,w[2].y,w[1].x,w[1].y],l.push(this._createContainer(t));return this.data.rect=h,l}_createPopup(t,l){let h=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,h=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=h.style.height,t.style.width=h.style.width,h.appendChild(t));const S=new r({container:h,trigger:t,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();S.style.left=h.style.width,h.appendChild(S)}_renderQuadrilaterals(t){for(const l of this.quadrilaterals)l.className=t;return this.quadrilaterals}render(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,l=null){const h=[];if(this._fieldObjects){const w=this._fieldObjects[t];if(w)for(const{page:S,id:E,exportValues:j}of w){if(-1===S||E===l)continue;const H="string"==typeof j?j:null,W=document.getElementById(E);!W||d.has(W)?h.push({id:E,exportValue:H,domElement:W}):(0,_.warn)(`_getElementsByName - element not allowed: ${E}`)}return h}for(const w of document.getElementsByName(t)){const{id:S,exportValue:E}=w;S!==l&&(!d.has(w)||h.push({id:S,exportValue:E,domElement:w}))}return h}static get platform(){const t=typeof navigator<"u"?navigator.platform:"";return(0,_.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class a extends f{constructor(t,l=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!l?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:t,linkService:l}=this,h=document.createElement("a");if(t.url)l.addLinkAttributes(h,t.url,t.newWindow);else if(t.action)this._bindNamedAction(h,t.action);else if(t.dest)this._bindLink(h,t.dest);else{let w=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(w=!0,this._bindJSAction(h,t)),t.resetForm?this._bindResetFormAction(h,t.resetForm):w||this._bindLink(h,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((w,S)=>{const E=0===S?h:h.cloneNode();return w.appendChild(E),w}):(this.container.className="linkAnnotation",this.container.appendChild(h),this.container)}_bindLink(t,l){t.href=this.linkService.getDestinationHash(l),t.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(t.className="internalLink")}_bindNamedAction(t,l){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(l),!1),t.className="internalLink"}_bindJSAction(t,l){t.href=this.linkService.getAnchorUrl("");const h=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const w of Object.keys(l.actions)){const S=h.get(w);!S||(t[S]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:w}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,l){const h=t.onclick;if(h||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,_.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(h||(t.onclick=()=>!1));t.onclick=()=>{h&&h();const{fields:w,refs:S,include:E}=l,j=[];if(0!==w.length||0!==S.length){const G=new Set(S);for(const Q of w){const re=this._fieldObjects[Q]||[];for(const{id:ge}of re)G.add(ge)}for(const Q of Object.values(this._fieldObjects))for(const re of Q)G.has(re.id)===E&&j.push(re)}else for(const G of Object.values(this._fieldObjects))j.push(...G);const H=this.annotationStorage,W=[];for(const G of j){const{id:Q}=G;switch(W.push(Q),G.type){case"text":case"combobox":case"listbox":H.setValue(Q,{value:G.defaultValue||""});break;case"checkbox":case"radiobutton":H.setValue(Q,{value:G.defaultValue===G.exportValues});break;default:continue}const re=document.getElementById(Q);!re||!d.has(re)||re.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}}),!1}}}class m extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class i extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:l,isMac:h}=f.platform;return l&&t.ctrlKey||h&&t.metaKey}_setEventListener(t,l,h,w){l.includes("mouse")?t.addEventListener(l,S=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:h,value:w(S),shift:S.shiftKey,modifier:this._getKeyModifier(S)}})}):t.addEventListener(l,S=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:h,value:w(S)}})})}_setEventListeners(t,l,h){for(const[w,S]of l)("Action"===S||this.data.actions?.[S])&&this._setEventListener(t,w,S,h)}_setBackgroundColor(t){const l=this.data.backgroundColor||null;t.style.backgroundColor=null===l?"transparent":_.Util.makeHexColor(l[0],l[1],l[2])}}class s extends i{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,l,h,w){const S=this.annotationStorage;for(const E of this._getElementsByName(t.name,t.id))E.domElement&&(E.domElement[l]=h),S.setValue(E.id,{[w]:h})}render(){const t=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let h=null;if(this.renderForms){const w=t.getValue(l,{value:this.data.fieldValue}),S=w.formattedValue||w.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(h=document.createElement("textarea"),h.textContent=S):(h=document.createElement("input"),h.type="text",h.setAttribute("value",S)),d.add(h),h.disabled=this.data.readOnly,h.name=this.data.fieldName,h.tabIndex=D,E.userValue=S,h.setAttribute("id",l),h.addEventListener("input",H=>{t.setValue(l,{value:H.target.value}),this.setPropertyOnSiblings(h,"value",H.target.value,"value")}),h.addEventListener("resetform",H=>{h.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let j=H=>{const{formattedValue:W}=E;null!=W&&(H.target.value=W),H.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){h.addEventListener("focus",W=>{E.userValue&&(W.target.value=E.userValue),E.valueOnFocus=W.target.value}),h.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Q){E.userValue=Q.detail.value??"",t.setValue(l,{value:E.userValue.toString()}),Q.target.value=E.userValue},formattedValue(Q){const{formattedValue:re}=Q.detail;E.formattedValue=re,null!=re&&Q.target!==document.activeElement&&(Q.target.value=re),t.setValue(l,{formattedValue:re})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},W)}),h.addEventListener("keydown",W=>{let G=-1;if("Escape"===W.key?G=0:"Enter"===W.key?G=2:"Tab"===W.key&&(G=3),-1===G)return;const{value:Q}=W.target;E.valueOnFocus!==Q&&(E.userValue=Q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,willCommit:!0,commitKey:G,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const H=j;j=null,h.addEventListener("blur",W=>{const{value:G}=W.target;E.userValue=G,this._mouseState.isDown&&E.valueOnFocus!==G&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:G,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}),H(W)}),this.data.actions?.Keystroke&&h.addEventListener("beforeinput",W=>{const{data:G,target:Q}=W,{value:re,selectionStart:ge,selectionEnd:Ce}=Q;let ee=ge,de=Ce;switch(W.inputType){case"deleteWordBackward":{const ce=re.substring(0,ge).match(/\w*[^\w]*$/);ce&&(ee-=ce[0].length);break}case"deleteWordForward":{const ce=re.substring(ge).match(/^[^\w]*\w*/);ce&&(de+=ce[0].length);break}case"deleteContentBackward":ge===Ce&&(ee-=1);break;case"deleteContentForward":ge===Ce&&(de+=1)}W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:re,change:G||"",willCommit:!1,selStart:ee,selEnd:de}})}),this._setEventListeners(h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(j&&h.addEventListener("blur",j),null!==this.data.maxLen&&(h.maxLength=this.data.maxLen),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;h.classList.add("comb"),h.style.letterSpacing=`calc(${W}px - 1ch)`}}else h=document.createElement("div"),h.textContent=this.data.fieldValue,h.style.verticalAlign="middle",h.style.display="table-cell";return this._setTextStyle(h),this._setBackgroundColor(h),this._setDefaultPropertiesFromJS(h),this.container.appendChild(h),this.container}_setTextStyle(t){const{fontSize:h,fontColor:w}=this.data.defaultAppearanceData,S=t.style;h&&(S.fontSize=`${h}px`),S.color=_.Util.makeHexColor(w[0],w[1],w[2]),null!==this.data.textAlignment&&(S.textAlign=["left","center","right"][this.data.textAlignment])}}class u extends i{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,l=this.data,h=l.id;let w=t.getValue(h,{value:l.exportValue===l.fieldValue}).value;"string"==typeof w&&(w="Off"!==w,t.setValue(h,{value:w})),this.container.className="buttonWidgetAnnotation checkBox";const S=document.createElement("input");return d.add(S),S.disabled=l.readOnly,S.type="checkbox",S.name=l.fieldName,w&&S.setAttribute("checked",!0),S.setAttribute("id",h),S.setAttribute("exportValue",l.exportValue),S.tabIndex=D,S.addEventListener("change",E=>{const{name:j,checked:H}=E.target;for(const W of this._getElementsByName(j,h)){const G=H&&W.exportValue===l.exportValue;W.domElement&&(W.domElement.checked=G),t.setValue(W.id,{value:G})}t.setValue(h,{value:H})}),S.addEventListener("resetform",E=>{E.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(S.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(H){H.target.checked="Off"!==H.detail.value,t.setValue(h,{value:H.target.checked})}},E)}),this._setEventListeners(S,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.appendChild(S),this.container}}class T extends i{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,l=this.data,h=l.id;let w=t.getValue(h,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof w&&(w=w!==l.buttonValue,t.setValue(h,{value:w}));const S=document.createElement("input");if(d.add(S),S.disabled=l.readOnly,S.type="radio",S.name=l.fieldName,w&&S.setAttribute("checked",!0),S.setAttribute("id",h),S.tabIndex=D,S.addEventListener("change",E=>{const{name:j,checked:H}=E.target;for(const W of this._getElementsByName(j,h))t.setValue(W.id,{value:!1});t.setValue(h,{value:H})}),S.addEventListener("resetform",E=>{const j=l.defaultFieldValue;E.target.checked=null!=j&&j===l.buttonValue}),this.enableScripting&&this.hasJSActions){const E=l.buttonValue;S.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value:W=>{const G=E===W.detail.value;for(const Q of this._getElementsByName(W.target.name)){const re=G&&Q.id===h;Q.domElement&&(Q.domElement.checked=re),t.setValue(Q.id,{value:re})}}},j)}),this._setEventListeners(S,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)}return this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.appendChild(S),this.container}}class g extends a{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class p extends i{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,l=this.data.id,h=t.getValue(l,{value:this.data.fieldValue});let{fontSize:w}=this.data.defaultAppearanceData;w||(w=9);const S=`calc(${w}px * var(--zoom-factor))`,E=document.createElement("select");d.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",l),E.tabIndex=D,E.style.fontSize=`${w}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",W=>{const G=this.data.defaultFieldValue;for(const Q of E.options)Q.selected=Q.value===G});for(const W of this.data.options){const G=document.createElement("option");G.textContent=W.displayValue,G.value=W.exportValue,this.data.combo&&(G.style.fontSize=S),h.value.includes(W.exportValue)&&G.setAttribute("selected",!0),E.appendChild(G)}const j=(W,G)=>{const Q=G?"value":"textContent",re=W.target.options;return W.target.multiple?Array.prototype.filter.call(re,ge=>ge.selected).map(ge=>ge[Q]):-1===re.selectedIndex?null:re[re.selectedIndex][Q]},H=W=>Array.prototype.map.call(W.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Q){const re=Q.detail.value,ge=new Set(Array.isArray(re)?re:[re]);for(const Ce of E.options)Ce.selected=ge.has(Ce.value);t.setValue(l,{value:j(Q,!0)})},multipleSelection(Q){E.multiple=!0},remove(Q){const re=E.options,ge=Q.detail.remove;re[ge].selected=!1,E.remove(ge),re.length>0&&-1===Array.prototype.findIndex.call(re,ee=>ee.selected)&&(re[0].selected=!0),t.setValue(l,{value:j(Q,!0),items:H(Q)})},clear(Q){for(;0!==E.length;)E.remove(0);t.setValue(l,{value:null,items:[]})},insert(Q){const{index:re,displayValue:ge,exportValue:Ce}=Q.detail.insert,ee=document.createElement("option");ee.textContent=ge,ee.value=Ce,E.insertBefore(ee,E.children[re]),t.setValue(l,{value:j(Q,!0),items:H(Q)})},items(Q){const{items:re}=Q.detail;for(;0!==E.length;)E.remove(0);for(const ge of re){const{displayValue:Ce,exportValue:ee}=ge,de=document.createElement("option");de.textContent=Ce,de.value=ee,E.appendChild(de)}E.options.length>0&&(E.options[0].selected=!0),t.setValue(l,{value:j(Q,!0),items:H(Q)})},indices(Q){const re=new Set(Q.detail.indices);for(const ge of Q.target.options)ge.selected=re.has(ge.index);t.setValue(l,{value:j(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},W)}),E.addEventListener("input",W=>{const G=j(W,!0),Q=j(W,!1);t.setValue(l,{value:G}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,changeEx:G,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):E.addEventListener("input",function(W){t.setValue(l,{value:j(W,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class n extends f{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const h=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===h.length)return this.container;const w=new r({container:this.container,trigger:Array.from(h),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),S=this.page,E=_.Util.normalizeRect([this.data.parentRect[0],S.view[3]-this.data.parentRect[1]+S.view[1],this.data.parentRect[2],S.view[3]-this.data.parentRect[3]+S.view[1]]),j=E[0]+this.data.parentRect[2]-this.data.parentRect[0],H=E[1];return this.container.style.transformOrigin=`${-j}px ${-H}px`,this.container.style.left=`${j}px`,this.container.style.top=`${H}px`,this.container.appendChild(w.render()),this.container}}class r{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const h=document.createElement("div");h.className="popup";const w=this.color;w&&(h.style.backgroundColor=_.Util.makeHexColor(0|.7*(255-w[0])+w[0],0|.7*(255-w[1])+w[1],0|.7*(255-w[2])+w[2]));const S=document.createElement("h1");S.dir=this.titleObj.dir,S.textContent=this.titleObj.str,h.appendChild(S);const E=pe.PDFDateString.toDateObject(this.modificationDate);if(E){const j=document.createElement("span");j.className="popupDate",j.textContent="{{date}}, {{time}}",j.dataset.l10nId="annotation_date_string",j.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),h.appendChild(j)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const j=this._formatContents(this.contentsObj);h.appendChild(j)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:h}),h.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const j of this.trigger)j.addEventListener("click",this._toggle.bind(this)),j.addEventListener("mouseover",this._show.bind(this,!1)),j.addEventListener("mouseout",this._hide.bind(this,!1));return h.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(h),l}_formatContents({str:t,dir:l}){const h=document.createElement("p");h.className="popupContent",h.dir=l;const w=t.split(/(?:\r\n?|\n)/);for(let S=0,E=w.length;S<E;++S)h.appendChild(document.createTextNode(w[S])),S<E-1&&h.appendChild(document.createElement("br"));return h}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class v extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:l,height:h}=P(t.rect),w=this.svgFactory.create(l,h),S=this.svgFactory.createElement("svg:line");return S.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),S.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),S.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),S.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),S.setAttribute("stroke-width",t.borderStyle.width||1),S.setAttribute("stroke","transparent"),S.setAttribute("fill","transparent"),w.appendChild(S),this.container.append(w),this._createPopup(S,t),this.container}}class y extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:l,height:h}=P(t.rect),w=this.svgFactory.create(l,h),S=t.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",S/2),E.setAttribute("y",S/2),E.setAttribute("width",l-S),E.setAttribute("height",h-S),E.setAttribute("stroke-width",S||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,t),this.container}}class L extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:l,height:h}=P(t.rect),w=this.svgFactory.create(l,h),S=t.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",l/2),E.setAttribute("cy",h/2),E.setAttribute("rx",l/2-S/2),E.setAttribute("ry",h/2-S/2),E.setAttribute("stroke-width",S||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,t),this.container}}class R extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:h}=P(t.rect),w=this.svgFactory.create(l,h);let S=[];for(const j of t.vertices)S.push(j.x-t.rect[0]+","+(t.rect[3]-j.y));S=S.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",S),E.setAttribute("stroke-width",t.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,t),this.container}}class F extends R{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class U extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class q extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:l,height:h}=P(t.rect),w=this.svgFactory.create(l,h);for(const S of t.inkLists){let E=[];for(const H of S)E.push(`${H.x-t.rect[0]},${t.rect[3]-H.y}`);E=E.join(" ");const j=this.svgFactory.createElement(this.svgElementName);j.setAttribute("points",E),j.setAttribute("stroke-width",t.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),this._createPopup(j,t),w.appendChild(j)}return this.container.append(w),this.container}}class X extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ne extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class V extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Z extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class K extends f{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ae extends f{constructor(t){super(t,{isRenderable:!0});const{filename:l,content:h}=this.data.file;this.filename=(0,pe.getFilenameFromUrl)(l),this.content=h,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:l,content:h})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ue{static render(t){const l=[],h=[];for(const S of t.annotations){if(!S)continue;const{width:E,height:j}=P(S.rect);if(!(E<=0||j<=0)){if(S.annotationType===_.AnnotationType.POPUP){h.push(S);continue}l.push(S)}}h.length&&l.push(...h);const w=t.div;for(const S of l){const E=b.create({data:S,layer:w,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new pe.DOMSVGFactory,annotationStorage:t.annotationStorage||new le.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(E.isRenderable){const j=E.render();if(S.hidden&&(j.style.visibility="hidden"),Array.isArray(j))for(const H of j)w.appendChild(H);else E instanceof n?w.prepend(j):w.appendChild(j)}}Pe(this,M,Ke).call(this,w,t.annotationCanvasMap)}static update(t){const{page:l,viewport:h,annotations:w,annotationCanvasMap:S,div:E}=t,j=h.transform,H=`matrix(${j.join(",")})`;let W,G;for(const Q of w){const re=E.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(re)for(const ge of re)if(Q.hasOwnCanvas){const Ce=_.Util.normalizeRect([Q.rect[0],l.view[3]-Q.rect[1]+l.view[1],Q.rect[2],l.view[3]-Q.rect[3]+l.view[1]]);if(!G){W=Math.abs(j[0]||j[1]);const ce=j.slice();for(let C=0;C<4;C++)ce[C]=Math.sign(ce[C]);G=`matrix(${ce.join(",")})`}const ee=Ce[0]*W,de=Ce[1]*W;ge.style.left=`${ee}px`,ge.style.top=`${de}px`,ge.style.transformOrigin=`${-ee}px ${-de}px`,ge.style.transform=G}else ge.style.transform=H}Pe(this,M,Ke).call(this,E,S),E.hidden=!1}}M=new WeakSet,Ke=function(t,l){if(l){for(const[h,w]of l){const S=t.querySelector(`[data-annotation-id="${h}"]`);if(!S)continue;const{firstChild:E}=S;"CANVAS"===E.nodeName?S.replaceChild(w,E):S.insertBefore(w,E)}l.clear()}},we(ue,M),k.AnnotationLayer=ue},(me,k)=>{function ie(pe){return Math.floor(255*Math.max(0,Math.min(1,pe))).toString(16).padStart(2,"0")}Object.defineProperty(k,"__esModule",{value:!0}),k.ColorConverters=void 0,k.ColorConverters=class _{static CMYK_G([le,e,J,D]){return["G",1-Math.min(1,.3*le+.59*J+.11*e+D)]}static G_CMYK([le]){return["CMYK",0,0,0,1-le]}static G_RGB([le]){return["RGB",le,le,le]}static G_HTML([le]){const e=ie(le);return`#${e}${e}${e}`}static RGB_G([le,e,J]){return["G",.3*le+.59*e+.11*J]}static RGB_HTML([le,e,J]){return`#${ie(le)}${ie(e)}${ie(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([le,e,J,D]){return["RGB",1-Math.min(1,le+D),1-Math.min(1,J+D),1-Math.min(1,e+D)]}static CMYK_HTML(le){return this.RGB_HTML(this.CMYK_RGB(le))}static RGB_CMYK([le,e,J]){const D=1-le,d=1-e,P=1-J;return["CMYK",D,d,P,Math.min(D,d,P)]}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaLayer=void 0;var _=ie(18);k.XfaLayer=class pe{static setupStorage(e,J,D,d,P){const b=d.getValue(J,{value:null});switch(D.name){case"textarea":if(null!==b.value&&(e.textContent=b.value),"print"===P)break;e.addEventListener("input",f=>{d.setValue(J,{value:f.target.value})});break;case"input":if("radio"===D.attributes.type||"checkbox"===D.attributes.type){if(b.value===D.attributes.xfaOn?e.setAttribute("checked",!0):b.value===D.attributes.xfaOff&&e.removeAttribute("checked"),"print"===P)break;e.addEventListener("change",f=>{d.setValue(J,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==b.value&&e.setAttribute("value",b.value),"print"===P)break;e.addEventListener("input",f=>{d.setValue(J,{value:f.target.value})})}break;case"select":if(null!==b.value)for(const f of D.children)f.attributes.value===b.value&&(f.attributes.selected=!0);e.addEventListener("input",f=>{const a=f.target.options;d.setValue(J,{value:-1===a.selectedIndex?"":a[a.selectedIndex].value})})}}static setAttributes({html:e,element:J,storage:D=null,intent:d,linkService:P}){const{attributes:b}=J,f=e instanceof HTMLAnchorElement;"radio"===b.type&&(b.name=`${b.name}-${d}`);for(const[a,m]of Object.entries(b))if(null!=m&&"dataId"!==a)if("style"!==a)if("textContent"===a)e.textContent=m;else if("class"===a)m.length&&e.setAttribute(a,m.join(" "));else{if(f&&("href"===a||"newWindow"===a))continue;e.setAttribute(a,m)}else Object.assign(e.style,m);f&&P.addLinkAttributes(e,b.href,b.newWindow),D&&b.dataId&&this.setupStorage(e,b.dataId,J,D)}static render(e){const J=e.annotationStorage,D=e.linkService,d=e.xfaHtml,P=e.intent||"display",b=document.createElement(d.name);d.attributes&&this.setAttributes({html:b,element:d,intent:P,linkService:D});const f=[[d,-1,b]],a=e.div;if(a.appendChild(b),e.viewport){const i=`matrix(${e.viewport.transform.join(",")})`;a.style.transform=i}"richText"!==P&&a.setAttribute("class","xfaLayer xfaFont");const m=[];for(;f.length>0;){const[i,s,u]=f[f.length-1];if(s+1===i.children.length){f.pop();continue}const T=i.children[++f[f.length-1][1]];if(null===T)continue;const{name:g}=T;if("#text"===g){const n=document.createTextNode(T.value);m.push(n),u.appendChild(n);continue}let p;if(p=T?.attributes?.xmlns?document.createElementNS(T.attributes.xmlns,g):document.createElement(g),u.appendChild(p),T.attributes&&this.setAttributes({html:p,element:T,storage:J,intent:P,linkService:D}),T.children&&T.children.length>0)f.push([T,-1,p]);else if(T.value){const n=document.createTextNode(T.value);_.XfaText.shouldBuildText(g)&&m.push(n),p.appendChild(n)}}for(const i of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:m}}static update(e){const J=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=J,e.div.hidden=!1}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.renderTextLayer=function u(T){const g=new s({textContent:T.textContent,textContentStream:T.textContentStream,container:T.container,viewport:T.viewport,textDivs:T.textDivs,textContentItemsStr:T.textContentItemsStr,enhanceTextSelection:T.enhanceTextSelection});return g._render(T.timeout),g};var _=ie(1);const J=new Map,D=/^\s+$/g;function P(T,g,p,n){const r=document.createElement("span"),v=T._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==g.str,hasEOL:g.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==g.str,hasEOL:g.hasEOL};T._textDivs.push(r);const A=_.Util.transform(T._viewport.transform,g.transform);let y=Math.atan2(A[1],A[0]);const L=p[g.fontName];L.vertical&&(y+=Math.PI/2);const R=Math.hypot(A[2],A[3]),F=R*function d(T,g){const p=J.get(T);if(p)return p;g.save(),g.font=`30px ${T}`;const n=g.measureText("");let r=n.fontBoundingBoxAscent,v=Math.abs(n.fontBoundingBoxDescent);if(r){g.restore();const y=r/(r+v);return J.set(T,y),y}g.strokeStyle="red",g.clearRect(0,0,30,30),g.strokeText("g",0,0);let A=g.getImageData(0,0,30,30).data;v=0;for(let y=A.length-1-3;y>=0;y-=4)if(A[y]>0){v=Math.ceil(y/4/30);break}g.clearRect(0,0,30,30),g.strokeText("A",0,30),A=g.getImageData(0,0,30,30).data,r=0;for(let y=0,L=A.length;y<L;y+=4)if(A[y]>0){r=30-Math.floor(y/4/30);break}if(g.restore(),r){const y=r/(r+v);return J.set(T,y),y}return J.set(T,.8),.8}(L.fontFamily,n);let U,q;0===y?(U=A[4],q=A[5]-F):(U=A[4]+F*Math.sin(y),q=A[5]-F*Math.cos(y)),r.style.left=`${U}px`,r.style.top=`${q}px`,r.style.fontSize=`${R}px`,r.style.fontFamily=L.fontFamily,r.setAttribute("role","presentation"),r.textContent=g.str,r.dir=g.dir,T._fontInspectorEnabled&&(r.dataset.fontName=g.fontName),0!==y&&(v.angle=y*(180/Math.PI));let X=!1;if(g.str.length>1||T._enhanceTextSelection&&D.test(g.str))X=!0;else if(" "!==g.str&&g.transform[0]!==g.transform[3]){const ne=Math.abs(g.transform[0]),V=Math.abs(g.transform[3]);ne!==V&&Math.max(ne,V)/Math.min(ne,V)>1.5&&(X=!0)}if(X&&(v.canvasWidth=L.vertical?g.height*T._viewport.scale:g.width*T._viewport.scale),T._textDivProperties.set(r,v),T._textContentStream&&T._layoutText(r),T._enhanceTextSelection&&v.hasText){let ne=1,V=0;0!==y&&(ne=Math.cos(y),V=Math.sin(y));const Z=(L.vertical?g.height:g.width)*T._viewport.scale,K=R;let ae,ue;0!==y?(ae=[ne,V,-V,ne,U,q],ue=_.Util.getAxialAlignedBoundingBox([0,0,Z,K],ae)):ue=[U,q,U+Z,q+K],T._bounds.push({left:ue[0],top:ue[1],right:ue[2],bottom:ue[3],div:r,size:[Z,K],m:ae})}}function b(T){if(T._canceled)return;const g=T._textDivs,p=T._capability,n=g.length;if(n>1e5)return T._renderingDone=!0,void p.resolve();if(!T._textContentStream)for(let r=0;r<n;r++)T._layoutText(g[r]);T._renderingDone=!0,p.resolve()}function f(T,g,p){let n=0;for(let r=0;r<p;r++){const v=T[g++];v>0&&(n=n?Math.min(v,n):v)}return n}function i(T,g){g.sort(function(r,v){return r.x1-v.x1||r.index-v.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of g){let v=0;for(;v<n.length&&n[v].end<=r.y1;)v++;let A=n.length-1;for(;A>=0&&n[A].start>=r.y2;)A--;let y,L,R,F,U=-1/0;for(R=v;R<=A;R++){let ne;y=n[R],L=y.boundary,ne=L.x2>r.x1?L.index>r.index?L.x1New:r.x1:void 0===L.x2New?(L.x2+r.x1)/2:L.x2New,ne>U&&(U=ne)}for(r.x1New=U,R=v;R<=A;R++)y=n[R],L=y.boundary,void 0===L.x2New?L.x2>r.x1?L.index>r.index&&(L.x2New=L.x2):L.x2New=U:L.x2New>U&&(L.x2New=Math.max(U,L.x2));const q=[];let X=null;for(R=v;R<=A;R++){y=n[R],L=y.boundary;const ne=L.x2>r.x2?L:r;X===ne?q[q.length-1].end=y.end:(q.push({start:y.start,end:y.end,boundary:ne}),X=ne)}for(n[v].start<r.y1&&(q[0].start=r.y1,q.unshift({start:n[v].start,end:r.y1,boundary:n[v].boundary})),r.y2<n[A].end&&(q[q.length-1].end=r.y2,q.push({start:r.y2,end:n[A].end,boundary:n[A].boundary})),R=v;R<=A;R++){if(y=n[R],L=y.boundary,void 0!==L.x2New)continue;let ne=!1;for(F=v-1;!ne&&F>=0&&n[F].start>=L.y1;F--)ne=n[F].boundary===L;for(F=A+1;!ne&&F<n.length&&n[F].end<=L.y2;F++)ne=n[F].boundary===L;for(F=0;!ne&&F<q.length;F++)ne=q[F].boundary===L;ne||(L.x2New=U)}Array.prototype.splice.apply(n,[v,A-v+1].concat(q))}for(const r of n){const v=r.boundary;void 0===v.x2New&&(v.x2New=Math.max(T,v.x2))}}class s{constructor({textContent:g,textContentStream:p,container:n,viewport:r,textDivs:v,textContentItemsStr:A,enhanceTextSelection:y}){this._textContent=g,this._textContentStream=p,this._container=n,this._document=n.ownerDocument,this._viewport=r,this._textDivs=v||[],this._textContentItemsStr=A||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(g,p){for(let n=0,r=g.length;n<r;n++)if(void 0!==g[n].str)this._textContentItemsStr.push(g[n].str),P(this,g[n],p,this._layoutTextCtx);else if("beginMarkedContentProps"===g[n].type||"beginMarkedContent"===g[n].type){const v=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==g[n].id&&this._container.setAttribute("id",`${g[n].id}`),v.appendChild(this._container)}else"endMarkedContent"===g[n].type&&(this._container=this._container.parentNode)}_layoutText(g){const p=this._textDivProperties.get(g);let n="";if(0!==p.canvasWidth&&p.hasText){const{fontSize:r,fontFamily:v}=g.style;(r!==this._layoutTextLastFontSize||v!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${v}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=v);const{width:A}=this._layoutTextCtx.measureText(g.textContent);if(A>0){const y=p.canvasWidth/A;this._enhanceTextSelection&&(p.scale=y),n=`scaleX(${y})`}}if(0!==p.angle&&(n=`rotate(${p.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(p.originalTransform=n),g.style.transform=n),p.hasText&&this._container.appendChild(g),p.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(g=0){const p=(0,_.createPromiseCapability)();let n=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=30,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),p.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const v=()=>{this._reader.read().then(({value:A,done:y})=>{y?p.resolve():(Object.assign(n,A.styles),this._processItems(A.items,n),v())},p.reject)};this._reader=this._textContentStream.getReader(),v()}}p.promise.then(()=>{n=null,g?this._renderTimer=setTimeout(()=>{b(this),this._renderTimer=null},g):b(this)},this._capability.reject)}expandTextDivs(g=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function a(T){const g=T._bounds,p=T._viewport,n=function m(T,g,p){const n=p.map(function(v,A){return{x1:v.left,y1:v.top,x2:v.right,y2:v.bottom,index:A,x1New:void 0,x2New:void 0}});i(T,n);const r=new Array(p.length);for(const v of n)r[v.index]={left:v.x1New,top:0,right:v.x2New,bottom:0};p.map(function(v,A){const y=r[A],L=n[A];L.x1=v.top,L.y1=T-y.right,L.x2=v.bottom,L.y2=T-y.left,L.index=A,L.x1New=void 0,L.x2New=void 0}),i(g,n);for(const v of n){const A=v.index;r[A].top=v.x1New,r[A].bottom=v.x2New}return r}(p.width,p.height,g);for(let r=0;r<n.length;r++){const v=g[r].div,A=T._textDivProperties.get(v);if(0===A.angle){A.paddingLeft=g[r].left-n[r].left,A.paddingTop=g[r].top-n[r].top,A.paddingRight=n[r].right-g[r].right,A.paddingBottom=n[r].bottom-g[r].bottom,T._textDivProperties.set(v,A);continue}const y=n[r],L=g[r],R=L.m,F=R[0],U=R[1],q=[[0,0],[0,L.size[1]],[L.size[0],0],L.size],X=new Float64Array(64);for(let V=0,Z=q.length;V<Z;V++){const K=_.Util.applyTransform(q[V],R);X[V+0]=F&&(y.left-K[0])/F,X[V+4]=U&&(y.top-K[1])/U,X[V+8]=F&&(y.right-K[0])/F,X[V+12]=U&&(y.bottom-K[1])/U,X[V+16]=U&&(y.left-K[0])/-U,X[V+20]=F&&(y.top-K[1])/F,X[V+24]=U&&(y.right-K[0])/-U,X[V+28]=F&&(y.bottom-K[1])/F,X[V+32]=F&&(y.left-K[0])/-F,X[V+36]=U&&(y.top-K[1])/-U,X[V+40]=F&&(y.right-K[0])/-F,X[V+44]=U&&(y.bottom-K[1])/-U,X[V+48]=U&&(y.left-K[0])/U,X[V+52]=F&&(y.top-K[1])/-F,X[V+56]=U&&(y.right-K[0])/U,X[V+60]=F&&(y.bottom-K[1])/-F}const ne=1+Math.min(Math.abs(F),Math.abs(U));A.paddingLeft=f(X,32,16)/ne,A.paddingTop=f(X,48,16)/ne,A.paddingRight=f(X,0,16)/ne,A.paddingBottom=f(X,16,16)/ne,T._textDivProperties.set(v,A)}}(this),this._bounds=null);const p=[],n=[];for(let r=0,v=this._textDivs.length;r<v;r++){const A=this._textDivs[r],y=this._textDivProperties.get(A);!y.hasText||(g?(p.length=0,n.length=0,y.originalTransform&&p.push(y.originalTransform),y.paddingTop>0?(n.push(`${y.paddingTop}px`),p.push(`translateY(${-y.paddingTop}px)`)):n.push(0),n.push(y.paddingRight>0?y.paddingRight/y.scale+"px":0),n.push(y.paddingBottom>0?`${y.paddingBottom}px`:0),y.paddingLeft>0?(n.push(y.paddingLeft/y.scale+"px"),p.push(`translateX(${-y.paddingLeft/y.scale}px)`)):n.push(0),A.style.padding=n.join(" "),p.length&&(A.style.transform=p.join(" "))):(A.style.padding=null,A.style.transform=y.originalTransform))}}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SVGGraphics=void 0;var _=ie(1),pe=ie(5),le=ie(3);let e=class{constructor(){(0,_.unreachable)("Not implemented: SVGGraphics")}};k.SVGGraphics=e;{let i=function(n){let r=[];const v=[];for(const A of n)"save"!==A.fn?"restore"===A.fn?r=v.pop():r.push(A):(r.push({fnId:92,fn:"group",items:[]}),v.push(r),r=r[r.length-1].items);return r},s=function(n){if(Number.isInteger(n))return n.toString();const r=n.toFixed(10);let v=r.length-1;if("0"!==r[v])return r;do{v--}while("0"===r[v]);return r.substring(0,"."===r[v]?v:v+1)},u=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${s(n[0])} ${s(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const r=180*Math.acos(n[0])/Math.PI;return`rotate(${s(r)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${s(n[4])} ${s(n[5])})`;return`matrix(${s(n[0])} ${s(n[1])} ${s(n[2])} ${s(n[3])} ${s(n[4])} ${s(n[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/1999/xlink",P=["butt","round","square"],b=["miter","round","bevel"],f=function(n,r="",v=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!v)return URL.createObjectURL(new Blob([n],{type:r}));const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${r};base64,`;for(let L=0,R=n.length;L<R;L+=3){const F=255&n[L],U=255&n[L+1],q=255&n[L+2];y+=A[F>>2]+A[(3&F)<<4|U>>4]+A[L+1<R?(15&U)<<2|q>>6:64]+A[L+2<R?63&q:64]}return y},a=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),v=new Int32Array(256);for(let q=0;q<256;q++){let X=q;for(let ne=0;ne<8;ne++)X=1&X?3988292384^X>>1&2147483647:X>>1&2147483647;v[q]=X}function y(q,X,ne,V){let Z=V;const K=X.length;ne[Z]=K>>24&255,ne[Z+1]=K>>16&255,ne[Z+2]=K>>8&255,ne[Z+3]=255&K,Z+=4,ne[Z]=255&q.charCodeAt(0),ne[Z+1]=255&q.charCodeAt(1),ne[Z+2]=255&q.charCodeAt(2),ne[Z+3]=255&q.charCodeAt(3),Z+=4,ne.set(X,Z),Z+=X.length;const ae=function A(q,X,ne){let V=-1;for(let Z=X;Z<ne;Z++)V=V>>>8^v[255&(V^q[Z])];return-1^V}(ne,V+4,Z);ne[Z]=ae>>24&255,ne[Z+1]=ae>>16&255,ne[Z+2]=ae>>8&255,ne[Z+3]=255&ae}function F(q){let X=q.length;const ne=65535,V=Math.ceil(X/ne),Z=new Uint8Array(2+X+5*V+4);let K=0;Z[K++]=120,Z[K++]=156;let ae=0;for(;X>ne;)Z[K++]=0,Z[K++]=255,Z[K++]=255,Z[K++]=0,Z[K++]=0,Z.set(q.subarray(ae,ae+ne),K),K+=ne,ae+=ne,X-=ne;Z[K++]=1,Z[K++]=255&X,Z[K++]=X>>8&255,Z[K++]=255&~X,Z[K++]=(65535&~X)>>8&255,Z.set(q.subarray(ae),K),K+=q.length-ae;const ue=function L(q,X,ne){let V=1,Z=0;for(let K=X;K<ne;++K)V=(V+(255&q[K]))%65521,Z=(Z+V)%65521;return Z<<16|V}(q,0,q.length);return Z[K++]=ue>>24&255,Z[K++]=ue>>16&255,Z[K++]=ue>>8&255,Z[K++]=255&ue,Z}return function(X,ne,V){return function U(q,X,ne,V){const Z=q.width,K=q.height;let ae,ue,M;const o=q.data;switch(X){case _.ImageKind.GRAYSCALE_1BPP:ue=0,ae=1,M=Z+7>>3;break;case _.ImageKind.RGB_24BPP:ue=2,ae=8,M=3*Z;break;case _.ImageKind.RGBA_32BPP:ue=6,ae=8,M=4*Z;break;default:throw new Error("invalid format")}const c=new Uint8Array((1+M)*K);let t=0,l=0;for(let H=0;H<K;++H)c[t++]=0,c.set(o.subarray(l,l+M),t),l+=M,t+=M;if(X===_.ImageKind.GRAYSCALE_1BPP&&V){t=0;for(let H=0;H<K;H++){t++;for(let W=0;W<M;W++)c[t++]^=255}}const h=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,255&Z,K>>24&255,K>>16&255,K>>8&255,255&K,ae,ue,0,0,0]),w=function R(q){if(!le.isNodeJS)return F(q);try{let X;X=parseInt(process.versions.node)>=8?q:Buffer.from(q);const ne=__webpack_require__(2258).deflateSync(X,{level:9});return ne instanceof Uint8Array?ne:new Uint8Array(ne)}catch(X){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+X)}return F(q)}(c),E=new Uint8Array(n.length+36+h.length+w.length);let j=0;return E.set(n,j),j+=n.length,y("IHDR",h,E,j),j+=12+h.length,y("IDATA",w,E,j),j+=12+w.length,y("IEND",new Uint8Array(0),E,j),f(E,"image/png",ne)}(X,void 0===X.kind?_.ImageKind.GRAYSCALE_1BPP:X.kind,ne,V)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,v){this.x=r,this.y=v}}let T=0,g=0,p=0;k.SVGGraphics=e=class{constructor(n,r,v=!1){this.svgFactory=new pe.DOMSVGFactory,this.current=new m,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(const A in _.OPS)this._operatorIdMapping[_.OPS[A]]=A}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const r=n.fnArray,v=n.argsArray;for(let A=0,y=r.length;A<y;A++)if(r[A]===_.OPS.dependency)for(const L of v[A]){const R=L.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(U=>{R.get(L,U)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(n,r,v,A,y,L){this.transformMatrix=_.Util.transform(this.transformMatrix,[n,r,v,A,y,L]),this.tgrp=null}getSVG(n,r){this.viewport=r;const v=this._initialize(r);return this.loadDependencies(n).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),v))}convertOpList(n){const r=this._operatorIdMapping,v=n.argsArray,A=n.fnArray,y=[];for(let L=0,R=A.length;L<R;L++){const F=A[L];y.push({fnId:F,fn:r[F],args:v[L]})}return i(y)}executeOpTree(n){for(const r of n){const v=r.fn,y=r.args;switch(0|r.fnId){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(y);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case _.OPS.setFont:this.setFont(y);break;case _.OPS.showText:case _.OPS.showSpacedText:this.showText(y[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(y[0],y[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case _.OPS.setHScale:this.setHScale(y[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case _.OPS.setTextRise:this.setTextRise(y[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case _.OPS.setLineWidth:this.setLineWidth(y[0]);break;case _.OPS.setLineJoin:this.setLineJoin(y[0]);break;case _.OPS.setLineCap:this.setLineCap(y[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case _.OPS.setFillColorN:this.setFillColorN(y);break;case _.OPS.shadingFill:this.shadingFill(y[0]);break;case _.OPS.setDash:this.setDash(y[0],y[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case _.OPS.setFlatness:this.setFlatness(y[0]);break;case _.OPS.setGState:this.setGState(y[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case _.OPS.constructPath:this.constructPath(y[0],y[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,_.warn)(`Unimplemented operator ${v}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,r,v,A,y,L){const R=this.current;R.textMatrix=R.lineMatrix=[n,r,v,A,y,L],R.textMatrixScale=Math.hypot(n,r),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${s(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",s(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.appendChild(R.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=_.IDENTITY_MATRIX,n.lineMatrix=_.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,r){const v=this.current;v.x=v.lineX+=n,v.y=v.lineY+=r,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${s(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",s(-v.y))}showText(n){const r=this.current,v=r.font,A=r.fontSize;if(0===A)return;const y=r.fontSizeScale,L=r.charSpacing,R=r.wordSpacing,F=r.fontDirection,U=r.textHScale*F,q=v.vertical,X=q?1:-1,ne=v.defaultVMetrics,V=A*r.fontMatrix[0];let Z=0;for(const ue of n){if(null===ue){Z+=F*R;continue}if("number"==typeof ue){Z+=X*ue*A/1e3;continue}const M=(ue.isSpace?R:0)+L,o=ue.fontChar;let c,t,h,l=ue.width;if(q){let w;const S=ue.vmetric||ne;w=ue.vmetric?S[1]:.5*l,w=-w*V,l=S?-S[0]:l,c=w/y,t=(Z+S[2]*V)/y}else c=Z/y,t=0;(ue.isInFont||v.missingFile)&&(r.xcoords.push(r.x+c),q&&r.ycoords.push(-r.y+t),r.tspan.textContent+=o),h=q?l*V-M*F:l*V+M*F,Z+=h}r.tspan.setAttributeNS(null,"x",r.xcoords.map(s).join(" ")),r.tspan.setAttributeNS(null,"y",q?r.ycoords.map(s).join(" "):s(-r.y)),q?r.y-=Z:r.x+=Z*U,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${s(r.fontSize)}px`),r.fontStyle!==J.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==J.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const K=r.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;K===_.TextRenderingMode.FILL||K===_.TextRenderingMode.FILL_STROKE?(r.fillColor!==J.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(K===_.TextRenderingMode.STROKE||K===_.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let ae=r.textMatrix;0!==r.textRise&&(ae=ae.slice(),ae[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${u(ae)} scale(${s(U)}, -1)`),r.txtElement.setAttributeNS(D,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(n,r){this.setLeading(-r),this.moveText(n,r)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=f(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${r}); }\n`}setFont(n){const r=this.current,v=this.commonObjs.get(n[0]);let A=n[1];r.font=v,this.embedFonts&&!v.missingFile&&!this.embeddedFonts[v.loadedName]&&(this.addFontStyle(v),this.embeddedFonts[v.loadedName]=v),r.fontMatrix=v.fontMatrix||_.FONT_IDENTITY_MATRIX;let y="normal";v.black?y="900":v.bold&&(y="bold");const L=v.italic?"italic":"normal";A<0?(A=-A,r.fontDirection=-1):r.fontDirection=1,r.fontSize=A,r.fontFamily=v.loadedName,r.fontWeight=y,r.fontStyle=L,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",s(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=P[n]}setLineJoin(n){this.current.lineJoin=b[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,r,v){this.current.strokeColor=_.Util.makeHexColor(n,r,v)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,r,v){this.current.fillColor=_.Util.makeHexColor(n,r,v),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const r=this.viewport.width,v=this.viewport.height,A=_.Util.inverseTransform(this.transformMatrix),y=_.Util.applyTransform([0,0],A),L=_.Util.applyTransform([0,v],A),R=_.Util.applyTransform([r,0],A),F=_.Util.applyTransform([r,v],A),U=Math.min(y[0],L[0],R[0],F[0]),q=Math.min(y[1],L[1],R[1],F[1]),X=Math.max(y[0],L[0],R[0],F[0]),ne=Math.max(y[1],L[1],R[1],F[1]),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x",U),V.setAttributeNS(null,"y",q),V.setAttributeNS(null,"width",X-U),V.setAttributeNS(null,"height",ne-q),V.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&V.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(V)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const r=n[1],v=n[2],A=n[3]||_.IDENTITY_MATRIX,[y,L,R,F]=n[4],U=n[5],q=n[6],X=n[7],ne="shading"+p++,[V,Z,K,ae]=_.Util.normalizeRect([..._.Util.applyTransform([y,L],A),..._.Util.applyTransform([R,F],A)]),[ue,M]=_.Util.singularValueDecompose2dScale(A),o=U*ue,c=q*M,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",ne),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",o),t.setAttributeNS(null,"height",c),t.setAttributeNS(null,"x",`${V}`),t.setAttributeNS(null,"y",`${Z}`);const l=this.svg,h=this.transformMatrix,w=this.current.fillColor,S=this.current.strokeColor,E=this.svgFactory.create(K-V,ae-Z);if(this.svg=E,this.transformMatrix=A,2===X){const j=_.Util.makeHexColor(...r);this.current.fillColor=j,this.current.strokeColor=j}return this.executeOpTree(this.convertOpList(v)),this.svg=l,this.transformMatrix=h,this.current.fillColor=w,this.current.strokeColor=S,t.appendChild(E.childNodes[0]),this.defs.appendChild(t),`url(#${ne})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const r="shading"+p++,v=n[3];let A;switch(n[1]){case"axial":const y=n[4],L=n[5];A=this.svgFactory.createElement("svg:linearGradient"),A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"x1",y[0]),A.setAttributeNS(null,"y1",y[1]),A.setAttributeNS(null,"x2",L[0]),A.setAttributeNS(null,"y2",L[1]);break;case"radial":const R=n[4],F=n[5],U=n[6],q=n[7];A=this.svgFactory.createElement("svg:radialGradient"),A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"cx",F[0]),A.setAttributeNS(null,"cy",F[1]),A.setAttributeNS(null,"r",q),A.setAttributeNS(null,"fx",R[0]),A.setAttributeNS(null,"fy",R[1]),A.setAttributeNS(null,"fr",U);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const y of v){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",y[0]),L.setAttributeNS(null,"stop-color",y[1]),A.appendChild(L)}return this.defs.appendChild(A),`url(#${r})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,r){this.current.dashArray=n,this.current.dashPhase=r}constructPath(n,r){const v=this.current;let A=v.x,y=v.y,L=[],R=0;for(const F of n)switch(0|F){case _.OPS.rectangle:A=r[R++],y=r[R++];const X=A+r[R++],ne=y+r[R++];L.push("M",s(A),s(y),"L",s(X),s(y),"L",s(X),s(ne),"L",s(A),s(ne),"Z");break;case _.OPS.moveTo:A=r[R++],y=r[R++],L.push("M",s(A),s(y));break;case _.OPS.lineTo:A=r[R++],y=r[R++],L.push("L",s(A),s(y));break;case _.OPS.curveTo:A=r[R+4],y=r[R+5],L.push("C",s(r[R]),s(r[R+1]),s(r[R+2]),s(r[R+3]),s(A),s(y)),R+=6;break;case _.OPS.curveTo2:L.push("C",s(A),s(y),s(r[R]),s(r[R+1]),s(r[R+2]),s(r[R+3])),A=r[R+2],y=r[R+3],R+=4;break;case _.OPS.curveTo3:A=r[R+2],y=r[R+3],L.push("C",s(r[R]),s(r[R+1]),s(A),s(y),s(A),s(y)),R+=4;break;case _.OPS.closePath:L.push("Z")}L=L.join(" "),v.path&&n.length>0&&n[0]!==_.OPS.rectangle&&n[0]!==_.OPS.moveTo?L=v.path.getAttributeNS(null,"d")+L:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(v.path)),v.path.setAttributeNS(null,"d",L),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(A,y)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const r="clippath"+T++,v=this.svgFactory.createElement("svg:clipPath");v.setAttributeNS(null,"id",r),v.setAttributeNS(null,"transform",u(this.transformMatrix));const A=n.element.cloneNode(!0);if(A.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,v.appendChild(A),this.defs.appendChild(v),n.activeClipUrl){n.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;v.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const r=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",r)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[r,v]of n)switch(r){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,_.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,r=1){const v=this.current;let A=v.dashArray;1!==r&&A.length>0&&(A=A.map(function(y){return r*y})),n.setAttributeNS(null,"stroke",v.strokeColor),n.setAttributeNS(null,"stroke-opacity",v.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",s(v.miterLimit)),n.setAttributeNS(null,"stroke-linecap",v.lineCap),n.setAttributeNS(null,"stroke-linejoin",v.lineJoin),n.setAttributeNS(null,"stroke-width",s(r*v.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",A.map(s).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",s(r*v.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const r=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);r?this.paintInlineImageXObject(r):(0,_.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,r){const v=n.width,A=n.height,y=a(n,this.forceDataSchema,!!r),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",s(v)),L.setAttributeNS(null,"height",s(A)),this.current.element=L,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(d,"xlink:href",y),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",s(-A)),R.setAttributeNS(null,"width",s(v)+"px"),R.setAttributeNS(null,"height",s(A)+"px"),R.setAttributeNS(null,"transform",`scale(${s(1/v)} ${s(-1/A)})`),r?r.appendChild(R):this._ensureTransformGroup().appendChild(R)}paintImageMaskXObject(n){const r=this.current,v=n.width,A=n.height,y=r.fillColor;r.maskId="mask"+g++;const L=this.svgFactory.createElement("svg:mask");L.setAttributeNS(null,"id",r.maskId);const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",s(v)),R.setAttributeNS(null,"height",s(A)),R.setAttributeNS(null,"fill",y),R.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(L),this._ensureTransformGroup().appendChild(R),this.paintInlineImageXObject(n,L)}paintFormXObjectBegin(n,r){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r){const v=r[2]-r[0],A=r[3]-r[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",r[0]),y.setAttributeNS(null,"y",r[1]),y.setAttributeNS(null,"width",s(v)),y.setAttributeNS(null,"height",s(A)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const r=this.svgFactory.create(n.width,n.height),v=this.svgFactory.createElement("svg:defs");r.appendChild(v),this.defs=v;const A=this.svgFactory.createElement("svg:g");return A.setAttributeNS(null,"transform",u(n.transform)),r.appendChild(A),this.svg=A,r}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNodeStream=void 0;var _=ie(1),pe=ie(26);const le=__webpack_require__(172),e=__webpack_require__(2001),J=__webpack_require__(3779),D=__webpack_require__(6558),d=/^file:\/\/\/[a-zA-Z]:\//;k.PDFNodeStream=class b{constructor(p){this.source=p,this.url=function P(g){const p=D.parse(g);return"file:"===p.protocol||p.host?p:/^[a-z]:[/\\]/i.test(g)?D.parse(`file:///${g}`):(p.host||(p.protocol="file:"),p)}(p.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&p.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new i(this),this._fullRequestReader}getRangeReader(p,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new T(this,p,n):new s(this,p,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(p){this._fullRequestReader&&this._fullRequestReader.cancel(p);for(const n of this._rangeRequestReaders.slice(0))n.cancel(p)}};class f{constructor(p){this._url=p.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=p.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._headersCapability=(0,_.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){if(yield p._readCapability.promise,p._done)return{value:void 0,done:!0};if(p._storedError)throw p._storedError;const n=p._readableStream.read();return null===n?(p._readCapability=(0,_.createPromiseCapability)(),p.read()):(p._loaded+=n.length,p.onProgress&&p.onProgress({loaded:p._loaded,total:p._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(p){this._readableStream?this._readableStream.destroy(p):this._error(p)}_error(p){this._storedError=p,this._readCapability.resolve()}_setReadableStream(p){this._readableStream=p,p.on("readable",()=>{this._readCapability.resolve()}),p.on("end",()=>{p.destroy(),this._done=!0,this._readCapability.resolve()}),p.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a{constructor(p){this._url=p.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!p.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){if(yield p._readCapability.promise,p._done)return{value:void 0,done:!0};if(p._storedError)throw p._storedError;const n=p._readableStream.read();return null===n?(p._readCapability=(0,_.createPromiseCapability)(),p.read()):(p._loaded+=n.length,p.onProgress&&p.onProgress({loaded:p._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(p){this._readableStream?this._readableStream.destroy(p):this._error(p)}_error(p){this._storedError=p,this._readCapability.resolve()}_setReadableStream(p){this._readableStream=p,p.on("readable",()=>{this._readCapability.resolve()}),p.on("end",()=>{p.destroy(),this._done=!0,this._readCapability.resolve()}),p.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(g,p){return{protocol:g.protocol,auth:g.auth,host:g.hostname,port:g.port,path:g.path,method:"GET",headers:p}}class i extends f{constructor(p){super(p);const n=r=>{if(404===r.statusCode){const L=new _.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=L,void this._headersCapability.reject(L)}this._headersCapability.resolve(),this._setReadableStream(r);const v=L=>this._readableStream.headers[L.toLowerCase()],{allowRangeRequests:A,suggestedLength:y}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:p.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=y||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(v)};this._request=null,this._request="http:"===this._url.protocol?e.request(m(this._url,p.httpHeaders),n):J.request(m(this._url,p.httpHeaders),n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class s extends a{constructor(p,n,r){super(p),this._httpHeaders={};for(const A in p.httpHeaders){const y=p.httpHeaders[A];typeof y>"u"||(this._httpHeaders[A]=y)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const v=A=>{if(404!==A.statusCode)this._setReadableStream(A);else{const y=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};this._request=null,this._request="http:"===this._url.protocol?e.request(m(this._url,this._httpHeaders),v):J.request(m(this._url,this._httpHeaders),v),this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class u extends f{constructor(p){super(p);let n=decodeURIComponent(this._url.path);d.test(this._url.href)&&(n=n.replace(/^\//,"")),le.lstat(n,(r,v)=>{if(r)return"ENOENT"===r.code&&(r=new _.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=v.size,this._setReadableStream(le.createReadStream(n)),this._headersCapability.resolve()})}}class T extends a{constructor(p,n,r){super(p);let v=decodeURIComponent(this._url.path);d.test(this._url.href)&&(v=v.replace(/^\//,"")),this._setReadableStream(le.createReadStream(v,{start:n,end:r-1}))}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.createResponseStatusError=function D(P,b){return 404===P||0===P&&b.startsWith("file:")?new _.MissingPDFException('Missing PDF "'+b+'".'):new _.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${b}".`,P)},k.extractFilenameFromHeader=function J(P){const b=P("Content-Disposition");if(b){let f=(0,pe.getFilenameFromContentDispositionHeader)(b);if(f.includes("%"))try{f=decodeURIComponent(f)}catch{}if((0,le.isPdfFile)(f))return f}return null},k.validateRangeRequestCapabilities=function e({getResponseHeader:P,isHttp:b,rangeChunkSize:f,disableRange:a}){const m={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(P("Content-Length"),10);return!Number.isInteger(i)||(m.suggestedLength=i,i<=2*f)||a||!b||"bytes"!==P("Accept-Ranges")||"identity"!==(P("Content-Encoding")||"identity")||(m.allowRangeRequests=!0),m},k.validateResponseStatus=function d(P){return 200===P||206===P};var _=ie(1),pe=ie(27),le=ie(5)},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.getFilenameFromContentDispositionHeader=function pe(le){let e=!0,J=D("filename\\*","i").exec(le);if(J){J=J[1];let i=f(J);return i=unescape(i),i=a(i),i=m(i),P(i)}if(J=function b(i){const s=[];let u;const T=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(u=T.exec(i));){let[,p,n,r]=u;if(p=parseInt(p,10),p in s){if(0===p)break}else s[p]=[n,r]}const g=[];for(let p=0;p<s.length&&p in s;++p){let[n,r]=s[p];r=f(r),n&&(r=unescape(r),0===p&&(r=a(r))),g.push(r)}return g.join("")}(le),J)return P(m(J));if(J=D("filename","i").exec(le),J){J=J[1];let i=f(J);return i=m(i),P(i)}function D(i,s){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',s)}function d(i,s){if(i){if(!/^[\x00-\xFF]+$/.test(s))return s;try{const u=new TextDecoder(i,{fatal:!0}),T=(0,_.stringToBytes)(s);s=u.decode(T),e=!1}catch{}}return s}function P(i){return e&&/[\x80-\xff]/.test(i)&&(i=d("utf-8",i),e&&(i=d("iso-8859-1",i))),i}function f(i){if(i.startsWith('"')){const s=i.slice(1).split('\\"');for(let u=0;u<s.length;++u){const T=s[u].indexOf('"');-1!==T&&(s[u]=s[u].slice(0,T),s.length=u+1),s[u]=s[u].replace(/\\(.)/g,"$1")}i=s.join('"')}return i}function a(i){const s=i.indexOf("'");return-1===s?i:d(i.slice(0,s),i.slice(s+1).replace(/^[^']*'/,""))}function m(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(s,u,T,g){if("q"===T||"Q"===T)return d(u,g=(g=g.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(p,n){return String.fromCharCode(parseInt(n,16))}));try{g=atob(g)}catch{}return d(u,g)})}return""};var _=ie(1)},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNetworkStream=void 0;var _=ie(1),pe=ie(26);class D{constructor(a,m={}){this.url=a,this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(a,m,i){const s={begin:a,end:m};for(const u in i)s[u]=i[u];return this.request(s)}requestFull(a){return this.request(a)}request(a){const m=this.getXhr(),i=this.currXhrId++,s=this.pendingRequests[i]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const u in this.httpHeaders){const T=this.httpHeaders[u];typeof T>"u"||m.setRequestHeader(u,T)}return this.isHttp&&"begin"in a&&"end"in a?(m.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),s.expectedStatus=206):s.expectedStatus=200,m.responseType="arraybuffer",a.onError&&(m.onerror=function(u){a.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,i),m.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=a.onHeadersReceived,s.onDone=a.onDone,s.onError=a.onError,s.onProgress=a.onProgress,m.send(null),i}onProgress(a,m){const i=this.pendingRequests[a];!i||i.onProgress?.(m)}onStateChange(a,m){const i=this.pendingRequests[a];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==s.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===s.status&&this.isHttp)return void i.onError?.(s.status);const u=s.status||200;if((200!==u||206!==i.expectedStatus)&&u!==i.expectedStatus)return void i.onError?.(s.status);const g=function J(f){const a=f.response;return"string"!=typeof a?a:(0,_.stringToBytes)(a).buffer}(s);if(206===u){const p=s.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);i.onDone({begin:parseInt(n[1],10),chunk:g})}else g?i.onDone({begin:0,chunk:g}):i.onError?.(s.status)}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortRequest(a){const m=this.pendingRequests[a].xhr;delete this.pendingRequests[a],m.abort()}}k.PDFNetworkStream=class d{constructor(a){this._source=a,this._manager=new D(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){const m=this._rangeRequestReaders.indexOf(a);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(a,m){const i=new b(this._manager,a,m);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const m of this._rangeRequestReaders.slice(0))m.cancel(a)}};class P{constructor(a,m){this._manager=a;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=a.requestFull(i),this._headersReceivedCapability=(0,_.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const a=this._fullRequestId,m=this._manager.getRequestXhr(a),i=T=>m.getResponseHeader(T),{allowRangeRequests:s,suggestedLength:u}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}_onDone(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(a){this._storedError=(0,pe.createResponseStatusError)(a,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(a){this.onProgress?.({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(a._cachedChunks.length>0)return{value:a._cachedChunks.shift(),done:!1};if(a._done)return{value:void 0,done:!0};const m=(0,_.createPromiseCapability)();return a._requests.push(m),m.promise})()}cancel(a){this._done=!0,this._headersReceivedCapability.reject(a);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(a,m,i){this._manager=a;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._requestId=a.requestRange(m,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(a){const m=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(a){this._storedError=(0,pe.createResponseStatusError)(a,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(a){this.isStreamingSupported||this.onProgress?.({loaded:a.loaded})}get isStreamingSupported(){return!1}read(){var a=this;return _asyncToGenerator(function*(){if(a._storedError)throw a._storedError;if(null!==a._queuedChunk){const i=a._queuedChunk;return a._queuedChunk=null,{value:i,done:!1}}if(a._done)return{value:void 0,done:!0};const m=(0,_.createPromiseCapability)();return a._requests.push(m),m.promise})()}cancel(a){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(me,k,ie)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFFetchStream=void 0;var _=ie(1),pe=ie(26);function le(P,b,f){return{method:"GET",headers:P,signal:f?.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function e(P){const b=new Headers;for(const f in P){const a=P[f];typeof a>"u"||b.append(f,a)}return b}k.PDFFetchStream=class J{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D(this),this._fullRequestReader}getRangeReader(b,f){if(f<=this._progressiveDataLength)return null;const a=new d(this,b,f);return this._rangeRequestReaders.push(a),a}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const f of this._rangeRequestReaders.slice(0))f.cancel(b)}};class D{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const f=b.source;this._withCredentials=f.withCredentials||!1,this._contentLength=f.length,this._headersCapability=(0,_.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._headers=e(this._stream.httpHeaders);const a=f.url;fetch(a,le(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,pe.validateResponseStatus)(m.status))throw(0,pe.createResponseStatusError)(m.status,a);this._reader=m.body.getReader(),this._headersCapability.resolve();const i=T=>m.headers.get(T),{allowRangeRequests:s,suggestedLength:u}=(0,pe.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=u||this._contentLength,this._filename=(0,pe.extractFilenameFromHeader)(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){yield b._headersCapability.promise;const{value:f,done:a}=yield b._reader.read();return a?{value:f,done:a}:(b._loaded+=f.byteLength,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(f).buffer,done:!1})})()}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}class d{constructor(b,f,a){this._stream=b,this._reader=null,this._loaded=0;const m=b.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${f}-${a-1}`);const i=m.url;fetch(i,le(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,pe.validateResponseStatus)(s.status))throw(0,pe.createResponseStatusError)(s.status,i);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){yield b._readCapability.promise;const{value:f,done:a}=yield b._reader.read();return a?{value:f,done:a}:(b._loaded+=f.byteLength,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(f).buffer,done:!1})})()}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(me){var k=__webpack_module_cache__[me];if(void 0!==k)return k.exports;var ie=__webpack_module_cache__[me]={exports:{}};return __webpack_modules__[me](ie,ie.exports,__w_pdfjs_require__),ie.exports}var __webpack_exports__={};return(()=>{var me=__webpack_exports__;Object.defineProperty(me,"__esModule",{value:!0}),Object.defineProperty(me,"AnnotationLayer",{enumerable:!0,get:function(){return pe.AnnotationLayer}}),Object.defineProperty(me,"AnnotationMode",{enumerable:!0,get:function(){return k.AnnotationMode}}),Object.defineProperty(me,"CMapCompressionType",{enumerable:!0,get:function(){return k.CMapCompressionType}}),Object.defineProperty(me,"GlobalWorkerOptions",{enumerable:!0,get:function(){return le.GlobalWorkerOptions}}),Object.defineProperty(me,"InvalidPDFException",{enumerable:!0,get:function(){return k.InvalidPDFException}}),Object.defineProperty(me,"LoopbackPort",{enumerable:!0,get:function(){return ie.LoopbackPort}}),Object.defineProperty(me,"MissingPDFException",{enumerable:!0,get:function(){return k.MissingPDFException}}),Object.defineProperty(me,"OPS",{enumerable:!0,get:function(){return k.OPS}}),Object.defineProperty(me,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ie.PDFDataRangeTransport}}),Object.defineProperty(me,"PDFDateString",{enumerable:!0,get:function(){return _.PDFDateString}}),Object.defineProperty(me,"PDFWorker",{enumerable:!0,get:function(){return ie.PDFWorker}}),Object.defineProperty(me,"PasswordResponses",{enumerable:!0,get:function(){return k.PasswordResponses}}),Object.defineProperty(me,"PermissionFlag",{enumerable:!0,get:function(){return k.PermissionFlag}}),Object.defineProperty(me,"PixelsPerInch",{enumerable:!0,get:function(){return _.PixelsPerInch}}),Object.defineProperty(me,"RenderingCancelledException",{enumerable:!0,get:function(){return _.RenderingCancelledException}}),Object.defineProperty(me,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(me,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return k.UNSUPPORTED_FEATURES}}),Object.defineProperty(me,"UnexpectedResponseException",{enumerable:!0,get:function(){return k.UnexpectedResponseException}}),Object.defineProperty(me,"Util",{enumerable:!0,get:function(){return k.Util}}),Object.defineProperty(me,"VerbosityLevel",{enumerable:!0,get:function(){return k.VerbosityLevel}}),Object.defineProperty(me,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(me,"build",{enumerable:!0,get:function(){return ie.build}}),Object.defineProperty(me,"createPromiseCapability",{enumerable:!0,get:function(){return k.createPromiseCapability}}),Object.defineProperty(me,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return k.createValidAbsoluteUrl}}),Object.defineProperty(me,"getDocument",{enumerable:!0,get:function(){return ie.getDocument}}),Object.defineProperty(me,"getFilenameFromUrl",{enumerable:!0,get:function(){return _.getFilenameFromUrl}}),Object.defineProperty(me,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _.getPdfFilenameFromUrl}}),Object.defineProperty(me,"getXfaPageViewport",{enumerable:!0,get:function(){return _.getXfaPageViewport}}),Object.defineProperty(me,"isPdfFile",{enumerable:!0,get:function(){return _.isPdfFile}}),Object.defineProperty(me,"loadScript",{enumerable:!0,get:function(){return _.loadScript}}),Object.defineProperty(me,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(me,"shadow",{enumerable:!0,get:function(){return k.shadow}}),Object.defineProperty(me,"version",{enumerable:!0,get:function(){return ie.version}});var k=__w_pdfjs_require__(1),ie=__w_pdfjs_require__(4),_=__w_pdfjs_require__(5),pe=__w_pdfjs_require__(20),le=__w_pdfjs_require__(13),e=__w_pdfjs_require__(3),J=__w_pdfjs_require__(23),D=__w_pdfjs_require__(24),d=__w_pdfjs_require__(22);if(e.isNodeJS){const{PDFNodeStream:f}=__w_pdfjs_require__(25);(0,ie.setPDFNetworkStreamFactory)(a=>new f(a))}else{const{PDFNetworkStream:f}=__w_pdfjs_require__(28),{PDFFetchStream:a}=__w_pdfjs_require__(29);(0,ie.setPDFNetworkStreamFactory)(m=>(0,_.isValidFetchUrl)(m.url)?new a(m):new f(m))}})(),__webpack_exports__})(),module.exports=ie()},2813:function(me,k,ie){var e,_=ie(7156).default;e=()=>(()=>{"use strict";var pe=[,(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DefaultXfaLayerFactory=d.DefaultTextLayerFactory=d.DefaultStructTreeLayerFactory=d.DefaultAnnotationLayerFactory=void 0;var b=P(2),f=P(4),a=P(5),m=P(7),i=P(8),s=P(9);d.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(r,v,A=null,y="",L=!0,R=f.NullL10n,F=!1,U=null,q=null,X=null,ne=null){return new b.AnnotationLayerBuilder({pageDiv:r,pdfPage:v,imageResourcesPath:y,renderForms:L,linkService:new a.SimpleLinkService,l10n:R,annotationStorage:A,enableScripting:F,hasJSActionsPromise:U,fieldObjectsPromise:X,mouseState:q,annotationCanvasMap:ne})}},d.DefaultStructTreeLayerFactory=class T{createStructTreeLayerBuilder(r){return new m.StructTreeLayerBuilder({pdfPage:r})}},d.DefaultTextLayerFactory=class g{createTextLayerBuilder(r,v,A,y=!1,L,R){return new i.TextLayerBuilder({textLayerDiv:r,pageIndex:v,viewport:A,enhanceTextSelection:y,eventBus:L,highlighter:R})}},d.DefaultXfaLayerFactory=class p{createXfaLayerBuilder(r,v,A=null,y=null){return new s.XfaLayerBuilder({pageDiv:r,pdfPage:v,annotationStorage:A,linkService:new a.SimpleLinkService,xfaHtml:y})}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayerBuilder=void 0;var b=P(3),f=P(4);d.AnnotationLayerBuilder=class a{constructor({pageDiv:i,pdfPage:s,linkService:u,downloadManager:T,annotationStorage:g=null,imageResourcesPath:p="",renderForms:n=!0,l10n:r=f.NullL10n,enableScripting:v=!1,hasJSActionsPromise:A=null,fieldObjectsPromise:y=null,mouseState:L=null,annotationCanvasMap:R=null}){this.pageDiv=i,this.pdfPage=s,this.linkService=u,this.downloadManager=T,this.imageResourcesPath=p,this.renderForms=n,this.l10n=r,this.annotationStorage=g,this.enableScripting=v,this._hasJSActionsPromise=A,this._fieldObjectsPromise=y,this._mouseState=L,this._annotationCanvasMap=R,this.div=null,this._cancelled=!1}render(i,s="display"){var u=this;return _(function*(){const[T,g=!1,p=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:s}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===T.length)return;const n={viewport:i.clone({dontFlip:!0}),div:u.div,annotations:T,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:g,fieldObjects:p,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?b.AnnotationLayer.update(n):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),n.div=u.div,b.AnnotationLayer.render(n),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},D=>{let d;d=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ie(6036),D.exports=d},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.fixupLangCode=function a(s){return f[s?.toLowerCase()]||s},d.getL10nFallback=b;const P={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function b(s,u){switch(s){case"find_match_count":s=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":s=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return P[s]||""}const f={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};d.NullL10n={getLanguage:()=>_(function*(){return"en-us"})(),getDirection:()=>_(function*(){return"ltr"})(),get:(s,u=null,T=b(s,u))=>_(function*(){return function m(s,u){return u?s.replace(/\{\{\s*(\w+)\s*\}\}/g,(T,g)=>g in u?u[g]:"{{"+g+"}}"):s}(T,u)})(),translate:s=>_(function*(){})()}},(D,d,P)=>{var u,T,et,p,dt;Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleLinkService=d.PDFLinkService=d.LinkTarget=void 0;var b=P(6);const a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function m(v,{url:A,target:y,rel:L,enabled:R=!0}={}){if(!A||"string"!=typeof A)throw new Error('A valid "url" parameter must provided.');const F=(0,b.removeNullCharacters)(A);R?v.href=v.title=F:(v.href="",v.title=`Disabled: ${F}`,v.onclick=()=>!1);let U="";switch(y){case a.NONE:break;case a.SELF:U="_self";break;case a.BLANK:U="_blank";break;case a.PARENT:U="_parent";break;case a.TOP:U="_top"}v.target=U,v.rel="string"==typeof L?L:"noopener noreferrer nofollow"}d.LinkTarget=a;const r=class{constructor({eventBus:A,externalLinkTarget:y=null,externalLinkRel:L=null,ignoreDestinationZoom:R=!1}={}){we(this,T),we(this,u,new Map),this.eventBus=A,this.externalLinkTarget=y,this.externalLinkRel=L,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=R,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(A,y=null){this.baseUrl=y,this.pdfDocument=A,Se(this,u).clear()}setViewer(A){this.pdfViewer=A}setHistory(A){this.pdfHistory=A}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(A){this.pdfViewer.currentPageNumber=A}get rotation(){return this.pdfViewer.pagesRotation}set rotation(A){this.pdfViewer.pagesRotation=A}goToDestination(A){var y=this;return _(function*(){var F;if(!y.pdfDocument)return;let L,R;"string"==typeof A?(L=A,R=yield y.pdfDocument.getDestination(A)):(L=null,R=yield A),Array.isArray(R)?Pe(F=y,T,et).call(F,A,L,R):console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${A}".`)})()}goToPage(A){if(!this.pdfDocument)return;const y="string"==typeof A&&this.pdfViewer.pageLabelToPageNumber(A)||0|A;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${A}" is not a valid page.`)}addLinkAttributes(A,y,L=!1){m(A,{url:y,target:L?a.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(A){if("string"==typeof A){if(A.length>0)return this.getAnchorUrl("#"+escape(A))}else if(Array.isArray(A)){const y=JSON.stringify(A);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(A){return(this.baseUrl||"")+A}setHash(A){var R;if(!this.pdfDocument)return;let y,L;if(A.includes("=")){const F=(0,b.parseQueryString)(A);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(y=0|F.get("page")||1),F.has("zoom")){const U=F.get("zoom").split(","),q=U[0],X=parseFloat(q);q.includes("Fit")?"Fit"===q||"FitB"===q?L=[null,{name:q}]:"FitH"===q||"FitBH"===q||"FitV"===q||"FitBV"===q?L=[null,{name:q},U.length>1?0|U[1]:null]:"FitR"===q?5!==U.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):L=[null,{name:q},0|U[1],0|U[2],0|U[3],0|U[4]]:console.error(`PDFLinkService.setHash: "${q}" is not a valid zoom value.`):L=[null,{name:"XYZ"},U.length>1?0|U[1]:null,U.length>2?0|U[2]:null,X?X/100:q]}L?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:L,allowNegativeOffset:!0}):y&&(this.page=y),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{L=unescape(A);try{L=JSON.parse(L),Array.isArray(L)||(L=L.toString())}catch{}if("string"==typeof L||Pe(R=r,p,dt).call(R,L))return void this.goToDestination(L);console.error(`PDFLinkService.setHash: "${unescape(A)}" is not a valid destination.`)}}executeNamedAction(A){switch(A){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:A})}cachePageRef(A,y){if(!y)return;const L=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;Se(this,u).set(L,A)}_cachedPageNumber(A){if(!A)return null;const y=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;return Se(this,u).get(y)||null}isPageVisible(A){return this.pdfViewer.isPageVisible(A)}isPageCached(A){return this.pdfViewer.isPageCached(A)}};let i=r;u=new WeakMap,T=new WeakSet,et=function(A,y=null,L){const R=L[0];let F;if("object"==typeof R&&null!==R){if(F=this._cachedPageNumber(R),!F)return void this.pdfDocument.getPageIndex(R).then(U=>{this.cachePageRef(U+1,R),Pe(this,T,et).call(this,A,y,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${A}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${A}".`);F=R+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${A}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:L,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))},p=new WeakSet,dt=function(A){if(!Array.isArray(A))return!1;const y=A.length;if(y<2)return!1;const L=A[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const R=A[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let F=!0;switch(R.name){case"XYZ":if(5!==y)return!1;break;case"Fit":case"FitB":return 2===y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==y)return!1;break;case"FitR":if(6!==y)return!1;F=!1;break;default:return!1}for(let U=2;U<y;U++){const q=A[U];if(!("number"==typeof q||F&&null===q))return!1}return!0},we(i,p),d.PDFLinkService=i,d.SimpleLinkService=class s{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(A){}get rotation(){return 0}set rotation(A){}goToDestination(A){return _(function*(){})()}goToPage(A){}addLinkAttributes(A,y,L=!1){m(A,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(A){return"#"}getAnchorUrl(A){return"#"}setHash(A){}executeNamedAction(A){}cachePageRef(A,y){}isPageVisible(A){return!0}isPageCached(A){return!0}}},(D,d)=>{var ge,ut;Object.defineProperty(d,"__esModule",{value:!0}),d.animationStarted=d.VERTICAL_PADDING=d.UNKNOWN_SCALE=d.TextLayerMode=d.SpreadMode=d.SidebarView=d.ScrollMode=d.SCROLLBAR_PADDING=d.RenderingStates=d.RendererType=d.ProgressBar=d.PresentationModeState=d.OutputScale=d.MIN_SCALE=d.MAX_SCALE=d.MAX_AUTO_SCALE=d.DEFAULT_SCALE_VALUE=d.DEFAULT_SCALE_DELTA=d.DEFAULT_SCALE=d.AutoPrintRegExp=void 0,d.apiPageLayoutToViewerModes=function Q(ee){let de=A.VERTICAL,ce=y.NONE;switch(ee){case"SinglePage":de=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":de=A.PAGE;case"TwoColumnLeft":ce=y.ODD;break;case"TwoPageRight":de=A.PAGE;case"TwoColumnRight":ce=y.EVEN}return{scrollMode:de,spreadMode:ce}},d.apiPageModeToSidebarView=function re(ee){switch(ee){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},d.approximateFraction=function K(ee){if(Math.floor(ee)===ee)return[ee,1];const de=1/ee;if(de>8)return[1,8];if(Math.floor(de)===de)return[1,de];const C=ee>1?de:ee;let _e,N=0,z=1,Ae=1,be=1;for(;;){const ye=N+Ae,ve=z+be;if(ve>8)break;C<=ye/ve?(Ae=ye,be=ve):(N=ye,z=ve)}return _e=C-N/z<Ae/be-C?C===ee?[N,z]:[z,N]:C===ee?[Ae,be]:[be,Ae],_e},d.backtrackBeforeAllVisibleElements=M,d.binarySearchFirstItem=Z,d.getActiveOrFocusedElement=function G(){let ee=document,de=ee.activeElement||ee.querySelector(":focus");for(;de?.shadowRoot;)ee=de.shadowRoot,de=ee.activeElement||ee.querySelector(":focus");return de},d.getPageSizeInches=function ue({view:ee,userUnit:de,rotate:ce}){const[C,N,z,Ae]=ee,be=ce%180!=0,_e=(z-C)/72*de,ye=(Ae-N)/72*de;return{width:be?ye:_e,height:be?_e:ye}},d.getVisibleElements=function o({scrollEl:ee,views:de,sortByVisibility:ce=!1,horizontal:C=!1,rtl:N=!1}){const z=ee.scrollTop,Ae=z+ee.clientHeight,be=ee.scrollLeft,_e=be+ee.clientWidth,Te=[],Ee=new Set,Fe=de.length;let se=Z(de,C?function ve(B){const te=B.div,x=te.offsetLeft+te.clientLeft;return N?x<_e:x+te.clientWidth>be}:function ye(B){const te=B.div;return te.offsetTop+te.clientTop+te.clientHeight>z});se>0&&se<Fe&&!C&&(se=M(se,de,z));let O=C?_e:-1;for(let B=se;B<Fe;B++){const te=de[B],x=te.div,oe=x.offsetLeft+x.clientLeft,Y=x.offsetTop+x.clientTop,fe=x.clientWidth,xe=x.clientHeight,Re=oe+fe,Le=Y+xe;if(-1===O)Le>=Ae&&(O=Le);else if((C?oe:Y)>O)break;if(Le<=z||Y>=Ae||Re<=be||oe>=_e)continue;const Oe=Math.max(0,z-Y)+Math.max(0,Le-Ae),Me=(fe-(Math.max(0,be-oe)+Math.max(0,Re-_e)))/fe;Te.push({id:te.id,x:oe,y:Y,view:te,percent:(xe-Oe)/xe*Me*100|0,widthPercent:100*Me|0}),Ee.add(te.id)}const I=Te[0],he=Te[Te.length-1];return ce&&Te.sort(function(B,te){const x=B.percent-te.percent;return Math.abs(x)>.001?-x:B.id-te.id}),{first:I,last:he,views:Te,ids:Ee}},d.isPortraitOrientation=function E(ee){return ee.width<=ee.height},d.isValidRotation=function h(ee){return Number.isInteger(ee)&&ee%90==0},d.isValidScrollMode=function w(ee){return Number.isInteger(ee)&&Object.values(A).includes(ee)&&ee!==A.UNKNOWN},d.isValidSpreadMode=function S(ee){return Number.isInteger(ee)&&Object.values(y).includes(ee)&&ee!==y.UNKNOWN},d.noContextMenuHandler=function c(ee){ee.preventDefault()},d.normalizeWheelEventDelta=function l(ee){let de=t(ee);return 0===ee.deltaMode?de/=900:1===ee.deltaMode&&(de/=30),de},d.normalizeWheelEventDirection=t,d.parseQueryString=function q(ee){const de=new Map;for(const[ce,C]of new URLSearchParams(ee))de.set(ce.toLowerCase(),C);return de},d.removeNullCharacters=function V(ee,de=!1){return"string"!=typeof ee?(console.error("The argument must be a string."),ee):(de&&(ee=ee.replace(ne," ")),ee.replace(X,""))},d.roundToDivide=function ae(ee,de){const ce=ee%de;return 0===ce?ee:Math.round(ee-ce+de)},d.scrollIntoView=function F(ee,de,ce=!1){let C=ee.offsetParent;if(!C)return void console.error("offsetParent is not set -- cannot scroll");let N=ee.offsetTop+ee.clientTop,z=ee.offsetLeft+ee.clientLeft;for(;C.clientHeight===C.scrollHeight&&C.clientWidth===C.scrollWidth||ce&&(C.classList.contains("markedContent")||"hidden"===getComputedStyle(C).overflow);)if(N+=C.offsetTop,z+=C.offsetLeft,C=C.offsetParent,!C)return;de&&(void 0!==de.top&&(N+=de.top),void 0!==de.left&&(z+=de.left,C.scrollLeft=z)),C.scrollTop=N},d.watchScroll=function U(ee,de){const ce=function(z){N||(N=window.requestAnimationFrame(function(){N=null;const be=ee.scrollLeft,_e=C.lastX;be!==_e&&(C.right=be>_e),C.lastX=be;const ye=ee.scrollTop,ve=C.lastY;ye!==ve&&(C.down=ye>ve),C.lastY=ye,de(C)}))},C={right:!0,down:!0,lastX:ee.scrollLeft,lastY:ee.scrollTop,_eventHandler:ce};let N=null;return ee.addEventListener("scroll",ce,!0),C},d.DEFAULT_SCALE_VALUE="auto",d.DEFAULT_SCALE=1,d.DEFAULT_SCALE_DELTA=1.1,d.MIN_SCALE=.1,d.MAX_SCALE=10,d.UNKNOWN_SCALE=0,d.MAX_AUTO_SCALE=1.25,d.SCROLLBAR_PADDING=40,d.VERTICAL_PADDING=5,d.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},d.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};d.SidebarView=n,d.RendererType={CANVAS:"canvas",SVG:"svg"},d.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};d.ScrollMode=A;const y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};d.SpreadMode=y,d.AutoPrintRegExp=/\bprint\s*\(/,d.OutputScale=class R{constructor(){const de=window.devicePixelRatio||1;this.sx=de,this.sy=de}get scaled(){return 1!==this.sx||1!==this.sy}};const X=/\x00/g,ne=/[\x01-\x1F]/g;function Z(ee,de,ce=0){let C=ce,N=ee.length-1;if(N<0||!de(ee[N]))return ee.length;if(de(ee[C]))return C;for(;C<N;){const z=C+N>>1;de(ee[z])?N=z:C=z+1}return C}function M(ee,de,ce){if(ee<2)return ee;let C=de[ee].div,N=C.offsetTop+C.clientTop;N>=ce&&(C=de[ee-1].div,N=C.offsetTop+C.clientTop);for(let z=ee-2;z>=0&&(C=de[z].div,!(C.offsetTop+C.clientTop+C.clientHeight<=N));--z)ee=z;return ee}function t(ee){let de=Math.hypot(ee.deltaX,ee.deltaY);const ce=Math.atan2(ee.deltaY,ee.deltaX);return-.25*Math.PI<ce&&ce<.75*Math.PI&&(de=-de),de}const j=new Promise(function(ee){window.requestAnimationFrame(ee)});d.animationStarted=j,ge=new WeakSet,ut=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},d.ProgressBar=class W{constructor(de){if(we(this,ge),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(de+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(de){this._indeterminate=isNaN(de),this._percent=function H(ee,de,ce){return Math.min(Math.max(ee,de),ce)}(de,0,100),Pe(this,ge,ut).call(this)}setWidth(de){if(!de)return;const C=de.parentNode.offsetWidth-de.offsetWidth;C>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${C}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StructTreeLayerBuilder=void 0;const P={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},b=/^H(\d+)$/;d.StructTreeLayerBuilder=class f{constructor({pdfPage:m}){this.pdfPage=m}render(m){return this._walk(m)}_setAttributes(m,i){void 0!==m.alt&&i.setAttribute("aria-label",m.alt),void 0!==m.id&&i.setAttribute("aria-owns",m.id),void 0!==m.lang&&i.setAttribute("lang",m.lang)}_walk(m){if(!m)return null;const i=document.createElement("span");if("role"in m){const{role:s}=m,u=s.match(b);u?(i.setAttribute("role","heading"),i.setAttribute("aria-level",u[1])):P[s]&&i.setAttribute("role",P[s])}if(this._setAttributes(m,i),m.children)if(1===m.children.length&&"id"in m.children[0])this._setAttributes(m.children[0],i);else for(const s of m.children)i.appendChild(this._walk(s));return i}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerBuilder=void 0;var b=P(3);d.TextLayerBuilder=class a{constructor({textLayerDiv:i,eventBus:s,pageIndex:u,viewport:T,highlighter:g=null,enhanceTextSelection:p=!1}){this.textLayerDiv=i,this.eventBus=s,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=T,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=g,this.enhanceTextSelection=p,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const s=document.createDocumentFragment();this.textLayerRenderTask=(0,b.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:s,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(s),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let s=null;i.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));const T=i.querySelector(".endOfContent");if(!T)return;let g=u.target!==i;if(g=g&&"none"!==window.getComputedStyle(T).getPropertyValue("-moz-user-select"),g){const p=i.getBoundingClientRect(),n=Math.max(0,(u.pageY-p.top)/p.height);T.style.top=(100*n).toFixed(2)+"%"}T.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(s=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),s=null},300));const u=i.querySelector(".endOfContent");!u||(u.style.top="",u.classList.remove("active"))})}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayerBuilder=void 0;var b=P(3);d.XfaLayerBuilder=class f{constructor({pageDiv:m,pdfPage:i,annotationStorage:s=null,linkService:u,xfaHtml:T=null}){this.pageDiv=m,this.pdfPage=i,this.annotationStorage=s,this.linkService=u,this.xfaHtml=T,this.div=null,this._cancelled=!1}render(m,i="display"){if("print"===i){const s={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},u=document.createElement("div");this.pageDiv.appendChild(u),s.div=u;const T=b.XfaLayer.render(s);return Promise.resolve(T)}return this.pdfPage.getXfa().then(s=>{if(this._cancelled||!s)return{textDivs:[]};const u={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:s,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?b.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,b.XfaLayer.render(u))}).catch(s=>{console.error(s)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFViewer=d.PDFSinglePageViewer=void 0;var b=P(6),f=P(11);d.PDFViewer=class a extends f.BaseViewer{},d.PDFSinglePageViewer=class m extends f.BaseViewer{_resetView(){super._resetView(),this._scrollMode=b.ScrollMode.PAGE,this._spreadMode=b.SpreadMode.NONE}set scrollMode(s){}_updateScrollMode(){}set spreadMode(s){}_updateSpreadMode(){}}},(D,d,P)=>{var R,F,U,tt,X,ne,V,Z,K,ae,ue,M,ht,c,ft,l,He,w,Ze,E,pt,H,nt,G,gt,re,_t,Ce,mt;Object.defineProperty(d,"__esModule",{value:!0}),d.PagesCountLimit=d.PDFPageViewBuffer=d.BaseViewer=void 0;var b=P(3),f=P(6),a=P(2),m=P(4),i=P(12),s=P(14),u=P(5),T=P(7),g=P(15),p=P(8),n=P(9);const v="enablePermissions",A={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};d.PagesCountLimit=A;class y{constructor(C){we(this,U),we(this,R,new Set),we(this,F,0),Ie(this,F,C)}push(C){const N=Se(this,R);N.has(C)&&N.delete(C),N.add(C),N.size>Se(this,F)&&Pe(this,U,tt).call(this)}resize(C,N=null){Ie(this,F,C);const z=Se(this,R);if(N){const Ae=z.size;let be=1;for(const _e of z)if(N.has(_e.id)&&(z.delete(_e),z.add(_e)),++be>Ae)break}for(;z.size>Se(this,F);)Pe(this,U,tt).call(this)}has(C){return Se(this,R).has(C)}[Symbol.iterator](){return Se(this,R).keys()}}R=new WeakMap,F=new WeakMap,U=new WeakSet,tt=function(){const C=Se(this,R).keys().next().value;C?.destroy(),Se(this,R).delete(C)},d.PDFPageViewBuffer=y;const de=class{constructor(C){if(we(this,M),we(this,c),we(this,l),we(this,w),we(this,E),we(this,H),we(this,G),we(this,re),we(this,Ce),we(this,X,null),we(this,ne,b.AnnotationMode.ENABLE_FORMS),we(this,V,null),we(this,Z,!1),we(this,K,0),we(this,ae,null),we(this,ue,null),this.constructor===de)throw new Error("Cannot initialize BaseViewer.");const N="2.14.305";if(b.version!==N)throw new Error(`The API version "${b.version}" does not match the Viewer version "${N}".`);if(this.container=C.container,this.viewer=C.viewer||C.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=C.eventBus,this.linkService=C.linkService||new u.SimpleLinkService,this.downloadManager=C.downloadManager||null,this.findController=C.findController||null,this._scriptingManager=C.scriptingManager||null,this.removePageBorders=C.removePageBorders||!1,this.textLayerMode=C.textLayerMode??f.TextLayerMode.ENABLE,Ie(this,ne,C.annotationMode??b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=C.imageResourcesPath||"",this.enablePrintAutoRotate=C.enablePrintAutoRotate||!1,this.renderer=C.renderer||f.RendererType.CANVAS,this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels,this.l10n=C.l10n||m.NullL10n,Ie(this,Z,C.enablePermissions||!1),this.pageColors=C.pageColors||null,C.pageColors&&(!CSS.supports("color",C.pageColors.background)||!CSS.supports("color",C.pageColors.foreground))&&((C.pageColors.background||C.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!C.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=C.renderingQueue,this._doc=document.documentElement,this.scroll=(0,f.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=f.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(C){return this._pages[C]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(C){return C?.pdfPage})}get renderForms(){return Se(this,ne)===b.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(C){if(!Number.isInteger(C))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(C,!0)||console.error(`currentPageNumber: "${C}" is not a valid page.`)}_setCurrentPageNumber(C,N=!1){if(this._currentPageNumber===C)return N&&Pe(this,H,nt).call(this),!0;if(!(0<C&&C<=this.pagesCount))return!1;const z=this._currentPageNumber;return this._currentPageNumber=C,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:C,pageLabel:this._pageLabels?.[C-1]??null,previous:z}),N&&Pe(this,H,nt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(C){if(!this.pdfDocument)return;let N=0|C;if(this._pageLabels){const z=this._pageLabels.indexOf(C);z>=0&&(N=z+1)}this._setCurrentPageNumber(N,!0)||console.error(`currentPageLabel: "${C}" is not a valid page.`)}get currentScale(){return this._currentScale!==f.UNKNOWN_SCALE?this._currentScale:f.DEFAULT_SCALE}set currentScale(C){if(isNaN(C))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(C,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(C){!this.pdfDocument||this._setScale(C,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(C){if(!(0,f.isValidRotation)(C))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((C%=360)<0&&(C+=360),this._pagesRotation===C))return;this._pagesRotation=C;const N=this._currentPageNumber,z={rotation:C};for(const Ae of this._pages)Ae.update(z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:C,pageNumber:N}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(C){var N=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=C,!C)return;const z=C.isPureXfa,Ae=C.numPages,be=C.getPage(1),_e=C.getOptionalContentConfig(),ye=Se(this,Z)?C.getPermissions():Promise.resolve();if(Ae>A.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ve=this._scrollMode=f.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ve})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ae})},()=>{}),this._onBeforeDraw=ve=>{const Te=this._pages[ve.pageNumber-1];!Te||Se(this,X).push(Te)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ve=>{ve.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ve.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Se(this,ue)&&(document.removeEventListener("visibilitychange",Se(this,ue)),Ie(this,ue,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([be,ye]).then(([ve,Te])=>{if(C!==this.pdfDocument)return;this._firstPageCapability.resolve(ve),this._optionalContentConfigPromise=_e,Pe(this,M,ht).call(this,Te);const Ee=this._scrollMode===f.ScrollMode.PAGE?null:this.viewer,Fe=this.currentScale,se=ve.getViewport({scale:Fe*b.PixelsPerInch.PDF_TO_CSS_UNITS}),O=this.textLayerMode===f.TextLayerMode.DISABLE||z?null:this,I=Se(this,ne)!==b.AnnotationMode.DISABLE?this:null,he=z?this:null;for(let te=1;te<=Ae;++te){const x=new i.PDFPageView({container:Ee,eventBus:this.eventBus,id:te,scale:Fe,defaultViewport:se.clone(),optionalContentConfigPromise:_e,renderingQueue:this.renderingQueue,textLayerFactory:O,textLayerMode:this.textLayerMode,annotationLayerFactory:I,annotationMode:Se(this,ne),xfaLayerFactory:he,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(x)}const B=this._pages[0];B&&(B.setPdfPage(ve),this.linkService.cachePageRef(1,ve.ref)),this._scrollMode===f.ScrollMode.PAGE?Pe(this,l,He).call(this):this._spreadMode!==f.SpreadMode.NONE&&this._updateSpreadMode(),Pe(this,c,ft).call(this).then(_(function*(){if(N.findController&&N.findController.setDocument(C),N._scriptingManager&&N._scriptingManager.setDocument(C),C.loadingParams.disableAutoFetch||Ae>A.FORCE_LAZY_PAGE_INIT)return void N._pagesCapability.resolve();let te=Ae-1;if(te<=0)N._pagesCapability.resolve();else for(let x=2;x<=Ae;++x){const oe=C.getPage(x).then(Y=>{const fe=N._pages[x-1];fe.pdfPage||fe.setPdfPage(Y),N.linkService.cachePageRef(x,Y.ref),0==--te&&N._pagesCapability.resolve()},Y=>{console.error(`Unable to get page ${x} to initialize viewer`,Y),0==--te&&N._pagesCapability.resolve()});x%A.PAUSE_EAGER_PAGE_INIT==0&&(yield oe)}})),this.eventBus.dispatch("pagesinit",{source:this}),C.getMetadata().then(({info:te})=>{C===this.pdfDocument&&te.Language&&(this.viewer.lang=te.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ve=>{console.error("Unable to initialize viewer",ve),this._pagesCapability.reject(ve)})}setPageLabels(C){if(this.pdfDocument){C?Array.isArray(C)&&this.pdfDocument.numPages===C.length?this._pageLabels=C:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let N=0,z=this._pages.length;N<z;N++)this._pages[N].setPageLabel(this._pageLabels?.[N]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=f.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ie(this,X,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,b.createPromiseCapability)(),this._onePageRenderedCapability=(0,b.createPromiseCapability)(),this._pagesCapability=(0,b.createPromiseCapability)(),this._scrollMode=f.ScrollMode.VERTICAL,this._previousScrollMode=f.ScrollMode.UNKNOWN,this._spreadMode=f.SpreadMode.NONE,Ie(this,ae,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Se(this,ue)&&(document.removeEventListener("visibilitychange",Se(this,ue)),Ie(this,ue,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(v),null!==Se(this,V)&&(Ie(this,ne,Se(this,V)),Ie(this,V,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(C,N,z=!1,Ae=!1){if(this._currentScaleValue=N.toString(),Pe(this,E,pt).call(this,C))return void(Ae&&this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:N}));this._doc.style.setProperty("--zoom-factor",C);const be={scale:C};for(const _e of this._pages)_e.update(be);if(this._currentScale=C,!z){let ye,_e=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(_e=this._location.pageNumber,ye=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:_e,destArray:ye,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:Ae?N:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL?2:1}_setScale(C,N=!1){let z=parseFloat(C);if(z>0)this._setScaleUpdatePages(z,C,N,!1);else{const Ae=this._pages[this._currentPageNumber-1];if(!Ae)return;let be=f.SCROLLBAR_PADDING,_e=f.VERTICAL_PADDING;this.isInPresentationMode?be=_e=4:this.removePageBorders?be=_e=0:this._scrollMode===f.ScrollMode.HORIZONTAL&&([be,_e]=[_e,be]);const ye=(this.container.clientWidth-be)/Ae.width*Ae.scale/this._pageWidthScaleFactor,ve=(this.container.clientHeight-_e)/Ae.height*Ae.scale;switch(C){case"page-actual":z=1;break;case"page-width":z=ye;break;case"page-height":z=ve;break;case"page-fit":z=Math.min(ye,ve);break;case"auto":const Te=(0,f.isPortraitOrientation)(Ae)?ye:Math.min(ve,ye);z=Math.min(f.MAX_AUTO_SCALE,Te);break;default:return void console.error(`_setScale: "${C}" is an unknown zoom value.`)}this._setScaleUpdatePages(z,C,N,!0)}}pageLabelToPageNumber(C){if(!this._pageLabels)return null;const N=this._pageLabels.indexOf(C);return N<0?null:N+1}scrollPageIntoView({pageNumber:C,destArray:N=null,allowNegativeOffset:z=!1,ignoreDestinationZoom:Ae=!1}){if(!this.pdfDocument)return;const be=Number.isInteger(C)&&this._pages[C-1];if(!be)return void console.error(`scrollPageIntoView: "${C}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!N)return void this._setCurrentPageNumber(C,!0);let Ee,Fe,_e=0,ye=0,ve=0,Te=0;const se=be.rotation%180!=0,O=(se?be.height:be.width)/be.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS,I=(se?be.width:be.height)/be.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS;let he=0;switch(N[1].name){case"XYZ":_e=N[2],ye=N[3],he=N[4],_e=null!==_e?_e:0,ye=null!==ye?ye:I;break;case"Fit":case"FitB":he="page-fit";break;case"FitH":case"FitBH":ye=N[2],he="page-width",null===ye&&this._location?(_e=this._location.left,ye=this._location.top):("number"!=typeof ye||ye<0)&&(ye=I);break;case"FitV":case"FitBV":_e=N[2],ve=O,Te=I,he="page-height";break;case"FitR":_e=N[2],ye=N[3],ve=N[4]-_e,Te=N[5]-ye,Ee=(this.container.clientWidth-(this.removePageBorders?0:f.SCROLLBAR_PADDING))/ve/b.PixelsPerInch.PDF_TO_CSS_UNITS,Fe=(this.container.clientHeight-(this.removePageBorders?0:f.VERTICAL_PADDING))/Te/b.PixelsPerInch.PDF_TO_CSS_UNITS,he=Math.min(Math.abs(Ee),Math.abs(Fe));break;default:return void console.error(`scrollPageIntoView: "${N[1].name}" is not a valid destination type.`)}if(Ae||(he&&he!==this._currentScale?this.currentScaleValue=he:this._currentScale===f.UNKNOWN_SCALE&&(this.currentScaleValue=f.DEFAULT_SCALE_VALUE)),"page-fit"===he&&!N[4])return void Pe(this,w,Ze).call(this,be);const B=[be.viewport.convertToViewportPoint(_e,ye),be.viewport.convertToViewportPoint(_e+ve,ye+Te)];let te=Math.min(B[0][0],B[1][0]),x=Math.min(B[0][1],B[1][1]);z||(te=Math.max(te,0),x=Math.max(x,0)),Pe(this,w,Ze).call(this,be,{left:te,top:x})}_updateLocation(C){const N=this._currentScale,z=this._currentScaleValue,Ae=parseFloat(z)===N?Math.round(1e4*N)/100:z,be=C.id,ye=this.container,ve=this._pages[be-1].getPagePoint(ye.scrollLeft-C.x,ye.scrollTop-C.y),Te=Math.round(ve[0]),Ee=Math.round(ve[1]);let Fe=`#page=${be}`;this.isInPresentationMode||(Fe+=`&zoom=${Ae},${Te},${Ee}`),this._location={pageNumber:be,scale:Ae,top:Ee,left:Te,rotation:this._pagesRotation,pdfOpenParams:Fe}}update(){const C=this._getVisiblePages(),N=C.views,z=N.length;if(0===z)return;const Ae=Math.max(10,2*z+1);Se(this,X).resize(Ae,C.ids),this.renderingQueue.renderHighestPriority(C);const be=this._spreadMode===f.SpreadMode.NONE&&(this._scrollMode===f.ScrollMode.PAGE||this._scrollMode===f.ScrollMode.VERTICAL),_e=this._currentPageNumber;let ye=!1;for(const ve of N){if(ve.percent<100)break;if(ve.id===_e&&be){ye=!0;break}}this._setCurrentPageNumber(ye?_e:N[0].id),this._updateLocation(C.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(C){return this.container.contains(C)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===f.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===f.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const C=this._scrollMode===f.ScrollMode.PAGE?Se(this,ae).pages:this._pages,N=this._scrollMode===f.ScrollMode.HORIZONTAL;return(0,f.getVisibleElements)({scrollEl:this.container,views:C,sortByVisibility:!0,horizontal:N,rtl:N&&this._isContainerRtl})}isPageVisible(C){return!!this.pdfDocument&&(Number.isInteger(C)&&C>0&&C<=this.pagesCount?this._getVisiblePages().ids.has(C):(console.error(`isPageVisible: "${C}" is not a valid page.`),!1))}isPageCached(C){if(!this.pdfDocument)return!1;if(!(Number.isInteger(C)&&C>0&&C<=this.pagesCount))return console.error(`isPageCached: "${C}" is not a valid page.`),!1;const N=this._pages[C-1];return Se(this,X).has(N)}cleanup(){for(const C of this._pages)C.renderingState!==f.RenderingStates.FINISHED&&C.reset()}_cancelRendering(){for(const C of this._pages)C.cancelRendering()}forceRendering(C){const N=C||this._getVisiblePages(),z=Pe(this,re,_t).call(this,N),be=this.renderingQueue.getHighestPriority(N,this._pages,z,this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL);return Pe(this,Ce,mt).call(this,N.ids),!!be&&(Pe(this,G,gt).call(this,be).then(()=>{this.renderingQueue.renderView(be)}),!0)}createTextLayerBuilder(C,N,z,Ae=!1,be,_e){return new p.TextLayerBuilder({textLayerDiv:C,eventBus:be,pageIndex:N,viewport:z,enhanceTextSelection:!this.isInPresentationMode&&Ae,highlighter:_e})}createTextHighlighter(C,N){return new g.TextHighlighter({eventBus:N,pageIndex:C,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(C,N,z=null,Ae="",be=!0,_e=m.NullL10n,ye=null,ve=null,Te=null,Ee=null,Fe=null){return new a.AnnotationLayerBuilder({pageDiv:C,pdfPage:N,annotationStorage:z||this.pdfDocument?.annotationStorage,imageResourcesPath:Ae,renderForms:be,linkService:this.linkService,downloadManager:this.downloadManager,l10n:_e,enableScripting:ye??this.enableScripting,hasJSActionsPromise:ve||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Ee||this.pdfDocument?.getFieldObjects(),mouseState:Te||this._scriptingManager?.mouseState,annotationCanvasMap:Fe})}createXfaLayerBuilder(C,N,z=null){return new n.XfaLayerBuilder({pageDiv:C,pdfPage:N,annotationStorage:z||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(C){return new T.StructTreeLayerBuilder({pdfPage:C})}get hasEqualPageSizes(){const C=this._pages[0];for(let N=1,z=this._pages.length;N<z;++N){const Ae=this._pages[N];if(Ae.width!==C.width||Ae.height!==C.height)return!1}return!0}getPagesOverview(){return this._pages.map(C=>{const N=C.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,f.isPortraitOrientation)(N)?{width:N.width,height:N.height,rotation:N.rotation}:{width:N.height,height:N.width,rotation:(N.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(C){if(!(C instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${C}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=C;const N={optionalContentConfigPromise:C};for(const z of this._pages)z.update(N);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:C})}get scrollMode(){return this._scrollMode}set scrollMode(C){if(this._scrollMode!==C){if(!(0,f.isValidScrollMode)(C))throw new Error(`Invalid scroll mode: ${C}`);this.pagesCount>A.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=C,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:C}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(C=null){const N=this._scrollMode,z=this.viewer;z.classList.toggle("scrollHorizontal",N===f.ScrollMode.HORIZONTAL),z.classList.toggle("scrollWrapped",N===f.ScrollMode.WRAPPED),this.pdfDocument&&C&&(N===f.ScrollMode.PAGE?Pe(this,l,He).call(this):this._previousScrollMode===f.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(C){if(this._spreadMode!==C){if(!(0,f.isValidSpreadMode)(C))throw new Error(`Invalid spread mode: ${C}`);this._spreadMode=C,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:C}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(C=null){if(!this.pdfDocument)return;const N=this.viewer,z=this._pages;if(this._scrollMode===f.ScrollMode.PAGE)Pe(this,l,He).call(this);else if(N.textContent="",this._spreadMode===f.SpreadMode.NONE)for(const Ae of this._pages)N.appendChild(Ae.div);else{const Ae=this._spreadMode-1;let be=null;for(let _e=0,ye=z.length;_e<ye;++_e)null===be?(be=document.createElement("div"),be.className="spread",N.appendChild(be)):_e%2===Ae&&(be=be.cloneNode(!1),N.appendChild(be)),be.appendChild(z[_e].div)}!C||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}_getPageAdvance(C,N=!1){switch(this._scrollMode){case f.ScrollMode.WRAPPED:{const{views:z}=this._getVisiblePages(),Ae=new Map;for(const{id:be,y:_e,percent:ye,widthPercent:ve}of z){if(0===ye||ve<100)continue;let Te=Ae.get(_e);Te||Ae.set(_e,Te||(Te=[])),Te.push(be)}for(const be of Ae.values()){const _e=be.indexOf(C);if(-1===_e)continue;const ye=be.length;if(1===ye)break;if(N)for(let ve=_e-1,Te=0;ve>=Te;ve--){const Fe=be[ve+1]-1;if(be[ve]<Fe)return C-Fe}else for(let ve=_e+1,Te=ye;ve<Te;ve++){const Fe=be[ve-1]+1;if(be[ve]>Fe)return Fe-C}if(N){const ve=be[0];if(ve<C)return C-ve+1}else{const ve=be[ye-1];if(ve>C)return ve-C+1}break}break}case f.ScrollMode.HORIZONTAL:break;case f.ScrollMode.PAGE:case f.ScrollMode.VERTICAL:{if(this._spreadMode===f.SpreadMode.NONE)break;const z=this._spreadMode-1;if(N&&C%2!==z)break;if(!N&&C%2===z)break;const{views:Ae}=this._getVisiblePages(),be=N?C-1:C+1;for(const{id:_e,percent:ye,widthPercent:ve}of Ae)if(_e===be){if(ye>0&&100===ve)return 2;break}break}}return 1}nextPage(){const C=this._currentPageNumber,N=this.pagesCount;if(C>=N)return!1;const z=this._getPageAdvance(C,!1)||1;return this.currentPageNumber=Math.min(C+z,N),!0}previousPage(){const C=this._currentPageNumber;if(C<=1)return!1;const N=this._getPageAdvance(C,!0)||1;return this.currentPageNumber=Math.max(C-N,1),!0}increaseScale(C=1){let N=this._currentScale;do{N=(N*f.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.ceil(10*N)/10,N=Math.min(f.MAX_SCALE,N)}while(--C>0&&N<f.MAX_SCALE);this.currentScaleValue=N}decreaseScale(C=1){let N=this._currentScale;do{N=(N/f.DEFAULT_SCALE_DELTA).toFixed(2),N=Math.floor(10*N)/10,N=Math.max(f.MIN_SCALE,N)}while(--C>0&&N>f.MIN_SCALE);this.currentScaleValue=N}updateContainerHeightCss(){const C=this.container.clientHeight;C!==Se(this,K)&&(Ie(this,K,C),this._doc.style.setProperty("--viewer-container-height",`${C}px`))}};let L=de;X=new WeakMap,ne=new WeakMap,V=new WeakMap,Z=new WeakMap,K=new WeakMap,ae=new WeakMap,ue=new WeakMap,M=new WeakSet,ht=function(C){!C||(C.includes(b.PermissionFlag.COPY)||this.viewer.classList.add(v),!C.includes(b.PermissionFlag.MODIFY_ANNOTATIONS)&&!C.includes(b.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Se(this,ne)===b.AnnotationMode.ENABLE_FORMS&&(Ie(this,V,Se(this,ne)),Ie(this,ne,b.AnnotationMode.ENABLE)))},c=new WeakSet,ft=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const C=new Promise(N=>{Ie(this,ue,()=>{"hidden"===document.visibilityState&&(N(),document.removeEventListener("visibilitychange",Se(this,ue)),Ie(this,ue,null))}),document.addEventListener("visibilitychange",Se(this,ue))});return Promise.race([this._onePageRenderedCapability.promise,C])},l=new WeakSet,He=function(){if(this._scrollMode!==f.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const C=this._currentPageNumber,N=Se(this,ae),z=this.viewer;if(z.textContent="",N.pages.length=0,this._spreadMode!==f.SpreadMode.NONE||this.isInPresentationMode){const Ae=new Set,be=this._spreadMode-1;-1===be?Ae.add(C-1):C%2!==be?(Ae.add(C-1),Ae.add(C)):(Ae.add(C-2),Ae.add(C-1));const _e=document.createElement("div");if(_e.className="spread",this.isInPresentationMode){const ye=document.createElement("div");ye.className="dummyPage",_e.appendChild(ye)}for(const ye of Ae){const ve=this._pages[ye];!ve||(_e.appendChild(ve.div),N.pages.push(ve))}z.appendChild(_e)}else{const Ae=this._pages[C-1];z.appendChild(Ae.div),N.pages.push(Ae)}N.scrollDown=C>=N.previousPageNumber,N.previousPageNumber=C},w=new WeakSet,Ze=function(C,N=null){const{div:z,id:Ae}=C;if(this._scrollMode===f.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ae),Pe(this,l,He).call(this),this.update()),!N&&!this.isInPresentationMode){const be=z.offsetLeft+z.clientLeft,_e=be+z.clientWidth,{scrollLeft:ye,clientWidth:ve}=this.container;(this._scrollMode===f.ScrollMode.HORIZONTAL||be<ye||_e>ye+ve)&&(N={left:0,top:0})}(0,f.scrollIntoView)(z,N)},E=new WeakSet,pt=function(C){return C===this._currentScale||Math.abs(C-this._currentScale)<1e-15},H=new WeakSet,nt=function(){const C=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Pe(this,w,Ze).call(this,C)},G=new WeakSet,gt=function(C){var N=this;return _(function*(){if(C.pdfPage)return C.pdfPage;try{const z=yield N.pdfDocument.getPage(C.id);return C.pdfPage||C.setPdfPage(z),N.linkService._cachedPageNumber?.(z.ref)||N.linkService.cachePageRef(C.id,z.ref),z}catch(z){return console.error("Unable to get page for page view",z),null}})()},re=new WeakSet,_t=function(C){if(1===C.first?.id)return!0;if(C.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case f.ScrollMode.PAGE:return Se(this,ae).scrollDown;case f.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Ce=new WeakSet,mt=function(C){for(const N of C)this._pages[N-1]?.toggleLoadingIconSpinner(!0);for(const N of Se(this,X))C.has(N.id)||N.toggleLoadingIconSpinner(!1)},d.BaseViewer=L},(D,d,P)=>{var u;Object.defineProperty(d,"__esModule",{value:!0}),d.PDFPageView=void 0;var b=P(3),f=P(6),a=P(13),m=P(4);const i=a.compatibilityParams.maxCanvasPixels||16777216;u=new WeakMap,d.PDFPageView=class s{constructor(g){we(this,u,b.AnnotationMode.ENABLE_FORMS);const p=g.container,n=g.defaultViewport;this.id=g.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=g.scale||f.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=g.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=g.textLayerMode??f.TextLayerMode.ENABLE,Ie(this,u,g.annotationMode??b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=g.imageResourcesPath||"",this.useOnlyCssZoom=g.useOnlyCssZoom||!1,this.maxCanvasPixels=g.maxCanvasPixels||i,this.pageColors=g.pageColors||null,this.eventBus=g.eventBus,this.renderingQueue=g.renderingQueue,this.textLayerFactory=g.textLayerFactory,this.annotationLayerFactory=g.annotationLayerFactory,this.xfaLayerFactory=g.xfaLayerFactory,this.textHighlighter=g.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=g.structTreeLayerFactory,this.renderer=g.renderer||f.RendererType.CANVAS,this.l10n=g.l10n||m.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=f.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(v=>{r.setAttribute("aria-label",v)}),this.div=r,p?.appendChild(r)}setPdfPage(g){this.pdfPage=g,this.pdfPageRotate=g.rotate,this.viewport=g.getViewport({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var g=this;return _(function*(){let p=null;try{yield g.annotationLayer.render(g.viewport,"display")}catch(n){p=n}finally{g.eventBus.dispatch("annotationlayerrendered",{source:g,pageNumber:g.id,error:p})}})()}_renderXfaLayer(){var g=this;return _(function*(){let p=null;try{const n=yield g.xfaLayer.render(g.viewport,"display");g.textHighlighter&&g._buildXfaTextContentItems(n.textDivs)}catch(n){p=n}finally{g.eventBus.dispatch("xfalayerrendered",{source:g,pageNumber:g.id,error:p})}})()}_buildXfaTextContentItems(g){var p=this;return _(function*(){const n=yield p.pdfPage.getTextContent(),r=[];for(const v of n.items)r.push(v.str);p.textHighlighter.setTextMapping(g,r),p.textHighlighter.enable()})()}_resetZoomLayer(g=!1){if(!this.zoomLayer)return;const p=this.zoomLayer.firstChild;this.paintedViewportMap.delete(p),p.width=0,p.height=0,g&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:g=!1,keepAnnotationLayer:p=!1,keepXfaLayer:n=!1}={}){this.cancelRendering({keepAnnotationLayer:p,keepXfaLayer:n}),this.renderingState=f.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const v=r.childNodes,A=g&&this.zoomLayer||null,y=p&&this.annotationLayer?.div||null,L=n&&this.xfaLayer?.div||null;for(let R=v.length-1;R>=0;R--){const F=v[R];switch(F){case A:case y:case L:continue}F.remove()}r.removeAttribute("data-loaded"),y&&this.annotationLayer.hide(),L&&this.xfaLayer.hide(),A||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(R=>{this.loadingIconDiv?.setAttribute("aria-label",R)}),r.appendChild(this.loadingIconDiv)}update({scale:g=0,rotation:p=null,optionalContentConfigPromise:n=null}){if(this.scale=g||this.scale,"number"==typeof p&&(this.rotation=p),n instanceof Promise&&(this._optionalContentConfigPromise=n),this.viewport=this.viewport.clone({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let v=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(v=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&v)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:g=!1,keepXfaLayer:p=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!g||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!p||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:g,redrawAnnotationLayer:p=!1,redrawXfaLayer:n=!1}){const r=this.viewport.width,v=this.viewport.height,A=this.div;g.style.width=g.parentNode.style.width=A.style.width=Math.floor(r)+"px",g.style.height=g.parentNode.style.height=A.style.height=Math.floor(v)+"px";const y=this.viewport.rotation-this.paintedViewportMap.get(g).rotation,L=Math.abs(y);let R=1,F=1;if((90===L||270===L)&&(R=v/r,F=r/v),g.style.transform=`rotate(${y}deg) scale(${R}, ${F})`,this.textLayer){const U=this.textLayer.viewport,X=Math.abs(this.viewport.rotation-U.rotation);let ne=r/U.width;(90===X||270===X)&&(ne=r/U.height);const V=this.textLayer.textLayerDiv;let Z,K;switch(X){case 0:Z=K=0;break;case 90:Z=0,K="-"+V.style.height;break;case 180:Z="-"+V.style.width,K="-"+V.style.height;break;case 270:Z="-"+V.style.width,K=0;break;default:console.error("Bad rotation value.")}V.style.transform=`rotate(${X}deg) scale(${ne}) translate(${Z}, ${K})`,V.style.transformOrigin="0% 0%"}p&&this.annotationLayer&&this._renderAnnotationLayer(),n&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(g,p){return this.viewport.convertToPdfPoint(g,p)}toggleLoadingIconSpinner(g=!1){this.loadingIconDiv?.classList.toggle("notVisible",!g)}draw(){var g=this;this.renderingState!==f.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:p,pdfPage:n}=this;if(!n)return this.renderingState=f.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=f.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=p.style.width,r.style.height=p.style.height,r.classList.add("canvasWrapper"),this.annotationLayer?.div?p.insertBefore(r,this.annotationLayer.div):p.appendChild(r);let v=null;if(this.textLayerMode!==f.TextLayerMode.DISABLE&&this.textLayerFactory){const F=document.createElement("div");F.className="textLayer",F.style.width=r.style.width,F.style.height=r.style.height,this.annotationLayer?.div?p.insertBefore(F,this.annotationLayer.div):p.appendChild(F),v=this.textLayerFactory.createTextLayerBuilder(F,this.id-1,this.viewport,this.textLayerMode===f.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=v,Se(this,u)!==b.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(p,n,null,this.imageResourcesPath,Se(this,u)===b.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&p.appendChild(this.xfaLayer.div);let A=null;this.renderingQueue&&(A=F=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=f.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=f.RenderingStates.RUNNING,F()});F()});const y=function(){var F=_(function*(U=null){if(L===g.paintTask&&(g.paintTask=null),U instanceof b.RenderingCancelledException)g._renderError=null;else if(g._renderError=U,g.renderingState=f.RenderingStates.FINISHED,g.loadingIconDiv&&(g.loadingIconDiv.remove(),delete g.loadingIconDiv),g._resetZoomLayer(!0),g.eventBus.dispatch("pagerendered",{source:g,pageNumber:g.id,cssTransform:!1,timestamp:performance.now(),error:g._renderError}),U)throw U});return function(){return F.apply(this,arguments)}}(),L=this.renderer===f.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);L.onRenderContinue=A,this.paintTask=L;const R=L.promise.then(()=>y(null).then(()=>{if(v){const F=n.streamTextContent({includeMarkedContent:!0});v.setTextContentStream(F),v.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(F){return y(F)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(p,n,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(U=>{if(!U||!this.canvas)return;const q=this.structTreeLayer.render(U);q.classList.add("structTree"),this.canvas.appendChild(q)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(n)),p.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}paintOnCanvas(g){const p=(0,b.createPromiseCapability)(),n={promise:p.promise,onRenderContinue(V){V()},cancel(){ne.cancel()}},r=this.viewport,v=document.createElement("canvas");v.hidden=!0;let A=!0;const y=function(){A&&(v.hidden=!1,A=!1)};g.appendChild(v),this.canvas=v;const L=v.getContext("2d",{alpha:!1}),R=this.outputScale=new f.OutputScale;if(this.useOnlyCssZoom){const V=r.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});R.sx*=V.width/r.width,R.sy*=V.height/r.height}if(this.maxCanvasPixels>0){const Z=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));R.sx>Z||R.sy>Z?(R.sx=Z,R.sy=Z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,f.approximateFraction)(R.sx),U=(0,f.approximateFraction)(R.sy);v.width=(0,f.roundToDivide)(r.width*R.sx,F[0]),v.height=(0,f.roundToDivide)(r.height*R.sy,U[0]),v.style.width=(0,f.roundToDivide)(r.width,F[1])+"px",v.style.height=(0,f.roundToDivide)(r.height,U[1])+"px",this.paintedViewportMap.set(v,r);const X={canvasContext:L,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,annotationMode:Se(this,u),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ne=this.pdfPage.render(X);return ne.onContinue=function(V){y(),n.onRenderContinue?n.onRenderContinue(V):V()},ne.promise.then(function(){y(),p.resolve()},function(V){y(),p.reject(V)}),n}paintOnSvg(g){let p=!1;const n=()=>{if(p)throw new b.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,v=this.viewport.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:Se(this,u)}).then(y=>(n(),new b.SVGGraphics(r.commonObjs,r.objs).getSVG(y,v).then(R=>{n(),this.svg=R,this.paintedViewportMap.set(R,v),R.style.width=g.style.width,R.style.height=g.style.height,this.renderingState=f.RenderingStates.FINISHED,g.appendChild(R)}))),onRenderContinue(y){y()},cancel(){p=!0}}}setPageLabel(g){this.pageLabel="string"==typeof g?g:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.compatibilityParams=d.OptionKind=d.AppOptions=void 0;const P=Object.create(null);d.compatibilityParams=P;{const i=navigator.userAgent||"",s=navigator.platform||"",u=navigator.maxTouchPoints||1,T=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===s&&u>1||T)&&(P.maxCanvasPixels=5242880)}const b={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};d.OptionKind=b;const f={annotationMode:{value:2,kind:b.VIEWER+b.PREFERENCE},cursorToolOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:b.VIEWER},defaultZoomValue:{value:"",kind:b.VIEWER+b.PREFERENCE},disableHistory:{value:!1,kind:b.VIEWER},disablePageLabels:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePermissions:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:b.VIEWER+b.PREFERENCE},enableScripting:{value:!0,kind:b.VIEWER+b.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:b.VIEWER},externalLinkTarget:{value:0,kind:b.VIEWER+b.PREFERENCE},historyUpdateUrl:{value:!1,kind:b.VIEWER+b.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},imageResourcesPath:{value:"./images/",kind:b.VIEWER},maxCanvasPixels:{value:16777216,compatibility:P.maxCanvasPixels,kind:b.VIEWER},pageColorsBackground:{value:"Canvas",kind:b.VIEWER+b.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:b.VIEWER+b.PREFERENCE},pdfBugEnabled:{value:!1,kind:b.VIEWER+b.PREFERENCE},printResolution:{value:150,kind:b.VIEWER},renderer:{value:"canvas",kind:b.VIEWER},sidebarViewOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},scrollModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},spreadModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},textLayerMode:{value:1,kind:b.VIEWER+b.PREFERENCE},useOnlyCssZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},viewerCssTheme:{value:0,kind:b.VIEWER+b.PREFERENCE},viewOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},cMapPacked:{value:!0,kind:b.API},cMapUrl:{value:"../web/cmaps/",kind:b.API},disableAutoFetch:{value:!1,kind:b.API+b.PREFERENCE},disableFontFace:{value:!1,kind:b.API+b.PREFERENCE},disableRange:{value:!1,kind:b.API+b.PREFERENCE},disableStream:{value:!1,kind:b.API+b.PREFERENCE},docBaseUrl:{value:"",kind:b.API},enableXfa:{value:!0,kind:b.API+b.PREFERENCE},fontExtraProperties:{value:!1,kind:b.API},isEvalSupported:{value:!0,kind:b.API},maxImageSize:{value:-1,kind:b.API},pdfBug:{value:!1,kind:b.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:b.API},verbosity:{value:1,kind:b.API},workerPort:{value:null,kind:b.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:b.WORKER}};f.disablePreferences={value:!1,kind:b.VIEWER},f.locale={value:navigator.language||"en-US",kind:b.VIEWER},f.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:b.VIEWER},f.renderer.kind+=b.PREFERENCE;const a=Object.create(null);d.AppOptions=class m{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(s){const u=a[s];if(void 0!==u)return u;const T=f[s];return void 0!==T?T.compatibility??T.value:void 0}static getAll(s=null){const u=Object.create(null);for(const T in f){const g=f[T];if(s){if(0==(s&g.kind))continue;if(s===b.PREFERENCE){const n=g.value,r=typeof n;if("boolean"===r||"string"===r||"number"===r&&Number.isInteger(n)){u[T]=n;continue}throw new Error(`Invalid type for preference: ${T}`)}}const p=a[T];u[T]=void 0!==p?p:g.compatibility??g.value}return u}static set(s,u){a[s]=u}static setAll(s){for(const u in s)a[u]=s[u]}static remove(s){delete a[s]}static _hasUserOptions(){return Object.keys(a).length>0}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFRenderingQueue=void 0;var b=P(3),f=P(6);d.PDFRenderingQueue=class m{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(s){this.pdfViewer=s}setThumbnailViewer(s){this.pdfThumbnailViewer=s}isHighestPriority(s){return this.highestPriorityPage===s.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(s){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(s)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(s,u,T,g=!1){const p=s.views,n=p.length;if(0===n)return null;for(let L=0;L<n;L++){const R=p[L].view;if(!this.isViewFinished(R))return R}const r=s.first.id,v=s.last.id;if(v-r+1>n){const L=s.ids;for(let R=1,F=v-r;R<F;R++){const U=T?r+R:v-R;if(L.has(U))continue;const q=u[U-1];if(!this.isViewFinished(q))return q}}let A=T?v:r-2,y=u[A];return y&&!this.isViewFinished(y)||g&&(A+=T?1:-1,y=u[A],y&&!this.isViewFinished(y))?y:null}isViewFinished(s){return s.renderingState===f.RenderingStates.FINISHED}renderView(s){switch(s.renderingState){case f.RenderingStates.FINISHED:return!1;case f.RenderingStates.PAUSED:this.highestPriorityPage=s.renderingId,s.resume();break;case f.RenderingStates.RUNNING:this.highestPriorityPage=s.renderingId;break;case f.RenderingStates.INITIAL:this.highestPriorityPage=s.renderingId,s.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof b.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextHighlighter=void 0,d.TextHighlighter=class P{constructor({findController:f,eventBus:a,pageIndex:m}){this.findController=f,this.matches=[],this.eventBus=a,this.pageIdx=m,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(f,a){this.textDivs=f,this.textContentItemsStr=a}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=f=>{(f.pageIndex===this.pageIdx||-1===f.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(f,a){if(!f)return[];const{textContentItemsStr:m}=this;let i=0,s=0;const u=m.length-1,T=[];for(let g=0,p=f.length;g<p;g++){let n=f[g];for(;i!==u&&n>=s+m[i].length;)s+=m[i].length,i++;i===m.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:i,offset:n-s}};for(n+=a[g];i!==u&&n>s+m[i].length;)s+=m[i].length,i++;r.end={divIdx:i,offset:n-s},T.push(r)}return T}_renderMatches(f){if(0===f.length)return;const{findController:a,pageIdx:m}=this,{textContentItemsStr:i,textDivs:s}=this,u=m===a.selected.pageIdx,T=a.selected.matchIdx;let p=null;function r(L,R){const F=L.divIdx;return s[F].textContent="",v(F,0,L.offset,R)}function v(L,R,F,U){let q=s[L];if(q.nodeType===Node.TEXT_NODE){const V=document.createElement("span");q.parentNode.insertBefore(V,q),V.appendChild(q),s[L]=V,q=V}const X=i[L].substring(R,F),ne=document.createTextNode(X);if(U){const V=document.createElement("span");return V.className=`${U} appended`,V.appendChild(ne),q.appendChild(V),U.includes("selected")?V.offsetLeft:0}return q.appendChild(ne),0}let A=T,y=A+1;if(a.state.highlightAll)A=0,y=f.length;else if(!u)return;for(let L=A;L<y;L++){const R=f[L],F=R.begin,U=R.end,q=u&&L===T,X=q?" selected":"";let ne=0;if(p&&F.divIdx===p.divIdx?v(p.divIdx,p.offset,F.offset):(null!==p&&v(p.divIdx,p.offset,undefined),r(F)),F.divIdx===U.divIdx)ne=v(F.divIdx,F.offset,U.offset,"highlight"+X);else{ne=v(F.divIdx,F.offset,undefined,"highlight begin"+X);for(let V=F.divIdx+1,Z=U.divIdx;V<Z;V++)s[V].className="highlight middle"+X;r(U,"highlight end"+X)}p=U,q&&a.scrollMatchIntoView({element:s[F.divIdx],selectedLeft:ne,pageIndex:m,matchIndex:T})}p&&v(p.divIdx,p.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:f,matches:a,pageIdx:m}=this,{textContentItemsStr:i,textDivs:s}=this;let u=-1;for(let p=0,n=a.length;p<n;p++){const r=a[p];for(let A=Math.max(u,r.begin.divIdx),y=r.end.divIdx;A<=y;A++){const L=s[A];L.textContent=i[A],L.className=""}u=r.end.divIdx+1}f?.highlightMatches&&(this.matches=this._convertMatches(f.pageMatches[m]||null,f.pageMatchesLength[m]||null),this._renderMatches(this.matches))}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DownloadManager=void 0;var b=P(3);function f(m,i){const s=document.createElement("a");if(!s.click)throw new Error('DownloadManager: "a.click()" is not supported.');s.href=m,s.target="_parent","download"in s&&(s.download=i),(document.body||document.documentElement).appendChild(s),s.click(),s.remove()}d.DownloadManager=class a{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,s){(0,b.createValidAbsoluteUrl)(i,"http://example.com")?f(i+"#pdfjs.action=download",s):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,s,u){f(URL.createObjectURL(new Blob([i],{type:u})),s)}openOrDownloadData(i,s,u){const T=(0,b.isPdfFile)(u),g=T?"application/pdf":"";if(T){let n,p=this._openBlobUrls.get(i);p||(p=URL.createObjectURL(new Blob([s],{type:g})),this._openBlobUrls.set(i,p)),n="?file="+encodeURIComponent(p+"#"+u);try{return window.open(n),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(p),this._openBlobUrls.delete(i)}}return this.downloadData(s,u,g),!1}download(i,s,u,T="download"){f(URL.createObjectURL(i),u)}}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WaitOnType=d.EventBus=d.AutomationEventBus=void 0,d.waitOnEventOrTimeout=function b({target:m,name:i,delay:s=0}){return new Promise(function(u,T){if("object"!=typeof m||!i||"string"!=typeof i||!(Number.isInteger(s)&&s>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function g(v){m instanceof f?m._off(i,p):m.removeEventListener(i,p),r&&clearTimeout(r),u(v)}const p=g.bind(null,P.EVENT);m instanceof f?m._on(i,p):m.addEventListener(i,p);const n=g.bind(null,P.TIMEOUT),r=setTimeout(n,s)})};const P={EVENT:"event",TIMEOUT:"timeout"};d.WaitOnType=P;class f{constructor(){this._listeners=Object.create(null)}on(i,s,u=null){this._on(i,s,{external:!0,once:u?.once})}off(i,s,u=null){this._off(i,s,{external:!0,once:u?.once})}dispatch(i,s){const u=this._listeners[i];if(!u||0===u.length)return;let T;for(const{listener:g,external:p,once:n}of u.slice(0))n&&this._off(i,g),p?(T||(T=[])).push(g):g(s);if(T){for(const g of T)g(s);T=null}}_on(i,s,u=null){var g;((g=this._listeners)[i]||(g[i]=[])).push({listener:s,external:!0===u?.external,once:!0===u?.once})}_off(i,s,u=null){const T=this._listeners[i];if(T)for(let g=0,p=T.length;g<p;g++)if(T[g].listener===s)return void T.splice(g,1)}}d.EventBus=f,d.AutomationEventBus=class a extends f{dispatch(i,s){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericL10n=void 0,P(19);var b=P(4);const f=document.webL10n;d.GenericL10n=class a{constructor(i){this._lang=i,this._ready=new Promise((s,u)=>{f.setLanguage((0,b.fixupLangCode)(i),()=>{s(f)})})}getLanguage(){var i=this;return _(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return _(function*(){return(yield i._ready).getDirection()})()}get(i,s=null,u=(0,b.getL10nFallback)(i,s)){var T=this;return _(function*(){return(yield T._ready).get(i,s,u)})()}translate(i){var s=this;return _(function*(){return(yield s._ready).translate(i)})()}}},()=>{document.webL10n=function(D,d,P){var b={},f="",a="textContent",m="",i={},s="loading";function r(V,Z,K){Z=Z||function(M){},K=K||function(){};var ae=new XMLHttpRequest;ae.open("GET",V,!0),ae.overrideMimeType&&ae.overrideMimeType("text/plain; charset=utf-8"),ae.onreadystatechange=function(){4==ae.readyState&&(200==ae.status||0===ae.status?Z(ae.responseText):K())},ae.onerror=K,ae.ontimeout=K;try{ae.send(null)}catch{K()}}function A(V,Z){V&&(V=V.toLowerCase()),Z=Z||function(){},function y(){b={},f="",m=""}(),m=V;var K=function T(){return d.querySelectorAll('link[type="application/l10n"]')}(),ae=K.length;if(0!==ae){var c,t=0;c=function(){++t>=ae&&(Z(),s="complete")};for(var h=0;h<ae;h++)new l(K[h]).load(V,c)}else{var ue=function g(){var V=d.querySelector('script[type="application/l10n"]');return V?JSON.parse(V.innerHTML):null}();if(ue&&ue.locales&&ue.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(b=ue.locales[V])){var M=ue.default_locale.toLowerCase();for(var o in ue.locales){if((o=o.toLowerCase())===V){b=ue.locales[V];break}o===M&&(b=ue.locales[M])}}Z()}else console.log("no resource to load, early way out");s="complete"}function l(S){var E=S.href;this.load=function(j,H){!function v(V,Z,K,ae){var ue=V.replace(/[^\/]*$/,"")||"./";function M(c){return c.lastIndexOf("\\")<0?c:c.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(V,function(c){f+=c,function o(c,t){var l={},h=/^\s*|\s*$/,w=/^\s*#|^\s*$/,S=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,j=/^([^=\s]*)\s*=\s*(.+)$/;function H(G,Q,re){var ge=G.replace(h,"").split(/[\r\n]+/),Ce="*",ee=Z.split("-",1)[0],de=!1,ce="";!function C(){for(;;){if(!ge.length)return void re();var N=ge.shift();if(!w.test(N)){if(Q){if(ce=S.exec(N)){Ce=ce[1].toLowerCase(),de="*"!==Ce&&Ce!==Z&&Ce!==ee;continue}if(de)continue;if(ce=E.exec(N))return void W(ue+ce[1],C)}var z=N.match(j);z&&3==z.length&&(l[z[1]]=M(z[2]))}}}()}function W(G,Q){r(G,function(re){H(re,!1,Q)},function(){console.warn(G+" not found."),Q()})}H(c,!0,function(){t(l)})}(c,function(t){for(var l in t){var h,w,S=l.lastIndexOf(".");S>0?(h=l.substring(0,S),w=l.substring(S+1)):(h=l,w=a),b[h]||(b[h]={}),b[h][w]=t[l]}K&&K()})},ae)}(E,j,H,function(){console.warn(E+" not found."),console.warn('"'+j+'" resource not found'),m="",H()})}}}function R(V,Z,K){var ae=b[V];if(!ae){if(console.warn("#"+V+" is undefined."),!K)return null;ae=K}var ue={};for(var M in ae){var o=ae[M];o=U(o=F(o,Z,V,M),Z,V),ue[M]=o}return ue}function F(V,Z,K,ae){var M=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(V);if(!M||!M.length)return V;var t,o=M[1],c=M[2];return Z&&c in Z?t=Z[c]:c in b&&(t=b[c]),o in i&&(V=(0,i[o])(V,t,K,ae)),V}function U(V,Z,K){return V.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ue,M){return Z&&M in Z?Z[M]:M in b?b[M]:(console.log("argument {{"+M+"}} for #"+K+" is undefined."),ue)})}function q(V){var Z=function n(V){if(!V)return{};var Z=V.getAttribute("data-l10n-id"),K=V.getAttribute("data-l10n-args"),ae={};if(K)try{ae=JSON.parse(K)}catch{console.warn("could not parse arguments for #"+Z)}return{id:Z,args:ae}}(V);if(Z.id){var K=R(Z.id,Z.args);if(!K)return void console.warn("#"+Z.id+" is undefined.");if(K[a]){if(0===function X(V){if(V.children)return V.children.length;if(typeof V.childElementCount<"u")return V.childElementCount;for(var Z=0,K=0;K<V.childNodes.length;K++)Z+=1===V.nodeType?1:0;return Z}(V))V[a]=K[a];else{for(var ae=V.childNodes,ue=!1,M=0,o=ae.length;M<o;M++)3===ae[M].nodeType&&/\S/.test(ae[M].nodeValue)&&(ue?ae[M].nodeValue="":(ae[M].nodeValue=K[a],ue=!0));if(!ue){var c=d.createTextNode(K[a]);V.insertBefore(c,V.firstChild)}}delete K[a]}for(var t in K)V[t]=K[t]}}return i.plural=function(V,Z,K,ae){var ue=parseFloat(Z);if(isNaN(ue)||ae!=a)return V;i._pluralRules||(i._pluralRules=function L(V){function K(o,c){return-1!==c.indexOf(o)}function ae(o,c,t){return c<=o&&o<=t}var ue={0:function(o){return"other"},1:function(o){return ae(o%100,3,10)?"few":0===o?"zero":ae(o%100,11,99)?"many":2==o?"two":1==o?"one":"other"},2:function(o){return 0!==o&&o%10==0?"many":2==o?"two":1==o?"one":"other"},3:function(o){return 1==o?"one":"other"},4:function(o){return ae(o,0,1)?"one":"other"},5:function(o){return ae(o,0,2)&&2!=o?"one":"other"},6:function(o){return 0===o?"zero":o%10==1&&o%100!=11?"one":"other"},7:function(o){return 2==o?"two":1==o?"one":"other"},8:function(o){return ae(o,3,6)?"few":ae(o,7,10)?"many":2==o?"two":1==o?"one":"other"},9:function(o){return 0===o||1!=o&&ae(o%100,1,19)?"few":1==o?"one":"other"},10:function(o){return ae(o%10,2,9)&&!ae(o%100,11,19)?"few":o%10!=1||ae(o%100,11,19)?"other":"one"},11:function(o){return ae(o%10,2,4)&&!ae(o%100,12,14)?"few":o%10==0||ae(o%10,5,9)||ae(o%100,11,14)?"many":o%10==1&&o%100!=11?"one":"other"},12:function(o){return ae(o,2,4)?"few":1==o?"one":"other"},13:function(o){return ae(o%10,2,4)&&!ae(o%100,12,14)?"few":1!=o&&ae(o%10,0,1)||ae(o%10,5,9)||ae(o%100,12,14)?"many":1==o?"one":"other"},14:function(o){return ae(o%100,3,4)?"few":o%100==2?"two":o%100==1?"one":"other"},15:function(o){return 0===o||ae(o%100,2,10)?"few":ae(o%100,11,19)?"many":1==o?"one":"other"},16:function(o){return o%10==1&&11!=o?"one":"other"},17:function(o){return 3==o?"few":0===o?"zero":6==o?"many":2==o?"two":1==o?"one":"other"},18:function(o){return 0===o?"zero":ae(o,0,2)&&0!==o&&2!=o?"one":"other"},19:function(o){return ae(o,2,10)?"few":ae(o,0,1)?"one":"other"},20:function(o){return!ae(o%10,3,4)&&o%10!=9||ae(o%100,10,19)||ae(o%100,70,79)||ae(o%100,90,99)?o%1e6==0&&0!==o?"many":o%10!=2||K(o%100,[12,72,92])?o%10!=1||K(o%100,[11,71,91])?"other":"one":"two":"few"},21:function(o){return 0===o?"zero":1==o?"one":"other"},22:function(o){return ae(o,0,1)||ae(o,11,99)?"one":"other"},23:function(o){return ae(o%10,1,2)||o%20==0?"one":"other"},24:function(o){return ae(o,3,10)||ae(o,13,19)?"few":K(o,[2,12])?"two":K(o,[1,11])?"one":"other"}},M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[V.replace(/-.*$/,"")];return M in ue?ue[M]:(console.warn("plural form unknown for ["+V+"]"),function(){return"other"})}(m));var M="["+i._pluralRules(ue)+"]";return 0===ue&&K+"[zero]"in b?V=b[K+"[zero]"][ae]:1==ue&&K+"[one]"in b?V=b[K+"[one]"][ae]:2==ue&&K+"[two]"in b?V=b[K+"[two]"][ae]:K+M in b?V=b[K+M][ae]:K+"[other]"in b&&(V=b[K+"[other]"][ae]),V},{get:function(V,Z,K){var M,ae=V.lastIndexOf("."),ue=a;ae>0&&(ue=V.substring(ae+1),V=V.substring(0,ae)),K&&((M={})[ue]=K);var o=R(V,Z,M);return o&&ue in o?o[ue]:"{{"+V+"}}"},getData:function(){return b},getText:function(){return f},getLanguage:function(){return m},setLanguage:function(V,Z){A(V,function(){Z&&Z()})},getDirection:function(){var Z=m.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Z)>=0?"rtl":"ltr"},translate:function ne(V){for(var Z=function p(V){return V?V.querySelectorAll("*[data-l10n-id]"):[]}(V=V||d.documentElement),K=Z.length,ae=0;ae<K;ae++)q(Z[ae]);q(V)},getReadyState:function(){return s},ready:function(V){V&&("complete"==s||"interactive"==s?D.setTimeout(function(){V()}):d.addEventListener&&d.addEventListener("localized",function Z(){d.removeEventListener("localized",Z),V()}))}}}(window,document)},(D,d,P)=>{var U,bt,X,it,V,rt,K,At,ue,vt,o,yt,t,st,h,Ct,S,St,j,Xe,W,qe,Q,je,ge,Pt,ee,at,ce,ot,N,Ye,Ae,xt,_e,lt,ve,wt,Ee,Ge;Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFindController=d.FindState=void 0;var b=P(6),f=P(3),a=P(21);const m={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};d.FindState=m;const T={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},g=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),p=[...g.values()].map(se=>String.fromCharCode(se)).join(""),n=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,v=/([^\p{M}])\p{M}*$/u,A=/^\p{M}*([^\p{M}])/u;let y=null;function L(se){if(!y){const xe=Object.keys(T).join("");y=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let I;for(;null!==(I=n.exec(se));)O.push([I[0].length,I.index]);let he=se.normalize("NFD");const B=[[0,0]];let te=0,x=0,oe=0,Y=0,fe=!1;return he=he.replace(y,(xe,Re,Le,Oe,ke,De)=>{if(De-=oe,Re){const Me=T[xe],Ue=Me.length;for(let Ne=1;Ne<Ue;Ne++)B.push([De-x+Ne,x-Ne]);return x-=Ue-1,Me}if(Le){const Me=Le.endsWith("\n"),Ue=Me?Le.length-2:Le.length;fe=!0;let Ne=Ue;De+Y===O[te]?.[1]&&(Ne-=O[te][0],++te);for(let Ve=1;Ve<Ne+1;Ve++)B.push([De-1-x+Ve,x-Ve]);return x-=Ne,oe+=Ne,Me?(B.push([(De+=Ue-1)-x+1,1+x]),x+=1,oe+=1,Y+=1,Le.slice(0,Ue)):Le}return Oe?(B.push([De-x+1,1+x]),x+=1,oe+=1,Y+=1,Oe.charAt(0)):(B.push([De-x+1,x-1]),x-=1,oe+=1,Y+=1," ")}),B.push([he.length,x]),[he,B,fe]}function R(se,O,I){if(!se)return[O,I];const he=O,B=O+I;let te=(0,b.binarySearchFirstItem)(se,oe=>oe[0]>=he);se[te][0]>he&&--te;let x=(0,b.binarySearchFirstItem)(se,oe=>oe[0]>=B,te);return se[x][0]>B&&--x,[he+se[te][1],I+se[x][1]-se[te][1]]}U=new WeakSet,bt=function(O){if(!O)return;const I=this._pdfDocument,{type:he}=O;(null===this._state||Pe(this,K,At).call(this,O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==he&&Pe(this,Ee,Ge).call(this,m.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||I&&this._pdfDocument!==I)return;Pe(this,S,St).call(this);const B=!this._highlightMatches,te=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),he?this._dirtyMatch?Pe(this,Q,je).call(this):"again"===he?(Pe(this,Q,je).call(this),B&&this._state.highlightAll&&Pe(this,W,qe).call(this)):"highlightallchange"===he?(te?Pe(this,Q,je).call(this):this._highlightMatches=!0,Pe(this,W,qe).call(this)):Pe(this,Q,je).call(this):this._findTimeout=setTimeout(()=>{Pe(this,Q,je).call(this),this._findTimeout=null},250)})},X=new WeakSet,it=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,f.createPromiseCapability)()},V=new WeakSet,rt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=L(this._state.query)),this._normalizedQuery},K=new WeakSet,At=function(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const I=this._selected.pageIdx+1,he=this._linkService;return I>=1&&I<=he.pagesCount&&I!==he.page&&!he.isPageVisible(I);case"highlightallchange":return!1}return!0},ue=new WeakSet,vt=function(O,I,he){let B=O.slice(0,I).match(v);if(B){const te=O.charCodeAt(I),x=B[1].charCodeAt(0);if((0,a.getCharacterType)(te)===(0,a.getCharacterType)(x))return!1}if(B=O.slice(I+he).match(A),B){const te=O.charCodeAt(I+he-1),x=B[1].charCodeAt(0);if((0,a.getCharacterType)(te)===(0,a.getCharacterType)(x))return!1}return!0},o=new WeakSet,yt=function(O,I,he,B){const te=[],x=[],oe=this._pageDiffs[he];let Y;for(;null!==(Y=O.exec(B));){if(I&&!Pe(this,ue,vt).call(this,B,Y.index,Y[0].length))continue;const[fe,xe]=R(oe,Y.index,Y[0].length);xe&&(te.push(fe),x.push(xe))}this._pageMatches[he]=te,this._pageMatchesLength[he]=x},t=new WeakSet,st=function(O,I){const{matchDiacritics:he}=this._state;let B=!1;return(O=O.replace(r,(x,oe,Y,fe,xe,Re)=>oe?`[ ]*\\${oe}[ ]*`:Y?`[ ]*${Y}[ ]*`:fe?"[ ]+":he?xe||Re:xe?g.has(xe.charCodeAt(0))?xe:"":I?(B=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(O=O.slice(0,O.length-"[ ]*".length)),he&&I&&(B=!0,O=`${O}(?=[${p}]|[^\\p{M}]|$)`),[B,O]},h=new WeakSet,Ct=function(O){let I=Se(this,V,rt);if(0===I.length)return;const{caseSensitive:he,entireWord:B,phraseSearch:te}=this._state,x=this._pageContents[O],oe=this._hasDiacritics[O];let Y=!1;if(te)[Y,I]=Pe(this,t,st).call(this,I,oe);else{const Re=I.match(/\S+/g);Re&&(I=Re.sort().reverse().map(Le=>{const[Oe,ke]=Pe(this,t,st).call(this,Le,oe);return Y||(Y=Oe),`(${ke})`}).join("|"))}I=new RegExp(I,`g${Y?"u":""}${he?"":"i"}`),Pe(this,o,yt).call(this,I,B,O,x),this._state.highlightAll&&Pe(this,j,Xe).call(this,O),this._resumePageIdx===O&&(this._resumePageIdx=null,Pe(this,ee,at).call(this));const xe=this._pageMatches[O].length;xe>0&&(this._matchesCountTotal+=xe,Pe(this,ve,wt).call(this))},S=new WeakSet,St=function(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let I=0,he=this._linkService.pagesCount;I<he;I++){const B=(0,f.createPromiseCapability)();this._extractTextPromises[I]=B.promise,O=O.then(()=>this._pdfDocument.getPage(I+1).then(te=>te.getTextContent()).then(te=>{const x=[];for(const oe of te.items)x.push(oe.str),oe.hasEOL&&x.push("\n");[this._pageContents[I],this._pageDiffs[I],this._hasDiacritics[I]]=L(x.join("")),B.resolve()},te=>{console.error(`Unable to get text content for page ${I+1}`,te),this._pageContents[I]="",this._pageDiffs[I]=null,this._hasDiacritics[I]=!1,B.resolve()}))}},j=new WeakSet,Xe=function(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})},W=new WeakSet,qe=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,je=function(){const O=this._state.findPrevious,I=this._linkService.page-1,he=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=I,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Pe(this,W,qe).call(this);for(let te=0;te<he;te++)this._pendingFindMatches.has(te)||(this._pendingFindMatches.add(te),this._extractTextPromises[te].then(()=>{this._pendingFindMatches.delete(te),Pe(this,h,Ct).call(this,te)}))}if(""===Se(this,V,rt))return void Pe(this,Ee,Ge).call(this,m.FOUND);if(this._resumePageIdx)return;const B=this._offset;if(this._pagesToSearch=he,null!==B.matchIdx){const te=this._pageMatches[B.pageIdx].length;if(!O&&B.matchIdx+1<te||O&&B.matchIdx>0)return B.matchIdx=O?B.matchIdx-1:B.matchIdx+1,void Pe(this,N,Ye).call(this,!0);Pe(this,ce,ot).call(this,O)}Pe(this,ee,at).call(this)},ge=new WeakSet,Pt=function(O){const I=this._offset,he=O.length,B=this._state.findPrevious;return he?(I.matchIdx=B?he-1:0,Pe(this,N,Ye).call(this,!0),!0):(Pe(this,ce,ot).call(this,B),!!(I.wrapped&&(I.matchIdx=null,this._pagesToSearch<0))&&(Pe(this,N,Ye).call(this,!1),!0))},ee=new WeakSet,at=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const I=this._offset.pageIdx;if(O=this._pageMatches[I],!O){this._resumePageIdx=I;break}}while(!Pe(this,ge,Pt).call(this,O))},ce=new WeakSet,ot=function(O){const I=this._offset,he=this._linkService.pagesCount;I.pageIdx=O?I.pageIdx-1:I.pageIdx+1,I.matchIdx=null,this._pagesToSearch--,(I.pageIdx>=he||I.pageIdx<0)&&(I.pageIdx=O?he-1:0,I.wrapped=!0)},N=new WeakSet,Ye=function(O=!1){let I=m.NOT_FOUND;const he=this._offset.wrapped;if(this._offset.wrapped=!1,O){const B=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,I=he?m.WRAPPED:m.FOUND,-1!==B&&B!==this._selected.pageIdx&&Pe(this,j,Xe).call(this,B)}Pe(this,Ee,Ge).call(this,I,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Pe(this,j,Xe).call(this,this._selected.pageIdx))},Ae=new WeakSet,xt=function(O){const I=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||I&&this._pdfDocument!==I||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Pe(this,Ee,Ge).call(this,m.FOUND),this._highlightMatches=!1,Pe(this,W,qe).call(this))})},_e=new WeakSet,lt=function(){const{pageIdx:O,matchIdx:I}=this._selected;let he=0,B=this._matchesCountTotal;if(-1!==I){for(let te=0;te<O;te++)he+=this._pageMatches[te]?.length||0;he+=I+1}return(he<1||he>B)&&(he=B=0),{current:he,total:B}},ve=new WeakSet,wt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Pe(this,_e,lt).call(this)})},Ee=new WeakSet,Ge=function(O,I=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:I,matchesCount:Pe(this,_e,lt).call(this),rawQuery:this._state?.query??null})},d.PDFFindController=class F{constructor({linkService:O,eventBus:I}){we(this,U),we(this,X),we(this,V),we(this,K),we(this,ue),we(this,o),we(this,t),we(this,h),we(this,S),we(this,j),we(this,W),we(this,Q),we(this,ge),we(this,ee),we(this,ce),we(this,N),we(this,Ae),we(this,_e),we(this,ve),we(this,Ee),this._linkService=O,this._eventBus=I,Pe(this,X,it).call(this),I._on("find",Pe(this,U,bt).bind(this)),I._on("findbarclose",Pe(this,Ae,xt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&Pe(this,X,it).call(this),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}scrollMatchIntoView({element:O=null,selectedLeft:I=0,pageIndex:he=-1,matchIndex:B=-1}){this._scrollMatches&&O&&-1!==B&&B===this._selected.matchIdx&&-1!==he&&he===this._selected.pageIdx&&(this._scrollMatches=!1,(0,b.scrollIntoView)(O,{top:-50,left:I+-400},!0))}}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterType=void 0,d.getCharacterType=function n(r){return function b(r){return r<11904}(r)?function f(r){return 0==(65408&r)}(r)?function i(r){return 32===r||9===r||13===r||10===r}(r)?P.SPACE:function a(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function m(r){return r>=48&&r<=57}(r)||95===r?P.ALPHA_LETTER:P.PUNCT:function p(r){return 3584==(65408&r)}(r)?P.THAI_LETTER:160===r?P.SPACE:P.ALPHA_LETTER:function s(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?P.HAN_LETTER:function u(r){return r>=12448&&r<=12543}(r)?P.KATAKANA_LETTER:function T(r){return r>=12352&&r<=12447}(r)?P.HIRAGANA_LETTER:function g(r){return r>=65376&&r<=65439}(r)?P.HALFWIDTH_KATAKANA_LETTER:P.ALPHA_LETTER};const P={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};d.CharacterType=P},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFHistory=void 0,d.isDestArraysEqual=g,d.isDestHashesEqual=T;var b=P(6),f=P(17);function s(){return document.location.hash}function T(p,n){return"string"==typeof p&&"string"==typeof n&&(p===n||(0,b.parseQueryString)(p).get("nameddest")===n)}function g(p,n){function r(v,A){if(typeof v!=typeof A||Array.isArray(v)||Array.isArray(A))return!1;if(null!==v&&"object"==typeof v&&null!==A){if(Object.keys(v).length!==Object.keys(A).length)return!1;for(const y in v)if(!r(v[y],A[y]))return!1;return!0}return v===A||Number.isNaN(v)&&Number.isNaN(A)}if(!Array.isArray(p)||!Array.isArray(n)||p.length!==n.length)return!1;for(let v=0,A=p.length;v<A;v++)if(!r(p[v],n[v]))return!1;return!0}d.PDFHistory=class u{constructor({linkService:n,eventBus:r}){this.linkService=n,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:r=!1,updateUrl:v=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const A=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===v,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||r){const{hash:R,page:F,rotation:U}=this._parseCurrentHash(!0);return!R||A||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:R,page:F,rotation:U},!0)}const L=y.destination;this._updateInternalState(L,y.uid,!0),void 0!==L.rotation&&(this._initialRotation=L.rotation),L.dest?(this._initialBookmark=JSON.stringify(L.dest),this._destination.page=null):L.hash?this._initialBookmark=L.hash:L.page&&(this._initialBookmark=`page=${L.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:r,pageNumber:v}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(v)&&(null!==v||this._destination))return void console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);const A=n||JSON.stringify(r);if(!A)return;let y=!1;if(this._destination&&(T(this._destination.hash,A)||g(this._destination.dest,r))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:r,hash:A,page:v,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,r=!1){const v=r||!this._destination,A={fingerprint:this._fingerprint,uid:v?this._uid:this._uid+1,destination:n};let y;if(this._updateInternalState(n,A.uid),this._updateUrl&&n?.hash){const L=document.location.href.split("#")[0];L.startsWith("file://")||(y=`${L}#${n.hash}`)}v?window.history.replaceState(A,"",y):window.history.pushState(A,"",y)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let r=this._position;if(n&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let v=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;v=!0}this._pushOrReplaceState(r,v)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,r=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[v]=performance.getEntriesByType("navigation");if("reload"!==v?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,r,v=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),v&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const r=unescape(s()).substring(1),v=(0,b.parseQueryString)(r),A=v.get("nameddest")||"";let y=0|v.get("page");return(!this._isValidPage(y)||n&&A.length>0)&&(y=null),{hash:r,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const r=s(),v=this._currentHash!==r;if(this._currentHash=r,!n){this._uid++;const{hash:y,page:L,rotation:R}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:y,page:L,rotation:R},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,f.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const A=n.destination;this._updateInternalState(A,n.uid,!0),(0,b.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFScriptingManager=void 0;var b=P(6),f=P(3);d.PDFScriptingManager=class a{constructor({eventBus:i,sandboxBundleSrc:s=null,scriptingFactory:u=null,docPropertiesLookup:T=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=s,this._scriptingFactory=u,this._docPropertiesLookup=T,this._scriptingFactory||window.addEventListener("updatefromsandbox",g=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:g.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var s=this;return _(function*(){if(s._pdfDocument&&(yield s._destroyScripting()),s._pdfDocument=i,!i)return;const[u,T,g]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(u||g){if(i===s._pdfDocument){try{s._scripting=s._createScripting()}catch(p){return console.error(`PDFScriptingManager.setDocument: "${p?.message}".`),void(yield s._destroyScripting())}s._internalEvents.set("updatefromsandbox",p=>{p?.source===window&&s._updateFromSandbox(p.detail)}),s._internalEvents.set("dispatcheventinsandbox",p=>{s._scripting?.dispatchEventInSandbox(p.detail)}),s._internalEvents.set("pagechanging",({pageNumber:p,previous:n})=>{p!==n&&(s._dispatchPageClose(n),s._dispatchPageOpen(p))}),s._internalEvents.set("pagerendered",({pageNumber:p})=>{!s._pageOpenPending.has(p)||p===s._pdfViewer.currentPageNumber&&s._dispatchPageOpen(p)}),s._internalEvents.set("pagesdestroy",function(){var p=_(function*(n){yield s._dispatchPageClose(s._pdfViewer.currentPageNumber),yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),s._closeCapability?.resolve()});return function(n){return p.apply(this,arguments)}}()),s._domEvents.set("mousedown",p=>{s._mouseState.isDown=!0}),s._domEvents.set("mouseup",p=>{s._mouseState.isDown=!1});for(const[p,n]of s._internalEvents)s._eventBus._on(p,n);for(const[p,n]of s._domEvents)window.addEventListener(p,n,!0);try{const p=yield s._getDocProperties();if(i!==s._pdfDocument)return;yield s._scripting.createSandbox({objects:u,calculationOrder:T,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...p,actions:g}}),s._eventBus.dispatch("sandboxcreated",{source:s})}catch(p){return console.error(`PDFScriptingManager.setDocument: "${p?.message}".`),void(yield s._destroyScripting())}yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield s._dispatchPageOpen(s._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===s._pdfDocument&&(s._ready=!0)})}}else yield s._destroyScripting()})()}dispatchWillSave(i){var s=this;return _(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var s=this;return _(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var s=this;return _(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var s=this;return _(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,f.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,f.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,f.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,f.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var s=this;return _(function*(){const u=s._pdfViewer.isInPresentationMode||s._pdfViewer.isChangingPresentationMode,{id:T,siblings:g,command:p,value:n}=i;if(!T){switch(p){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(u)return;const v=(0,b.apiPageLayoutToViewerModes)(n);s._pdfViewer.spreadMode=v.spreadMode;break;case"page-num":s._pdfViewer.currentPageNumber=n+1;break;case"print":yield s._pdfViewer.pagesPromise,s._eventBus.dispatch("print",{source:s});break;case"println":console.log(n);break;case"zoom":if(u)return;s._pdfViewer.currentScaleValue=n;break;case"SaveAs":s._eventBus.dispatch("save",{source:s});break;case"FirstPage":s._pdfViewer.currentPageNumber=1;break;case"LastPage":s._pdfViewer.currentPageNumber=s._pdfViewer.pagesCount;break;case"NextPage":s._pdfViewer.nextPage();break;case"PrevPage":s._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;s._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;s._pdfViewer.decreaseScale()}return}if(u&&i.focus)return;delete i.id,delete i.siblings;const r=g?[T,...g]:[T];for(const v of r){const A=document.getElementById(v);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):s._pdfDocument?.annotationStorage.setValue(v,i)}})()}_dispatchPageOpen(i,s=!1){var u=this;return _(function*(){const T=u._pdfDocument,g=u._visitedPages;if(s&&(u._closeCapability=(0,f.createPromiseCapability)()),!u._closeCapability)return;const p=u._pdfViewer.getPageView(i-1);if(p?.renderingState!==b.RenderingStates.FINISHED)return void u._pageOpenPending.add(i);u._pageOpenPending.delete(i);const n=_(function*(){const r=yield g.has(i)?null:p.pdfPage?.getJSActions();T===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:r}))})();g.set(i,n)})()}_dispatchPageClose(i){var s=this;return _(function*(){const u=s._pdfDocument,T=s._visitedPages;if(!s._closeCapability||s._pageOpenPending.has(i))return;const g=T.get(i);!g||(T.set(i,null),yield g,u===s._pdfDocument&&(yield s._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return _(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:s}=P(24);return s(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,f.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=P(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return _(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(s=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[s,u]of i._internalEvents)i._eventBus._off(s,u);i._internalEvents.clear();for(const[s,u]of i._domEvents)window.removeEventListener(s,u,!0);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(D,d,P)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericScripting=void 0,d.docPropertiesLookup=function f(i){return a.apply(this,arguments)};var b=P(3);function a(){return(a=_(function*(i){const u="".split("#")[0];let{info:T,metadata:g,contentDispositionFilename:p,contentLength:n}=yield i.getMetadata();if(!n){const{length:r}=yield i.getDownloadInfo();n=r}return{...T,baseURL:u,filesize:n,filename:p||(0,b.getPdfFilenameFromUrl)(""),metadata:g?.getRaw(),authors:g?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}d.GenericScripting=class m{constructor(s){this._ready=(0,b.loadScript)(s,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(s){var u=this;return _(function*(){(yield u._ready).create(s)})()}dispatchEventInSandbox(s){var u=this;return _(function*(){const T=yield u._ready;setTimeout(()=>T.dispatchEvent(s),0)})()}destroySandbox(){var s=this;return _(function*(){(yield s._ready).nukeSandbox()})()}}}],le={};function e(D){var d=le[D];if(void 0!==d)return d.exports;var P=le[D]={exports:{}};return pe[D](P,P.exports,e),P.exports}var J={};return(()=>{var D=J;Object.defineProperty(D,"__esModule",{value:!0}),Object.defineProperty(D,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(D,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return d.DefaultAnnotationLayerFactory}}),Object.defineProperty(D,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return d.DefaultStructTreeLayerFactory}}),Object.defineProperty(D,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return d.DefaultTextLayerFactory}}),Object.defineProperty(D,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return d.DefaultXfaLayerFactory}}),Object.defineProperty(D,"DownloadManager",{enumerable:!0,get:function(){return m.DownloadManager}}),Object.defineProperty(D,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(D,"GenericL10n",{enumerable:!0,get:function(){return s.GenericL10n}}),Object.defineProperty(D,"LinkTarget",{enumerable:!0,get:function(){return P.LinkTarget}}),Object.defineProperty(D,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(D,"PDFFindController",{enumerable:!0,get:function(){return T.PDFFindController}}),Object.defineProperty(D,"PDFHistory",{enumerable:!0,get:function(){return g.PDFHistory}}),Object.defineProperty(D,"PDFLinkService",{enumerable:!0,get:function(){return P.PDFLinkService}}),Object.defineProperty(D,"PDFPageView",{enumerable:!0,get:function(){return p.PDFPageView}}),Object.defineProperty(D,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(D,"PDFSinglePageViewer",{enumerable:!0,get:function(){return f.PDFSinglePageViewer}}),Object.defineProperty(D,"PDFViewer",{enumerable:!0,get:function(){return f.PDFViewer}}),Object.defineProperty(D,"ProgressBar",{enumerable:!0,get:function(){return b.ProgressBar}}),Object.defineProperty(D,"SimpleLinkService",{enumerable:!0,get:function(){return P.SimpleLinkService}}),Object.defineProperty(D,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(D,"TextLayerBuilder",{enumerable:!0,get:function(){return v.TextLayerBuilder}}),Object.defineProperty(D,"XfaLayerBuilder",{enumerable:!0,get:function(){return A.XfaLayerBuilder}}),Object.defineProperty(D,"parseQueryString",{enumerable:!0,get:function(){return b.parseQueryString}});var d=e(1),P=e(5),b=e(6),f=e(10),a=e(2),m=e(16),i=e(17),s=e(18),u=e(4),T=e(20),g=e(22),p=e(12),n=e(23),r=e(7),v=e(8),A=e(9)})(),J})(),me.exports=e()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:me=>{function k(_,pe,le,e,J,D,d){try{var P=_[D](d),b=P.value}catch(f){return void le(f)}P.done?pe(b):Promise.resolve(b).then(e,J)}me.exports=function ie(_){return function(){var pe=this,le=arguments;return new Promise(function(e,J){var D=_.apply(pe,le);function d(b){k(D,e,J,d,P,"next",b)}function P(b){k(D,e,J,d,P,"throw",b)}d(void 0)})}},me.exports.__esModule=!0,me.exports.default=me.exports}}]);